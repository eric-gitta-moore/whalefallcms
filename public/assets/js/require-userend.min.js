if(!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function i(e){var t=!!e&&"length"in e&&e.length,i=re.type(e);return"function"!==i&&!re.isWindow(e)&&("array"===i||0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e,t,i){if(re.isFunction(t))return re.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return re.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(me.test(t))return re.filter(t,e,i);t=re.filter(t,e)}return re.grep(e,function(e){return Z.call(t,e)>-1!==i})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(e){var t={};return re.each(e.match(xe)||[],function(e,i){t[i]=!0}),t}function a(){X.removeEventListener("DOMContentLoaded",a),e.removeEventListener("load",a),re.ready()}function s(){this.expando=re.expando+s.uid++}function l(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(Re,"-$&").toLowerCase(),i=e.getAttribute(n),"string"==typeof i){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:ke.test(i)?re.parseJSON(i):i)}catch(e){}Ce.set(e,t,i)}else i=void 0;return i}function c(e,t,i,n){var o,r=1,a=20,s=n?function(){return n.cur()}:function(){return re.css(e,t,"")},l=s(),c=i&&i[3]||(re.cssNumber[t]?"":"px"),u=(re.cssNumber[t]||"px"!==c&&+l)&&Oe.exec(re.css(e,t));if(u&&u[3]!==c){c=c||u[3],i=i||[],u=+l||1;do r=r||".5",u/=r,re.style(e,t,u+c);while(r!==(r=s()/l)&&1!==r&&--a)}return i&&(u=+u||+l||0,o=i[1]?u+(i[1]+1)*i[2]:+i[2],n&&(n.unit=c,n.start=u,n.end=o)),o}function u(e,t){var i="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&re.nodeName(e,t)?re.merge([e],i):i}function d(e,t){for(var i=0,n=e.length;n>i;i++)Ee.set(e[i],"globalEval",!t||Ee.get(t[i],"globalEval"))}function p(e,t,i,n,o){for(var r,a,s,l,c,p,f=t.createDocumentFragment(),h=[],m=0,g=e.length;g>m;m++)if(r=e[m],r||0===r)if("object"===re.type(r))re.merge(h,r.nodeType?[r]:r);else if(Pe.test(r)){for(a=a||f.appendChild(t.createElement("div")),s=(Fe.exec(r)||["",""])[1].toLowerCase(),l=Le[s]||Le._default,a.innerHTML=l[1]+re.htmlPrefilter(r)+l[2],p=l[0];p--;)a=a.lastChild;re.merge(h,a.childNodes),a=f.firstChild,a.textContent=""}else h.push(t.createTextNode(r));for(f.textContent="",m=0;r=h[m++];)if(n&&re.inArray(r,n)>-1)o&&o.push(r);else if(c=re.contains(r.ownerDocument,r),a=u(f.appendChild(r),"script"),c&&d(a),i)for(p=0;r=a[p++];)Me.test(r.type||"")&&i.push(r);return f}function f(){return!0}function h(){return!1}function m(){try{return X.activeElement}catch(e){}}function g(e,t,i,n,o,r){var a,s;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=void 0);for(s in t)g(e,s,i,n,t[s],r);return e}if(null==n&&null==o?(o=i,n=i=void 0):null==o&&("string"==typeof i?(o=n,n=void 0):(o=n,n=i,i=void 0)),o===!1)o=h;else if(!o)return e;return 1===r&&(a=o,o=function(e){return re().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=re.guid++)),e.each(function(){re.event.add(this,t,o,n,i)})}function y(e,t){return re.nodeName(e,"table")&&re.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function v(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function b(e){var t=qe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function w(e,t){var i,n,o,r,a,s,l,c;if(1===t.nodeType){if(Ee.hasData(e)&&(r=Ee.access(e),a=Ee.set(t,r),c=r.events)){delete a.handle,a.events={};for(o in c)for(i=0,n=c[o].length;n>i;i++)re.event.add(t,o,c[o][i])}Ce.hasData(e)&&(s=Ce.access(e),l=re.extend({},s),Ce.set(t,l))}}function x(e,t){var i=t.nodeName.toLowerCase();"input"===i&&Ne.test(e.type)?t.checked=e.checked:"input"!==i&&"textarea"!==i||(t.defaultValue=e.defaultValue)}function _(e,t,i,n){t=Q.apply([],t);var o,r,a,s,l,c,d=0,f=e.length,h=f-1,m=t[0],g=re.isFunction(m);if(g||f>1&&"string"==typeof m&&!ne.checkClone&&Ue.test(m))return e.each(function(o){var r=e.eq(o);g&&(t[0]=m.call(this,o,r.html())),_(r,t,i,n)});if(f&&(o=p(t,e[0].ownerDocument,!1,e,n),r=o.firstChild,1===o.childNodes.length&&(o=r),r||n)){for(a=re.map(u(o,"script"),v),s=a.length;f>d;d++)l=o,d!==h&&(l=re.clone(l,!0,!0),s&&re.merge(a,u(l,"script"))),i.call(e[d],l,d);if(s)for(c=a[a.length-1].ownerDocument,re.map(a,b),d=0;s>d;d++)l=a[d],Me.test(l.type||"")&&!Ee.access(l,"globalEval")&&re.contains(c,l)&&(l.src?re._evalUrl&&re._evalUrl(l.src):re.globalEval(l.textContent.replace(Ye,"")))}return e}function S(e,t,i){for(var n,o=t?re.filter(t,e):e,r=0;null!=(n=o[r]);r++)i||1!==n.nodeType||re.cleanData(u(n)),n.parentNode&&(i&&re.contains(n.ownerDocument,n)&&d(u(n,"script")),n.parentNode.removeChild(n));return e}function T(e,t){var i=re(t.createElement(e)).appendTo(t.body),n=re.css(i[0],"display");return i.detach(),n}function E(e){var t=X,i=Ve[e];return i||(i=T(e,t),"none"!==i&&i||(We=(We||re("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=We[0].contentDocument,t.write(),t.close(),i=T(e,t),We.detach()),Ve[e]=i),i}function C(e,t,i){var n,o,r,a,s=e.style;return i=i||Je(e),a=i?i.getPropertyValue(t)||i[t]:void 0,""!==a&&void 0!==a||re.contains(e.ownerDocument,e)||(a=re.style(e,t)),i&&!ne.pixelMarginRight()&&Xe.test(a)&&Ge.test(t)&&(n=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=i.width,s.width=n,s.minWidth=o,s.maxWidth=r),void 0!==a?a+"":a}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function R(e){if(e in nt)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=it.length;i--;)if(e=it[i]+t,e in nt)return e}function A(e,t,i){var n=Oe.exec(t);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):t}function O(e,t,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===i&&(a+=re.css(e,i+De[r],!0,o)),n?("content"===i&&(a-=re.css(e,"padding"+De[r],!0,o)),"margin"!==i&&(a-=re.css(e,"border"+De[r]+"Width",!0,o))):(a+=re.css(e,"padding"+De[r],!0,o),"padding"!==i&&(a+=re.css(e,"border"+De[r]+"Width",!0,o)));return a}function D(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,r=Je(e),a="border-box"===re.css(e,"boxSizing",!1,r);if(0>=o||null==o){if(o=C(e,t,r),(0>o||null==o)&&(o=e.style[t]),Xe.test(o))return o;n=a&&(ne.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+O(e,t,i||(a?"border":"content"),n,r)+"px"}function I(e,t){for(var i,n,o,r=[],a=0,s=e.length;s>a;a++)n=e[a],n.style&&(r[a]=Ee.get(n,"olddisplay"),i=n.style.display,t?(r[a]||"none"!==i||(n.style.display=""),""===n.style.display&&Ie(n)&&(r[a]=Ee.access(n,"olddisplay",E(n.nodeName)))):(o=Ie(n),"none"===i&&o||Ee.set(n,"olddisplay",o?i:re.css(n,"display"))));for(a=0;s>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[a]||"":"none"));return e}function N(e,t,i,n,o){return new N.prototype.init(e,t,i,n,o)}function F(){return e.setTimeout(function(){ot=void 0}),ot=re.now()}function M(e,t){var i,n=0,o={height:e};for(t=t?1:0;4>n;n+=2-t)i=De[n],o["margin"+i]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function L(e,t,i){for(var n,o=(j.tweeners[t]||[]).concat(j.tweeners["*"]),r=0,a=o.length;a>r;r++)if(n=o[r].call(i,t,e))return n}function P(e,t,i){var n,o,r,a,s,l,c,u,d=this,p={},f=e.style,h=e.nodeType&&Ie(e),m=Ee.get(e,"fxshow");i.queue||(s=re._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,re.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],c=re.css(e,"display"),u="none"===c?Ee.get(e,"olddisplay")||E(e.nodeName):c,"inline"===u&&"none"===re.css(e,"float")&&(f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],at.exec(o)){if(delete t[n],r=r||"toggle"===o,o===(h?"hide":"show")){if("show"!==o||!m||void 0===m[n])continue;h=!0}p[n]=m&&m[n]||re.style(e,n)}else c=void 0;if(re.isEmptyObject(p))"inline"===("none"===c?E(e.nodeName):c)&&(f.display=c);else{m?"hidden"in m&&(h=m.hidden):m=Ee.access(e,"fxshow",{}),r&&(m.hidden=!h),h?re(e).show():d.done(function(){re(e).hide()}),d.done(function(){var t;Ee.remove(e,"fxshow");for(t in p)re.style(e,t,p[t])});for(n in p)a=L(h?m[n]:0,n,d),n in m||(m[n]=a.start,h&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function $(e,t){var i,n,o,r,a;for(i in e)if(n=re.camelCase(i),o=t[n],r=e[i],re.isArray(r)&&(o=r[1],r=e[i]=r[0]),i!==n&&(e[n]=r,delete e[i]),a=re.cssHooks[n],a&&"expand"in a){r=a.expand(r),delete e[n];for(i in r)i in e||(e[i]=r[i],t[i]=o)}else t[n]=o}function j(e,t,i){var n,o,r=0,a=j.prefilters.length,s=re.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=ot||F(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,r=1-n,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(r);return s.notifyWith(e,[c,r,i]),1>r&&l?i:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:re.extend({},t),opts:re.extend(!0,{specialEasing:{},easing:re.easing._default},i),originalProperties:t,originalOptions:i,startTime:ot||F(),duration:i.duration,tweens:[],createTween:function(t,i){var n=re.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)c.tweens[i].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for($(u,c.opts.specialEasing);a>r;r++)if(n=j.prefilters[r].call(c,e,u,c.opts))return re.isFunction(n.stop)&&(re._queueHooks(c.elem,c.opts.queue).stop=re.proxy(n.stop,n)),n;return re.map(u,L,c),re.isFunction(c.opts.start)&&c.opts.start.call(e,c),re.fx.timer(re.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function H(e){return e.getAttribute&&e.getAttribute("class")||""}function z(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,r=t.toLowerCase().match(xe)||[];if(re.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function B(e,t,i,n){function o(s){var l;return r[s]=!0,re.each(e[s]||[],function(e,s){var c=s(t,i,n);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}var r={},a=e===Ct;return o(t.dataTypes[0])||!r["*"]&&o("*")}function U(e,t){var i,n,o=re.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&re.extend(!0,e,n),e}function q(e,t,i){for(var n,o,r,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in s)if(s[o]&&s[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}return r?(r!==l[0]&&l.unshift(r),i[r]):void 0}function Y(e,t,i,n){var o,r,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(r=u.shift();r;)if(e.responseFields[r]&&(i[e.responseFields[r]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(a=c[l+" "+r]||c["* "+r],!a)for(o in c)if(s=o.split(" "),s[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[o]:c[o]!==!0&&(r=s[0],u.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+r}}}return{state:"success",data:t}}function W(e,t,i,n){var o;if(re.isArray(t))re.each(t,function(t,o){i||Ot.test(e)?n(e,o):W(e+"["+("object"==typeof o&&null!=o?t:"")+"]",o,i,n)});else if(i||"object"!==re.type(t))n(e,t);else for(o in t)W(e+"["+o+"]",t[o],i,n)}function V(e){return re.isWindow(e)?e:9===e.nodeType&&e.defaultView}var G=[],X=e.document,J=G.slice,Q=G.concat,K=G.push,Z=G.indexOf,ee={},te=ee.toString,ie=ee.hasOwnProperty,ne={},oe="2.2.4",re=function(e,t){return new re.fn.init(e,t)},ae=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,se=/^-ms-/,le=/-([\da-z])/gi,ce=function(e,t){return t.toUpperCase()};re.fn=re.prototype={jquery:oe,constructor:re,selector:"",length:0,toArray:function(){return J.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:J.call(this)},pushStack:function(e){var t=re.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return re.each(this,e)},map:function(e){return this.pushStack(re.map(this,function(t,i){return e.call(t,i,t)}))},slice:function(){return this.pushStack(J.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:K,sort:G.sort,splice:G.splice},re.extend=re.fn.extend=function(){var e,t,i,n,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||re.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)i=a[t],n=e[t],a!==n&&(c&&n&&(re.isPlainObject(n)||(o=re.isArray(n)))?(o?(o=!1,r=i&&re.isArray(i)?i:[]):r=i&&re.isPlainObject(i)?i:{},a[t]=re.extend(c,r,n)):void 0!==n&&(a[t]=n));return a},re.extend({expando:"jQuery"+(oe+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===re.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!re.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==re.type(e)||e.nodeType||re.isWindow(e))return!1;if(e.constructor&&!ie.call(e,"constructor")&&!ie.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||ie.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[te.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;e=re.trim(e),e&&(1===e.indexOf("use strict")?(t=X.createElement("script"),t.text=e,X.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(se,"ms-").replace(le,ce)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,o=0;if(i(e))for(n=e.length;n>o&&t.call(e[o],o,e[o])!==!1;o++);else for(o in e)if(t.call(e[o],o,e[o])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ae,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?re.merge(n,"string"==typeof e?[e]:e):K.call(n,e)),n},inArray:function(e,t,i){return null==t?-1:Z.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;i>n;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n,o=[],r=0,a=e.length,s=!i;a>r;r++)n=!t(e[r],r),n!==s&&o.push(e[r]);return o},map:function(e,t,n){var o,r,a=0,s=[];if(i(e))for(o=e.length;o>a;a++)r=t(e[a],a,n),null!=r&&s.push(r);else for(a in e)r=t(e[a],a,n),null!=r&&s.push(r);return Q.apply([],s)},guid:1,proxy:function(e,t){var i,n,o;return"string"==typeof t&&(i=e[t],t=e,e=i),re.isFunction(e)?(n=J.call(arguments,2),o=function(){return e.apply(t||this,n.concat(J.call(arguments)))},o.guid=e.guid=e.guid||re.guid++,o):void 0},now:Date.now,support:ne}),"function"==typeof Symbol&&(re.fn[Symbol.iterator]=G[Symbol.iterator]),re.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()});var ue=function(e){function t(e,t,i,n){var o,r,a,s,l,c,d,f,h=t&&t.ownerDocument,m=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==m&&9!==m&&11!==m)return i;if(!n&&((t?t.ownerDocument||t:H)!==I&&D(t),t=t||I,F)){if(11!==m&&(c=ye.exec(e)))if(o=c[1]){if(9===m){if(!(a=t.getElementById(o)))return i;if(a.id===o)return i.push(a),i}else if(h&&(a=h.getElementById(o))&&$(t,a)&&a.id===o)return i.push(a),i}else{if(c[2])return K.apply(i,t.getElementsByTagName(e)),i;if((o=c[3])&&x.getElementsByClassName&&t.getElementsByClassName)return K.apply(i,t.getElementsByClassName(o)),i}if(x.qsa&&!Y[e+" "]&&(!M||!M.test(e))){if(1!==m)h=t,f=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=j),d=E(e),r=d.length,l=pe.test(s)?"#"+s:"[id='"+s+"']";r--;)d[r]=l+" "+p(d[r]);f=d.join(","),h=ve.test(e)&&u(t.parentNode)||t}if(f)try{return K.apply(i,h.querySelectorAll(f)),i}catch(e){}finally{s===j&&t.removeAttribute("id")}}}return k(e.replace(se,"$1"),t,i,n)}function i(){function e(i,n){return t.push(i+" ")>_.cacheLength&&delete e[t.shift()],e[i+" "]=n}var t=[];return e}function n(e){return e[j]=!0,e}function o(e){var t=I.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=i.length;n--;)_.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||V)-(~e.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function s(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function l(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(i,n){for(var o,r=e([],i.length,t),a=r.length;a--;)i[o=r[a]]&&(i[o]=!(n[o]=i[o]))})})}function u(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function p(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,o=i&&"parentNode"===n,r=B++;return t.first?function(t,i,r){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,r)}:function(t,i,a){var s,l,c,u=[z,r];if(a){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,a))return!0}else for(;t=t[n];)if(1===t.nodeType||o){if(c=t[j]||(t[j]={}),l=c[t.uniqueID]||(c[t.uniqueID]={}),(s=l[n])&&s[0]===z&&s[1]===r)return u[2]=s[2];if(l[n]=u,u[2]=e(t,i,a))return!0}}}function h(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function m(e,i,n){for(var o=0,r=i.length;r>o;o++)t(e,i[o],n);return n}function g(e,t,i,n,o){for(var r,a=[],s=0,l=e.length,c=null!=t;l>s;s++)(r=e[s])&&(i&&!i(r,n,o)||(a.push(r),c&&t.push(s)));return a}function y(e,t,i,o,r,a){return o&&!o[j]&&(o=y(o)),r&&!r[j]&&(r=y(r,a)),n(function(n,a,s,l){var c,u,d,p=[],f=[],h=a.length,y=n||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!n&&t?y:g(y,p,e,s,l),b=i?r||(n?e:h||o)?[]:a:v;if(i&&i(v,b,s,l),o)for(c=g(b,f),o(c,[],s,l),u=c.length;u--;)(d=c[u])&&(b[f[u]]=!(v[f[u]]=d));if(n){if(r||e){if(r){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(v[u]=d);r(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=r?ee(n,d):p[u])>-1&&(n[c]=!(a[c]=d))}}else b=g(b===a?b.splice(h,b.length):b),r?r(null,a,b,l):K.apply(a,b)})}function v(e){for(var t,i,n,o=e.length,r=_.relative[e[0].type],a=r||_.relative[" "],s=r?1:0,l=f(function(e){return e===t},a,!0),c=f(function(e){return ee(t,e)>-1},a,!0),u=[function(e,i,n){var o=!r&&(n||i!==R)||((t=i).nodeType?l(e,i,n):c(e,i,n));return t=null,o}];o>s;s++)if(i=_.relative[e[s].type])u=[f(h(u),i)];else{if(i=_.filter[e[s].type].apply(null,e[s].matches),i[j]){for(n=++s;o>n&&!_.relative[e[n].type];n++);return y(s>1&&h(u),s>1&&p(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),i,n>s&&v(e.slice(s,n)),o>n&&v(e=e.slice(n)),o>n&&p(e))}u.push(i)}return h(u)}function b(e,i){var o=i.length>0,r=e.length>0,a=function(n,a,s,l,c){var u,d,p,f=0,h="0",m=n&&[],y=[],v=R,b=n||r&&_.find.TAG("*",c),w=z+=null==v?1:Math.random()||.1,x=b.length;for(c&&(R=a===I||a||c);h!==x&&null!=(u=b[h]);h++){if(r&&u){for(d=0,a||u.ownerDocument===I||(D(u),s=!F);p=e[d++];)if(p(u,a||I,s)){l.push(u);break}c&&(z=w)}o&&((u=!p&&u)&&f--,n&&m.push(u))}if(f+=h,o&&h!==f){for(d=0;p=i[d++];)p(m,y,a,s);if(n){if(f>0)for(;h--;)m[h]||y[h]||(y[h]=J.call(l));y=g(y)}K.apply(l,y),c&&!n&&y.length>0&&f+i.length>1&&t.uniqueSort(l)}return c&&(z=w,R=v),m};return o?n(a):a}var w,x,_,S,T,E,C,k,R,A,O,D,I,N,F,M,L,P,$,j="sizzle"+1*new Date,H=e.document,z=0,B=0,U=i(),q=i(),Y=i(),W=function(e,t){return e===t&&(O=!0),0},V=1<<31,G={}.hasOwnProperty,X=[],J=X.pop,Q=X.push,K=X.push,Z=X.slice,ee=function(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",ne="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe="\\["+ie+"*("+ne+")(?:"+ie+"*([*^$|!~]?=)"+ie+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ne+"))|)"+ie+"*\\]",re=":("+ne+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",ae=new RegExp(ie+"+","g"),se=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),ce=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),ue=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),de=new RegExp(re),pe=new RegExp("^"+ne+"$"),fe={ID:new RegExp("^#("+ne+")"),CLASS:new RegExp("^\\.("+ne+")"),TAG:new RegExp("^("+ne+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+re),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),xe=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},_e=function(){D()};try{K.apply(X=Z.call(H.childNodes),H.childNodes),X[H.childNodes.length].nodeType}catch(e){K={apply:X.length?function(e,t){Q.apply(e,Z.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}x=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},D=t.setDocument=function(e){var t,i,n=e?e.ownerDocument||e:H;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,N=I.documentElement,F=!T(I),(i=I.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",_e,!1):i.attachEvent&&i.attachEvent("onunload",_e)),x.attributes=o(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=o(function(e){return e.appendChild(I.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ge.test(I.getElementsByClassName),x.getById=o(function(e){return N.appendChild(e).id=j,!I.getElementsByName||!I.getElementsByName(j).length}),x.getById?(_.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&F){var i=t.getElementById(e);return i?[i]:[]}},_.filter.ID=function(e){var t=e.replace(we,xe);return function(e){return e.getAttribute("id")===t}}):(delete _.find.ID,_.filter.ID=function(e){var t=e.replace(we,xe);return function(e){var i="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return i&&i.value===t}}),_.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var i,n=[],o=0,r=t.getElementsByTagName(e);if("*"===e){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},_.find.CLASS=x.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&F?t.getElementsByClassName(e):void 0},L=[],M=[],(x.qsa=ge.test(I.querySelectorAll))&&(o(function(e){N.appendChild(e).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ie+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ie+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+j+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+j+"+*").length||M.push(".#.+[+~]")}),o(function(e){var t=I.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ie+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(x.matchesSelector=ge.test(P=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&o(function(e){x.disconnectedMatch=P.call(e,"div"),P.call(e,"[s!='']:x"),L.push("!=",re)}),M=M.length&&new RegExp(M.join("|")),L=L.length&&new RegExp(L.join("|")),t=ge.test(N.compareDocumentPosition),$=t||ge.test(N.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return O=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i?i:(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&i||!x.sortDetached&&t.compareDocumentPosition(e)===i?e===I||e.ownerDocument===H&&$(H,e)?-1:t===I||t.ownerDocument===H&&$(H,t)?1:A?ee(A,e)-ee(A,t):0:4&i?-1:1)}:function(e,t){if(e===t)return O=!0,0;var i,n=0,o=e.parentNode,r=t.parentNode,s=[e],l=[t];if(!o||!r)return e===I?-1:t===I?1:o?-1:r?1:A?ee(A,e)-ee(A,t):0;if(o===r)return a(e,t);for(i=e;i=i.parentNode;)s.unshift(i);for(i=t;i=i.parentNode;)l.unshift(i);for(;s[n]===l[n];)n++;return n?a(s[n],l[n]):s[n]===H?-1:l[n]===H?1:0},I):I},t.matches=function(e,i){return t(e,null,null,i)},t.matchesSelector=function(e,i){if((e.ownerDocument||e)!==I&&D(e),i=i.replace(ue,"='$1']"),x.matchesSelector&&F&&!Y[i+" "]&&(!L||!L.test(i))&&(!M||!M.test(i)))try{var n=P.call(e,i);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return t(i,I,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==I&&D(e),$(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==I&&D(e);var i=_.attrHandle[t.toLowerCase()],n=i&&G.call(_.attrHandle,t.toLowerCase())?i(e,t,!F):void 0;return void 0!==n?n:x.attributes||!F?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,i=[],n=0,o=0;if(O=!x.detectDuplicates,A=!x.sortStable&&e.slice(0),e.sort(W),O){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return A=null,e},S=t.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=S(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=S(t);return i},_=t.selectors={cacheLength:50,createPseudo:n,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,xe),e[3]=(e[3]||e[4]||e[5]||"").replace(we,xe),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&de.test(i)&&(t=E(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,xe).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=U[e+" "];return t||(t=new RegExp("(^|"+ie+")"+e+"("+ie+"|$)"))&&U(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,i,n){return function(o){var r=t.attr(o,e);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(ae," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,i,n,o){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var c,u,d,p,f,h,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!l&&!s,b=!1;if(g){if(r){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&v){for(p=g,d=p[j]||(p[j]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],f=c[0]===z&&c[1],b=f&&c[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(b=f=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){u[e]=[z,f,b];break}}else if(v&&(p=t,d=p[j]||(p[j]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),c=u[e]||[],f=c[0]===z&&c[1],b=f),b===!1)for(;(p=++f&&p&&p[m]||(b=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++b||(v&&(d=p[j]||(p[j]={}),u=d[p.uniqueID]||(d[p.uniqueID]={}),u[e]=[z,b]),p!==t)););return b-=o,b===n||b%n===0&&b/n>=0}}},PSEUDO:function(e,i){var o,r=_.pseudos[e]||_.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return r[j]?r(i):r.length>1?(o=[e,e,"",i],_.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,o=r(e,i),a=o.length;a--;)n=ee(e,o[a]),e[n]=!(t[n]=o[a])}):function(e){return r(e,0,o)}):r}},pseudos:{not:n(function(e){var t=[],i=[],o=C(e.replace(se,"$1"));return o[j]?n(function(e,t,i,n){for(var r,a=o(e,null,n,[]),s=e.length;s--;)(r=a[s])&&(e[s]=!(t[s]=r))}):function(e,n,r){return t[0]=e,o(t,null,r,i),t[0]=null,!i.pop()}}),has:n(function(e){return function(i){return t(e,i).length>0}}),contains:n(function(e){return e=e.replace(we,xe),function(t){return(t.textContent||t.innerText||S(t)).indexOf(e)>-1}}),lang:n(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,xe).toLowerCase(),function(t){var i;do if(i=F?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!_.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,i){return[0>i?i+t:i]}),even:c(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:c(function(e,t){
for(var i=1;t>i;i+=2)e.push(i);return e}),lt:c(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:c(function(e,t,i){for(var n=0>i?i+t:i;++n<t;)e.push(n);return e})}},_.pseudos.nth=_.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})_.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})_.pseudos[w]=l(w);return d.prototype=_.filters=_.pseudos,_.setFilters=new d,E=t.tokenize=function(e,i){var n,o,r,a,s,l,c,u=q[e+" "];if(u)return i?0:u.slice(0);for(s=e,l=[],c=_.preFilter;s;){n&&!(o=le.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=ce.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(se," ")}),s=s.slice(n.length));for(a in _.filter)!(o=fe[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return i?s.length:s?t.error(e):q(e,l).slice(0)},C=t.compile=function(e,t){var i,n=[],o=[],r=Y[e+" "];if(!r){for(t||(t=E(e)),i=t.length;i--;)r=v(t[i]),r[j]?n.push(r):o.push(r);r=Y(e,b(o,n)),r.selector=e}return r},k=t.select=function(e,t,i,n){var o,r,a,s,l,c="function"==typeof e&&e,d=!n&&E(e=c.selector||e);if(i=i||[],1===d.length){if(r=d[0]=d[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&x.getById&&9===t.nodeType&&F&&_.relative[r[1].type]){if(t=(_.find.ID(a.matches[0].replace(we,xe),t)||[])[0],!t)return i;c&&(t=t.parentNode),e=e.slice(r.shift().value.length)}for(o=fe.needsContext.test(e)?0:r.length;o--&&(a=r[o],!_.relative[s=a.type]);)if((l=_.find[s])&&(n=l(a.matches[0].replace(we,xe),ve.test(r[0].type)&&u(t.parentNode)||t))){if(r.splice(o,1),e=n.length&&p(r),!e)return K.apply(i,n),i;break}}return(c||C(e,d))(n,t,!F,i,!t||ve.test(e)&&u(t.parentNode)||t),i},x.sortStable=j.split("").sort(W).join("")===j,x.detectDuplicates=!!O,D(),x.sortDetached=o(function(e){return 1&e.compareDocumentPosition(I.createElement("div"))}),o(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,t,i){return i?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&o(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),o(function(e){return null==e.getAttribute("disabled")})||r(te,function(e,t,i){var n;return i?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);re.find=ue,re.expr=ue.selectors,re.expr[":"]=re.expr.pseudos,re.uniqueSort=re.unique=ue.uniqueSort,re.text=ue.getText,re.isXMLDoc=ue.isXML,re.contains=ue.contains;var de=function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&re(e).is(i))break;n.push(e)}return n},pe=function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i},fe=re.expr.match.needsContext,he=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,me=/^.[^:#\[\.,]*$/;re.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?re.find.matchesSelector(n,e)?[n]:[]:re.find.matches(e,re.grep(t,function(e){return 1===e.nodeType}))},re.fn.extend({find:function(e){var t,i=this.length,n=[],o=this;if("string"!=typeof e)return this.pushStack(re(e).filter(function(){for(t=0;i>t;t++)if(re.contains(o[t],this))return!0}));for(t=0;i>t;t++)re.find(e,o[t],n);return n=this.pushStack(i>1?re.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&fe.test(e)?re(e):e||[],!1).length}});var ge,ye=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ve=re.fn.init=function(e,t,i){var n,o;if(!e)return this;if(i=i||ge,"string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ye.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof re?t[0]:t,re.merge(this,re.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),he.test(n[1])&&re.isPlainObject(t))for(n in t)re.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return o=X.getElementById(n[2]),o&&o.parentNode&&(this.length=1,this[0]=o),this.context=X,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):re.isFunction(e)?void 0!==i.ready?i.ready(e):e(re):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),re.makeArray(e,this))};ve.prototype=re.fn,ge=re(X);var be=/^(?:parents|prev(?:Until|All))/,we={children:!0,contents:!0,next:!0,prev:!0};re.fn.extend({has:function(e){var t=re(e,this),i=t.length;return this.filter(function(){for(var e=0;i>e;e++)if(re.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,n=0,o=this.length,r=[],a=fe.test(e)||"string"!=typeof e?re(e,t||this.context):0;o>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(a?a.index(i)>-1:1===i.nodeType&&re.find.matchesSelector(i,e))){r.push(i);break}return this.pushStack(r.length>1?re.uniqueSort(r):r)},index:function(e){return e?"string"==typeof e?Z.call(re(e),this[0]):Z.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(re.uniqueSort(re.merge(this.get(),re(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),re.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return de(e,"parentNode")},parentsUntil:function(e,t,i){return de(e,"parentNode",i)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return de(e,"nextSibling")},prevAll:function(e){return de(e,"previousSibling")},nextUntil:function(e,t,i){return de(e,"nextSibling",i)},prevUntil:function(e,t,i){return de(e,"previousSibling",i)},siblings:function(e){return pe((e.parentNode||{}).firstChild,e)},children:function(e){return pe(e.firstChild)},contents:function(e){return e.contentDocument||re.merge([],e.childNodes)}},function(e,t){re.fn[e]=function(i,n){var o=re.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=re.filter(n,o)),this.length>1&&(we[e]||re.uniqueSort(o),be.test(e)&&o.reverse()),this.pushStack(o)}});var xe=/\S+/g;re.Callbacks=function(e){e="string"==typeof e?r(e):re.extend({},e);var t,i,n,o,a=[],s=[],l=-1,c=function(){for(o=e.once,n=t=!0;s.length;l=-1)for(i=s.shift();++l<a.length;)a[l].apply(i[0],i[1])===!1&&e.stopOnFalse&&(l=a.length,i=!1);e.memory||(i=!1),t=!1,o&&(a=i?[]:"")},u={add:function(){return a&&(i&&!t&&(l=a.length-1,s.push(i)),function t(i){re.each(i,function(i,n){re.isFunction(n)?e.unique&&u.has(n)||a.push(n):n&&n.length&&"string"!==re.type(n)&&t(n)})}(arguments),i&&!t&&c()),this},remove:function(){return re.each(arguments,function(e,t){for(var i;(i=re.inArray(t,a,i))>-1;)a.splice(i,1),l>=i&&l--}),this},has:function(e){return e?re.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=i="",this},disabled:function(){return!a},lock:function(){return o=s=[],i||(a=i=""),this},locked:function(){return!!o},fireWith:function(e,i){return o||(i=i||[],i=[e,i.slice?i.slice():i],s.push(i),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},re.extend({Deferred:function(e){var t=[["resolve","done",re.Callbacks("once memory"),"resolved"],["reject","fail",re.Callbacks("once memory"),"rejected"],["notify","progress",re.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return re.Deferred(function(i){re.each(t,function(t,r){var a=re.isFunction(e[t])&&e[t];o[r[1]](function(){var e=a&&a.apply(this,arguments);e&&re.isFunction(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[r[0]+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?re.extend(e,n):n}},o={};return n.pipe=n.then,re.each(t,function(e,r){var a=r[2],s=r[3];n[r[1]]=a.add,s&&a.add(function(){i=s},t[1^e][2].disable,t[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=a.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t,i,n,o=0,r=J.call(arguments),a=r.length,s=1!==a||e&&re.isFunction(e.promise)?a:0,l=1===s?e:re.Deferred(),c=function(e,i,n){return function(o){i[e]=this,n[e]=arguments.length>1?J.call(arguments):o,n===t?l.notifyWith(i,n):--s||l.resolveWith(i,n)}};if(a>1)for(t=new Array(a),i=new Array(a),n=new Array(a);a>o;o++)r[o]&&re.isFunction(r[o].promise)?r[o].promise().progress(c(o,i,t)).done(c(o,n,r)).fail(l.reject):--s;return s||l.resolveWith(n,r),l.promise()}});var _e;re.fn.ready=function(e){return re.ready.promise().done(e),this},re.extend({isReady:!1,readyWait:1,holdReady:function(e){e?re.readyWait++:re.ready(!0)},ready:function(e){(e===!0?--re.readyWait:re.isReady)||(re.isReady=!0,e!==!0&&--re.readyWait>0||(_e.resolveWith(X,[re]),re.fn.triggerHandler&&(re(X).triggerHandler("ready"),re(X).off("ready"))))}}),re.ready.promise=function(t){return _e||(_e=re.Deferred(),"complete"===X.readyState||"loading"!==X.readyState&&!X.documentElement.doScroll?e.setTimeout(re.ready):(X.addEventListener("DOMContentLoaded",a),e.addEventListener("load",a))),_e.promise(t)},re.ready.promise();var Se=function(e,t,i,n,o,r,a){var s=0,l=e.length,c=null==i;if("object"===re.type(i)){o=!0;for(s in i)Se(e,t,s,i[s],!0,r,a)}else if(void 0!==n&&(o=!0,re.isFunction(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(re(e),i)})),t))for(;l>s;s++)t(e[s],i,a?n:n.call(e[s],s,t(e[s],i)));return o?e:c?t.call(e):l?t(e[0],i):r},Te=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};s.uid=1,s.prototype={register:function(e,t){var i=t||{};return e.nodeType?e[this.expando]=i:Object.defineProperty(e,this.expando,{value:i,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!Te(e))return{};var t=e[this.expando];return t||(t={},Te(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,i){var n,o=this.cache(e);if("string"==typeof t)o[t]=i;else for(n in t)o[n]=t[n];return o},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?(n=this.get(e,t),void 0!==n?n:this.get(e,re.camelCase(t))):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,o,r=e[this.expando];if(void 0!==r){if(void 0===t)this.register(e);else{re.isArray(t)?n=t.concat(t.map(re.camelCase)):(o=re.camelCase(t),t in r?n=[t,o]:(n=o,n=n in r?[n]:n.match(xe)||[])),i=n.length;for(;i--;)delete r[n[i]]}(void 0===t||re.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!re.isEmptyObject(t)}};var Ee=new s,Ce=new s,ke=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Re=/[A-Z]/g;re.extend({hasData:function(e){return Ce.hasData(e)||Ee.hasData(e)},data:function(e,t,i){return Ce.access(e,t,i)},removeData:function(e,t){Ce.remove(e,t)},_data:function(e,t,i){return Ee.access(e,t,i)},_removeData:function(e,t){Ee.remove(e,t)}}),re.fn.extend({data:function(e,t){var i,n,o,r=this[0],a=r&&r.attributes;if(void 0===e){if(this.length&&(o=Ce.get(r),1===r.nodeType&&!Ee.get(r,"hasDataAttrs"))){for(i=a.length;i--;)a[i]&&(n=a[i].name,0===n.indexOf("data-")&&(n=re.camelCase(n.slice(5)),l(r,n,o[n])));Ee.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof e?this.each(function(){Ce.set(this,e)}):Se(this,function(t){var i,n;if(r&&void 0===t){if(i=Ce.get(r,e)||Ce.get(r,e.replace(Re,"-$&").toLowerCase()),void 0!==i)return i;if(n=re.camelCase(e),i=Ce.get(r,n),void 0!==i)return i;if(i=l(r,n,void 0),void 0!==i)return i}else n=re.camelCase(e),this.each(function(){var i=Ce.get(this,n);Ce.set(this,n,t),e.indexOf("-")>-1&&void 0!==i&&Ce.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Ce.remove(this,e)})}}),re.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=Ee.get(e,t),i&&(!n||re.isArray(i)?n=Ee.access(e,t,re.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var i=re.queue(e,t),n=i.length,o=i.shift(),r=re._queueHooks(e,t),a=function(){re.dequeue(e,t)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete r.stop,o.call(e,a,r)),!n&&r&&r.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Ee.get(e,i)||Ee.access(e,i,{empty:re.Callbacks("once memory").add(function(){Ee.remove(e,[t+"queue",i])})})}}),re.fn.extend({queue:function(e,t){var i=2;return"string"!=typeof e&&(t=e,e="fx",i--),arguments.length<i?re.queue(this[0],e):void 0===t?this:this.each(function(){var i=re.queue(this,e,t);re._queueHooks(this,e),"fx"===e&&"inprogress"!==i[0]&&re.dequeue(this,e)})},dequeue:function(e){return this.each(function(){re.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=re.Deferred(),r=this,a=this.length,s=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)i=Ee.get(r[a],e+"queueHooks"),i&&i.empty&&(n++,i.empty.add(s));return s(),o.promise(t)}});var Ae=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp("^(?:([+-])=|)("+Ae+")([a-z%]*)$","i"),De=["Top","Right","Bottom","Left"],Ie=function(e,t){return e=t||e,"none"===re.css(e,"display")||!re.contains(e.ownerDocument,e)},Ne=/^(?:checkbox|radio)$/i,Fe=/<([\w:-]+)/,Me=/^$|\/(?:java|ecma)script/i,Le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Le.optgroup=Le.option,Le.tbody=Le.tfoot=Le.colgroup=Le.caption=Le.thead,Le.th=Le.td;var Pe=/<|&#?\w+;/;!function(){var e=X.createDocumentFragment(),t=e.appendChild(X.createElement("div")),i=X.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),t.appendChild(i),ne.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ne.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var $e=/^key/,je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,He=/^([^.]*)(?:\.(.+)|)/;re.event={global:{},add:function(e,t,i,n,o){var r,a,s,l,c,u,d,p,f,h,m,g=Ee.get(e);if(g)for(i.handler&&(r=i,i=r.handler,o=r.selector),i.guid||(i.guid=re.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return"undefined"!=typeof re&&re.event.triggered!==t.type?re.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(xe)||[""],c=t.length;c--;)s=He.exec(t[c])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f&&(d=re.event.special[f]||{},f=(o?d.delegateType:d.bindType)||f,d=re.event.special[f]||{},u=re.extend({type:f,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&re.expr.match.needsContext.test(o),namespace:h.join(".")},r),(p=l[f])||(p=l[f]=[],p.delegateCount=0,d.setup&&d.setup.call(e,n,h,a)!==!1||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=i.guid)),o?p.splice(p.delegateCount++,0,u):p.push(u),re.event.global[f]=!0)},remove:function(e,t,i,n,o){var r,a,s,l,c,u,d,p,f,h,m,g=Ee.hasData(e)&&Ee.get(e);if(g&&(l=g.events)){for(t=(t||"").match(xe)||[""],c=t.length;c--;)if(s=He.exec(t[c])||[],f=m=s[1],h=(s[2]||"").split(".").sort(),f){for(d=re.event.special[f]||{},f=(n?d.delegateType:d.bindType)||f,p=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=p.length;r--;)u=p[r],!o&&m!==u.origType||i&&i.guid!==u.guid||s&&!s.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(p.splice(r,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&d.teardown.call(e,h,g.handle)!==!1||re.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)re.event.remove(e,f+t[c],i,n,!0);re.isEmptyObject(l)&&Ee.remove(e,"handle events")}},dispatch:function(e){e=re.event.fix(e);var t,i,n,o,r,a=[],s=J.call(arguments),l=(Ee.get(this,"events")||{})[e.type]||[],c=re.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=re.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(r.namespace)||(e.handleObj=r,e.data=r.data,n=((re.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,s),void 0!==n&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,r,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(n=[],i=0;s>i;i++)r=t[i],o=r.selector+" ",void 0===n[o]&&(n[o]=r.needsContext?re(o,this).index(l)>-1:re.find(o,this,null,[l]).length),n[o]&&n.push(r);n.length&&a.push({elem:l,handlers:n})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,r=t.button;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||X,n=i.documentElement,o=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),e.which||void 0===r||(e.which=1&r?1:2&r?3:4&r?2:0),e}},fix:function(e){if(e[re.expando])return e;var t,i,n,o=e.type,r=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=je.test(o)?this.mouseHooks:$e.test(o)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new re.Event(r),t=n.length;t--;)i=n[t],e[i]=r[i];return e.target||(e.target=X),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,r):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==m()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===m()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&re.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return re.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},re.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i)},re.Event=function(e,t){return this instanceof re.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:h):this.type=e,t&&re.extend(this,t),this.timeStamp=e&&e.timeStamp||re.now(),void(this[re.expando]=!0)):new re.Event(e,t)},re.Event.prototype={constructor:re.Event,isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},re.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){re.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,r=e.handleObj;return o&&(o===n||re.contains(n,o))||(e.type=r.origType,i=r.handler.apply(this,arguments),e.type=t),i}}}),re.fn.extend({on:function(e,t,i,n){return g(this,e,t,i,n)},one:function(e,t,i,n){return g(this,e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,re(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return t!==!1&&"function"!=typeof t||(i=t,t=void 0),i===!1&&(i=h),this.each(function(){re.event.remove(this,e,i,t)})}});var ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Be=/<script|<style|<link/i,Ue=/checked\s*(?:[^=]|=\s*.checked.)/i,qe=/^true\/(.*)/,Ye=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;re.extend({htmlPrefilter:function(e){return e.replace(ze,"<$1></$2>")},clone:function(e,t,i){var n,o,r,a,s=e.cloneNode(!0),l=re.contains(e.ownerDocument,e);if(!(ne.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||re.isXMLDoc(e)))for(a=u(s),r=u(e),n=0,o=r.length;o>n;n++)x(r[n],a[n]);if(t)if(i)for(r=r||u(e),a=a||u(s),n=0,o=r.length;o>n;n++)w(r[n],a[n]);else w(e,s);return a=u(s,"script"),a.length>0&&d(a,!l&&u(e,"script")),s},cleanData:function(e){for(var t,i,n,o=re.event.special,r=0;void 0!==(i=e[r]);r++)if(Te(i)){if(t=i[Ee.expando]){if(t.events)for(n in t.events)o[n]?re.event.remove(i,n):re.removeEvent(i,n,t.handle);i[Ee.expando]=void 0}i[Ce.expando]&&(i[Ce.expando]=void 0)}}}),re.fn.extend({domManip:_,detach:function(e){return S(this,e,!0)},remove:function(e){return S(this,e)},text:function(e){return Se(this,function(e){return void 0===e?re.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.appendChild(e)}})},prepend:function(){return _(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=y(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return _(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(re.cleanData(u(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return re.clone(this,e,t)})},html:function(e){return Se(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Be.test(e)&&!Le[(Fe.exec(e)||["",""])[1].toLowerCase()]){e=re.htmlPrefilter(e);try{for(;n>i;i++)t=this[i]||{},1===t.nodeType&&(re.cleanData(u(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return _(this,arguments,function(t){var i=this.parentNode;re.inArray(this,e)<0&&(re.cleanData(u(this)),i&&i.replaceChild(t,this))},e)}}),re.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){re.fn[e]=function(e){for(var i,n=[],o=re(e),r=o.length-1,a=0;r>=a;a++)i=a===r?this:this.clone(!0),re(o[a])[t](i),K.apply(n,i.get());return this.pushStack(n)}});var We,Ve={HTML:"block",BODY:"block"},Ge=/^margin/,Xe=new RegExp("^("+Ae+")(?!px)[a-z%]+$","i"),Je=function(t){var i=t.ownerDocument.defaultView;return i&&i.opener||(i=e),i.getComputedStyle(t)},Qe=function(e,t,i,n){var o,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];o=i.apply(e,n||[]);for(r in t)e.style[r]=a[r];return o},Ke=X.documentElement;!function(){function t(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Ke.appendChild(a);var t=e.getComputedStyle(s);i="1%"!==t.top,r="2px"===t.marginLeft,n="4px"===t.width,s.style.marginRight="50%",o="4px"===t.marginRight,Ke.removeChild(a)}var i,n,o,r,a=X.createElement("div"),s=X.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ne.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),re.extend(ne,{pixelPosition:function(){return t(),i},boxSizingReliable:function(){return null==n&&t(),n},pixelMarginRight:function(){return null==n&&t(),o},reliableMarginLeft:function(){return null==n&&t(),r},reliableMarginRight:function(){var t,i=s.appendChild(X.createElement("div"));return i.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",s.style.width="1px",Ke.appendChild(a),t=!parseFloat(e.getComputedStyle(i).marginRight),Ke.removeChild(a),s.removeChild(i),t}}))}();var Ze=/^(none|table(?!-c[ea]).+)/,et={position:"absolute",visibility:"hidden",display:"block"},tt={letterSpacing:"0",fontWeight:"400"},it=["Webkit","O","Moz","ms"],nt=X.createElement("div").style;re.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=C(e,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,r,a,s=re.camelCase(t),l=e.style;return t=re.cssProps[s]||(re.cssProps[s]=R(s)||s),a=re.cssHooks[t]||re.cssHooks[s],void 0===i?a&&"get"in a&&void 0!==(o=a.get(e,!1,n))?o:l[t]:(r=typeof i,"string"===r&&(o=Oe.exec(i))&&o[1]&&(i=c(e,t,o),r="number"),void(null!=i&&i===i&&("number"===r&&(i+=o&&o[3]||(re.cssNumber[s]?"":"px")),ne.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(i=a.set(e,i,n))||(l[t]=i))))}},css:function(e,t,i,n){var o,r,a,s=re.camelCase(t);return t=re.cssProps[s]||(re.cssProps[s]=R(s)||s),a=re.cssHooks[t]||re.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,i)),void 0===o&&(o=C(e,t,n)),"normal"===o&&t in tt&&(o=tt[t]),""===i||i?(r=parseFloat(o),i===!0||isFinite(r)?r||0:o):o}}),re.each(["height","width"],function(e,t){re.cssHooks[t]={get:function(e,i,n){return i?Ze.test(re.css(e,"display"))&&0===e.offsetWidth?Qe(e,et,function(){return D(e,t,n)}):D(e,t,n):void 0},set:function(e,i,n){var o,r=n&&Je(e),a=n&&O(e,t,n,"border-box"===re.css(e,"boxSizing",!1,r),r);return a&&(o=Oe.exec(i))&&"px"!==(o[3]||"px")&&(e.style[t]=i,i=re.css(e,t)),A(e,i,a)}}}),re.cssHooks.marginLeft=k(ne.reliableMarginLeft,function(e,t){return t?(parseFloat(C(e,"marginLeft"))||e.getBoundingClientRect().left-Qe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px":void 0}),re.cssHooks.marginRight=k(ne.reliableMarginRight,function(e,t){return t?Qe(e,{display:"inline-block"},C,[e,"marginRight"]):void 0}),re.each({margin:"",padding:"",border:"Width"},function(e,t){re.cssHooks[e+t]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];4>n;n++)o[e+De[n]+t]=r[n]||r[n-2]||r[0];return o}},Ge.test(e)||(re.cssHooks[e+t].set=A)}),re.fn.extend({css:function(e,t){return Se(this,function(e,t,i){var n,o,r={},a=0;if(re.isArray(t)){for(n=Je(e),o=t.length;o>a;a++)r[t[a]]=re.css(e,t[a],!1,n);return r}return void 0!==i?re.style(e,t,i):re.css(e,t)},e,t,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ie(this)?re(this).show():re(this).hide()})}}),re.Tween=N,N.prototype={constructor:N,init:function(e,t,i,n,o,r){this.elem=e,this.prop=i,this.easing=o||re.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=r||(re.cssNumber[i]?"":"px")},cur:function(){var e=N.propHooks[this.prop];return e&&e.get?e.get(this):N.propHooks._default.get(this)},run:function(e){var t,i=N.propHooks[this.prop];return this.options.duration?this.pos=t=re.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=re.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){re.fx.step[e.prop]?re.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[re.cssProps[e.prop]]&&!re.cssHooks[e.prop]?e.elem[e.prop]=e.now:re.style(e.elem,e.prop,e.now+e.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},re.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},re.fx=N.prototype.init,re.fx.step={};var ot,rt,at=/^(?:toggle|show|hide)$/,st=/queueHooks$/;re.Animation=re.extend(j,{tweeners:{"*":[function(e,t){var i=this.createTween(e,t);return c(i.elem,e,Oe.exec(t),i),i}]},tweener:function(e,t){re.isFunction(e)?(t=e,e=["*"]):e=e.match(xe);for(var i,n=0,o=e.length;o>n;n++)i=e[n],j.tweeners[i]=j.tweeners[i]||[],j.tweeners[i].unshift(t)},prefilters:[P],prefilter:function(e,t){t?j.prefilters.unshift(e):j.prefilters.push(e)}}),re.speed=function(e,t,i){var n=e&&"object"==typeof e?re.extend({},e):{complete:i||!i&&t||re.isFunction(e)&&e,duration:e,easing:i&&t||t&&!re.isFunction(t)&&t};return n.duration=re.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in re.fx.speeds?re.fx.speeds[n.duration]:re.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(){re.isFunction(n.old)&&n.old.call(this),n.queue&&re.dequeue(this,n.queue)},n},re.fn.extend({fadeTo:function(e,t,i,n){return this.filter(Ie).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=re.isEmptyObject(e),r=re.speed(t,i,n),a=function(){var t=j(this,re.extend({},e),r);(o||Ee.get(this,"finish"))&&t.stop(!0)};return a.finish=a,o||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(e,t,i){var n=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,o=null!=e&&e+"queueHooks",r=re.timers,a=Ee.get(this);if(o)a[o]&&a[o].stop&&n(a[o]);else for(o in a)a[o]&&a[o].stop&&st.test(o)&&n(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=e&&r[o].queue!==e||(r[o].anim.stop(i),t=!1,r.splice(o,1));!t&&i||re.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=Ee.get(this),n=i[e+"queue"],o=i[e+"queueHooks"],r=re.timers,a=n?n.length:0;for(i.finish=!0,re.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),re.each(["toggle","show","hide"],function(e,t){var i=re.fn[t];re.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(M(t,!0),e,n,o)}}),re.each({slideDown:M("show"),slideUp:M("hide"),slideToggle:M("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){re.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),re.timers=[],re.fx.tick=function(){var e,t=0,i=re.timers;for(ot=re.now();t<i.length;t++)e=i[t],e()||i[t]!==e||i.splice(t--,1);
i.length||re.fx.stop(),ot=void 0},re.fx.timer=function(e){re.timers.push(e),e()?re.fx.start():re.timers.pop()},re.fx.interval=13,re.fx.start=function(){rt||(rt=e.setInterval(re.fx.tick,re.fx.interval))},re.fx.stop=function(){e.clearInterval(rt),rt=null},re.fx.speeds={slow:600,fast:200,_default:400},re.fn.delay=function(t,i){return t=re.fx?re.fx.speeds[t]||t:t,i=i||"fx",this.queue(i,function(i,n){var o=e.setTimeout(i,t);n.stop=function(){e.clearTimeout(o)}})},function(){var e=X.createElement("input"),t=X.createElement("select"),i=t.appendChild(X.createElement("option"));e.type="checkbox",ne.checkOn=""!==e.value,ne.optSelected=i.selected,t.disabled=!0,ne.optDisabled=!i.disabled,e=X.createElement("input"),e.value="t",e.type="radio",ne.radioValue="t"===e.value}();var lt,ct=re.expr.attrHandle;re.fn.extend({attr:function(e,t){return Se(this,re.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){re.removeAttr(this,e)})}}),re.extend({attr:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return"undefined"==typeof e.getAttribute?re.prop(e,t,i):(1===r&&re.isXMLDoc(e)||(t=t.toLowerCase(),o=re.attrHooks[t]||(re.expr.match.bool.test(t)?lt:void 0)),void 0!==i?null===i?void re.removeAttr(e,t):o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:(e.setAttribute(t,i+""),i):o&&"get"in o&&null!==(n=o.get(e,t))?n:(n=re.find.attr(e,t),null==n?void 0:n))},attrHooks:{type:{set:function(e,t){if(!ne.radioValue&&"radio"===t&&re.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},removeAttr:function(e,t){var i,n,o=0,r=t&&t.match(xe);if(r&&1===e.nodeType)for(;i=r[o++];)n=re.propFix[i]||i,re.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)}}),lt={set:function(e,t,i){return t===!1?re.removeAttr(e,i):e.setAttribute(i,i),i}},re.each(re.expr.match.bool.source.match(/\w+/g),function(e,t){var i=ct[t]||re.find.attr;ct[t]=function(e,t,n){var o,r;return n||(r=ct[t],ct[t]=o,o=null!=i(e,t,n)?t.toLowerCase():null,ct[t]=r),o}});var ut=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;re.fn.extend({prop:function(e,t){return Se(this,re.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[re.propFix[e]||e]})}}),re.extend({prop:function(e,t,i){var n,o,r=e.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&re.isXMLDoc(e)||(t=re.propFix[t]||t,o=re.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=re.find.attr(e,"tabindex");return t?parseInt(t,10):ut.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ne.optSelected||(re.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),re.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){re.propFix[this.toLowerCase()]=this});var pt=/[\t\r\n\f]/g;re.fn.extend({addClass:function(e){var t,i,n,o,r,a,s,l=0;if(re.isFunction(e))return this.each(function(t){re(this).addClass(e.call(this,t,H(this)))});if("string"==typeof e&&e)for(t=e.match(xe)||[];i=this[l++];)if(o=H(i),n=1===i.nodeType&&(" "+o+" ").replace(pt," ")){for(a=0;r=t[a++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=re.trim(n),o!==s&&i.setAttribute("class",s)}return this},removeClass:function(e){var t,i,n,o,r,a,s,l=0;if(re.isFunction(e))return this.each(function(t){re(this).removeClass(e.call(this,t,H(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(xe)||[];i=this[l++];)if(o=H(i),n=1===i.nodeType&&(" "+o+" ").replace(pt," ")){for(a=0;r=t[a++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");s=re.trim(n),o!==s&&i.setAttribute("class",s)}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):re.isFunction(e)?this.each(function(i){re(this).toggleClass(e.call(this,i,H(this),t),t)}):this.each(function(){var t,n,o,r;if("string"===i)for(n=0,o=re(this),r=e.match(xe)||[];t=r[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==i||(t=H(this),t&&Ee.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Ee.get(this,"__className__")||""))})},hasClass:function(e){var t,i,n=0;for(t=" "+e+" ";i=this[n++];)if(1===i.nodeType&&(" "+H(i)+" ").replace(pt," ").indexOf(t)>-1)return!0;return!1}});var ft=/\r/g,ht=/[\x20\t\r\n\f]+/g;re.fn.extend({val:function(e){var t,i,n,o=this[0];return arguments.length?(n=re.isFunction(e),this.each(function(i){var o;1===this.nodeType&&(o=n?e.call(this,i,re(this).val()):e,null==o?o="":"number"==typeof o?o+="":re.isArray(o)&&(o=re.map(o,function(e){return null==e?"":e+""})),t=re.valHooks[this.type]||re.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,o,"value")||(this.value=o))})):o?(t=re.valHooks[o.type]||re.valHooks[o.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(i=t.get(o,"value"))?i:(i=o.value,"string"==typeof i?i.replace(ft,""):null==i?"":i)):void 0}}),re.extend({valHooks:{option:{get:function(e){var t=re.find.attr(e,"value");return null!=t?t:re.trim(re.text(e)).replace(ht," ")}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,r="select-one"===e.type||0>o,a=r?null:[],s=r?o+1:n.length,l=0>o?s:r?o:0;s>l;l++)if(i=n[l],(i.selected||l===o)&&(ne.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!re.nodeName(i.parentNode,"optgroup"))){if(t=re(i).val(),r)return t;a.push(t)}return a},set:function(e,t){for(var i,n,o=e.options,r=re.makeArray(t),a=o.length;a--;)n=o[a],(n.selected=re.inArray(re.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(e.selectedIndex=-1),r}}}}),re.each(["radio","checkbox"],function(){re.valHooks[this]={set:function(e,t){return re.isArray(t)?e.checked=re.inArray(re(e).val(),t)>-1:void 0}},ne.checkOn||(re.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var mt=/^(?:focusinfocus|focusoutblur)$/;re.extend(re.event,{trigger:function(t,i,n,o){var r,a,s,l,c,u,d,p=[n||X],f=ie.call(t,"type")?t.type:t,h=ie.call(t,"namespace")?t.namespace.split("."):[];if(a=s=n=n||X,3!==n.nodeType&&8!==n.nodeType&&!mt.test(f+re.event.triggered)&&(f.indexOf(".")>-1&&(h=f.split("."),f=h.shift(),h.sort()),c=f.indexOf(":")<0&&"on"+f,t=t[re.expando]?t:new re.Event(f,"object"==typeof t&&t),t.isTrigger=o?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),i=null==i?[t]:re.makeArray(i,[t]),d=re.event.special[f]||{},o||!d.trigger||d.trigger.apply(n,i)!==!1)){if(!o&&!d.noBubble&&!re.isWindow(n)){for(l=d.delegateType||f,mt.test(l+f)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(n.ownerDocument||X)&&p.push(s.defaultView||s.parentWindow||e)}for(r=0;(a=p[r++])&&!t.isPropagationStopped();)t.type=r>1?l:d.bindType||f,u=(Ee.get(a,"events")||{})[t.type]&&Ee.get(a,"handle"),u&&u.apply(a,i),u=c&&a[c],u&&u.apply&&Te(a)&&(t.result=u.apply(a,i),t.result===!1&&t.preventDefault());return t.type=f,o||t.isDefaultPrevented()||d._default&&d._default.apply(p.pop(),i)!==!1||!Te(n)||c&&re.isFunction(n[f])&&!re.isWindow(n)&&(s=n[c],s&&(n[c]=null),re.event.triggered=f,n[f](),re.event.triggered=void 0,s&&(n[c]=s)),t.result}},simulate:function(e,t,i){var n=re.extend(new re.Event,i,{type:e,isSimulated:!0});re.event.trigger(n,null,t)}}),re.fn.extend({trigger:function(e,t){return this.each(function(){re.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?re.event.trigger(e,t,i,!0):void 0}}),re.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){re.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),re.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ne.focusin="onfocusin"in e,ne.focusin||re.each({focus:"focusin",blur:"focusout"},function(e,t){var i=function(e){re.event.simulate(t,e.target,re.event.fix(e))};re.event.special[t]={setup:function(){var n=this.ownerDocument||this,o=Ee.access(n,t);o||n.addEventListener(e,i,!0),Ee.access(n,t,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=Ee.access(n,t)-1;o?Ee.access(n,t,o):(n.removeEventListener(e,i,!0),Ee.remove(n,t))}}});var gt=e.location,yt=re.now(),vt=/\?/;re.parseJSON=function(e){return JSON.parse(e+"")},re.parseXML=function(t){var i;if(!t||"string"!=typeof t)return null;try{i=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||re.error("Invalid XML: "+t),i};var bt=/#.*$/,wt=/([?&])_=[^&]*/,xt=/^(.*?):[ \t]*([^\r\n]*)$/gm,_t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,St=/^(?:GET|HEAD)$/,Tt=/^\/\//,Et={},Ct={},kt="*/".concat("*"),Rt=X.createElement("a");Rt.href=gt.href,re.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:gt.href,type:"GET",isLocal:_t.test(gt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":re.parseJSON,"text xml":re.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,re.ajaxSettings),t):U(re.ajaxSettings,e)},ajaxPrefilter:z(Et),ajaxTransport:z(Ct),ajax:function(t,i){function n(t,i,n,s){var c,d,v,b,x,S=i;2!==w&&(w=2,l&&e.clearTimeout(l),o=void 0,a=s||"",_.readyState=t>0?4:0,c=t>=200&&300>t||304===t,n&&(b=q(p,_,n)),b=Y(p,b,_,c),c?(p.ifModified&&(x=_.getResponseHeader("Last-Modified"),x&&(re.lastModified[r]=x),x=_.getResponseHeader("etag"),x&&(re.etag[r]=x)),204===t||"HEAD"===p.type?S="nocontent":304===t?S="notmodified":(S=b.state,d=b.data,v=b.error,c=!v)):(v=S,!t&&S||(S="error",0>t&&(t=0))),_.status=t,_.statusText=(i||S)+"",c?m.resolveWith(f,[d,S,_]):m.rejectWith(f,[_,S,v]),_.statusCode(y),y=void 0,u&&h.trigger(c?"ajaxSuccess":"ajaxError",[_,p,c?d:v]),g.fireWith(f,[_,S]),u&&(h.trigger("ajaxComplete",[_,p]),--re.active||re.event.trigger("ajaxStop")))}"object"==typeof t&&(i=t,t=void 0),i=i||{};var o,r,a,s,l,c,u,d,p=re.ajaxSetup({},i),f=p.context||p,h=p.context&&(f.nodeType||f.jquery)?re(f):re.event,m=re.Deferred(),g=re.Callbacks("once memory"),y=p.statusCode||{},v={},b={},w=0,x="canceled",_={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!s)for(s={};t=xt.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=b[i]=b[i]||e,v[e]=t),this},overrideMimeType:function(e){return w||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)y[t]=[y[t],e[t]];else _.always(e[_.status]);return this},abort:function(e){var t=e||x;return o&&o.abort(t),n(0,t),this}};if(m.promise(_).complete=g.add,_.success=_.done,_.error=_.fail,p.url=((t||p.url||gt.href)+"").replace(bt,"").replace(Tt,gt.protocol+"//"),p.type=i.method||i.type||p.method||p.type,p.dataTypes=re.trim(p.dataType||"*").toLowerCase().match(xe)||[""],null==p.crossDomain){c=X.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Rt.protocol+"//"+Rt.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=re.param(p.data,p.traditional)),B(Et,p,i,_),2===w)return _;u=re.event&&p.global,u&&0===re.active++&&re.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!St.test(p.type),r=p.url,p.hasContent||(p.data&&(r=p.url+=(vt.test(r)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wt.test(r)?r.replace(wt,"$1_="+yt++):r+(vt.test(r)?"&":"?")+"_="+yt++)),p.ifModified&&(re.lastModified[r]&&_.setRequestHeader("If-Modified-Since",re.lastModified[r]),re.etag[r]&&_.setRequestHeader("If-None-Match",re.etag[r])),(p.data&&p.hasContent&&p.contentType!==!1||i.contentType)&&_.setRequestHeader("Content-Type",p.contentType),_.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+kt+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)_.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(f,_,p)===!1||2===w))return _.abort();x="abort";for(d in{success:1,error:1,complete:1})_[d](p[d]);if(o=B(Ct,p,i,_)){if(_.readyState=1,u&&h.trigger("ajaxSend",[_,p]),2===w)return _;p.async&&p.timeout>0&&(l=e.setTimeout(function(){_.abort("timeout")},p.timeout));try{w=1,o.send(v,n)}catch(e){if(!(2>w))throw e;n(-1,e)}}else n(-1,"No Transport");return _},getJSON:function(e,t,i){return re.get(e,t,i,"json")},getScript:function(e,t){return re.get(e,void 0,t,"script")}}),re.each(["get","post"],function(e,t){re[t]=function(e,i,n,o){return re.isFunction(i)&&(o=o||n,n=i,i=void 0),re.ajax(re.extend({url:e,type:t,dataType:o,data:i,success:n},re.isPlainObject(e)&&e))}}),re._evalUrl=function(e){return re.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},re.fn.extend({wrapAll:function(e){var t;return re.isFunction(e)?this.each(function(t){re(this).wrapAll(e.call(this,t))}):(this[0]&&(t=re(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return re.isFunction(e)?this.each(function(t){re(this).wrapInner(e.call(this,t))}):this.each(function(){var t=re(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=re.isFunction(e);return this.each(function(i){re(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){re.nodeName(this,"body")||re(this).replaceWith(this.childNodes)}).end()}}),re.expr.filters.hidden=function(e){return!re.expr.filters.visible(e)},re.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var At=/%20/g,Ot=/\[\]$/,Dt=/\r?\n/g,It=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;re.param=function(e,t){var i,n=[],o=function(e,t){t=re.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=re.ajaxSettings&&re.ajaxSettings.traditional),re.isArray(e)||e.jquery&&!re.isPlainObject(e))re.each(e,function(){o(this.name,this.value)});else for(i in e)W(i,e[i],t,o);return n.join("&").replace(At,"+")},re.fn.extend({serialize:function(){return re.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=re.prop(this,"elements");return e?re.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!re(this).is(":disabled")&&Nt.test(this.nodeName)&&!It.test(e)&&(this.checked||!Ne.test(e))}).map(function(e,t){var i=re(this).val();return null==i?null:re.isArray(i)?re.map(i,function(e){return{name:t.name,value:e.replace(Dt,"\r\n")}}):{name:t.name,value:i.replace(Dt,"\r\n")}}).get()}}),re.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Ft={0:200,1223:204},Mt=re.ajaxSettings.xhr();ne.cors=!!Mt&&"withCredentials"in Mt,ne.ajax=Mt=!!Mt,re.ajaxTransport(function(t){var i,n;return ne.cors||Mt&&!t.crossDomain?{send:function(o,r){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");for(a in o)s.setRequestHeader(a,o[a]);i=function(e){return function(){i&&(i=n=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(Ft[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=i(),n=s.onerror=i("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){i&&n()})},i=i("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(i)throw e}},abort:function(){i&&i()}}:void 0}),re.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return re.globalEval(e),e}}}),re.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),re.ajaxTransport("script",function(e){if(e.crossDomain){var t,i;return{send:function(n,o){t=re("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",i=function(e){t.remove(),i=null,e&&o("error"===e.type?404:200,e.type)}),X.head.appendChild(t[0])},abort:function(){i&&i()}}}});var Lt=[],Pt=/(=)\?(?=&|$)|\?\?/;re.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Lt.pop()||re.expando+"_"+yt++;return this[e]=!0,e}}),re.ajaxPrefilter("json jsonp",function(t,i,n){var o,r,a,s=t.jsonp!==!1&&(Pt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(o=t.jsonpCallback=re.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Pt,"$1"+o):t.jsonp!==!1&&(t.url+=(vt.test(t.url)?"&":"?")+t.jsonp+"="+o),t.converters["script json"]=function(){return a||re.error(o+" was not called"),a[0]},t.dataTypes[0]="json",r=e[o],e[o]=function(){a=arguments},n.always(function(){void 0===r?re(e).removeProp(o):e[o]=r,t[o]&&(t.jsonpCallback=i.jsonpCallback,Lt.push(o)),a&&re.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),re.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||X;var n=he.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=p([e],t,o),o&&o.length&&re(o).remove(),re.merge([],n.childNodes))};var $t=re.fn.load;re.fn.load=function(e,t,i){if("string"!=typeof e&&$t)return $t.apply(this,arguments);var n,o,r,a=this,s=e.indexOf(" ");return s>-1&&(n=re.trim(e.slice(s)),e=e.slice(0,s)),re.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&re.ajax({url:e,type:o||"GET",dataType:"html",data:t}).done(function(e){r=arguments,a.html(n?re("<div>").append(re.parseHTML(e)).find(n):e)}).always(i&&function(e,t){a.each(function(){i.apply(this,r||[e.responseText,t,e])})}),this},re.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){re.fn[t]=function(e){return this.on(t,e)}}),re.expr.filters.animated=function(e){return re.grep(re.timers,function(t){return e===t.elem}).length},re.offset={setOffset:function(e,t,i){var n,o,r,a,s,l,c,u=re.css(e,"position"),d=re(e),p={};"static"===u&&(e.style.position="relative"),s=d.offset(),r=re.css(e,"top"),l=re.css(e,"left"),c=("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1,c?(n=d.position(),a=n.top,o=n.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),re.isFunction(t)&&(t=t.call(e,i,re.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+o),"using"in t?t.using.call(e,p):d.css(p)}},re.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){re.offset.setOffset(this,e,t)});var t,i,n=this[0],o={top:0,left:0},r=n&&n.ownerDocument;return r?(t=r.documentElement,re.contains(t,n)?(o=n.getBoundingClientRect(),i=V(r),{top:o.top+i.pageYOffset-t.clientTop,left:o.left+i.pageXOffset-t.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===re.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),re.nodeName(e[0],"html")||(n=e.offset()),n.top+=re.css(e[0],"borderTopWidth",!0),n.left+=re.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-re.css(i,"marginTop",!0),left:t.left-n.left-re.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===re.css(e,"position");)e=e.offsetParent;return e||Ke})}}),re.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var i="pageYOffset"===t;re.fn[e]=function(n){return Se(this,function(e,n,o){var r=V(e);return void 0===o?r?r[t]:e[n]:void(r?r.scrollTo(i?r.pageXOffset:o,i?o:r.pageYOffset):e[n]=o)},e,n,arguments.length)}}),re.each(["top","left"],function(e,t){re.cssHooks[t]=k(ne.pixelPosition,function(e,i){return i?(i=C(e,t),Xe.test(i)?re(e).position()[t]+"px":i):void 0})}),re.each({Height:"height",Width:"width"},function(e,t){re.each({padding:"inner"+e,content:t,"":"outer"+e},function(i,n){re.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),a=i||(n===!0||o===!0?"margin":"border");return Se(this,function(t,i,n){var o;return re.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===n?re.css(t,i,a):re.style(t,i,n,a)},t,r?n:void 0,r,null)}})}),re.fn.extend({bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},size:function(){return this.length}}),re.fn.andSelf=re.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return re});var jt=e.jQuery,Ht=e.$;return re.noConflict=function(t){return e.$===re&&(e.$=Ht),t&&e.jQuery===re&&(e.jQuery=jt),re},t||(e.jQuery=e.$=re),re}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(e){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;return e(this).one("bsTransitionEnd",function(){i=!0}),setTimeout(function(){i||e(n).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){e(i).on("click",t,this.close)};i.VERSION="3.4.1",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var o=e(this),r=o.attr("data-target");r||(r=(r=o.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),r="#"===r?[]:r;var a=e(document).find(r);t&&t.preventDefault(),a.length||(a=o.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var n=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof t&&o[t].call(n)})},e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.bs.alert.data-api",t,i.prototype.close)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.button"),r="object"==typeof t&&t;o||n.data("bs.button",o=new i(this,r)),"toggle"==t?o.toggle():t&&o.setState(t)})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.isLoading=!1};i.VERSION="3.4.1",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(t){var i="disabled",n=this.$element,o=n.is("input")?"val":"html",r=n.data();t+="Text",null==r.resetText&&n.data("resetText",n[o]()),setTimeout(e.proxy(function(){n[o](null==r[t]?this.options[t]:r[t]),"loadingText"==t?(this.isLoading=!0,n.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),e&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=t,e.fn.button.Constructor=i,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var n=e(i.target).closest(".btn");t.call(n,"toggle"),e(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),n.is("input,button")?n.trigger("focus"):n.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.carousel"),r=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t),a="string"==typeof t?t:r.slide;o||n.data("bs.carousel",o=new i(this,r)),"number"==typeof t?o.to(t):a?o[a]():r.interval&&o.pause().cycle()})}var i=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};i.VERSION="3.4.1",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},i.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},i.prototype.getItemForDirection=function(e,t){var i=this.getItemIndex(t);if(("prev"==e&&0===i||"next"==e&&i==this.$items.length-1)&&!this.options.wrap)return t;var n=(i+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(n)},i.prototype.to=function(e){var t=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):i==e?this.pause().cycle():this.slide(i<e?"next":"prev",this.$items.eq(e))},i.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(t,n){var o=this.$element.find(".item.active"),r=n||this.getItemForDirection(t,o),a=this.interval,s="next"==t?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),"object"==typeof r&&r.length&&r[0].offsetWidth,o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",function(){r.removeClass([t,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(p)),a&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=i,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var o=function(i){var n=e(this),o=n.attr("href");o&&(o=o.replace(/.*(?=#[^\s]+$)/,""));var r=n.attr("data-target")||o,a=e(document).find(r);if(a.hasClass("carousel")){var s=e.extend({},a.data(),n.data()),l=n.attr("data-slide-to");l&&(s.interval=!1),t.call(a,s),l&&a.data("bs.carousel").to(l),i.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var i=e(this);t.call(i,i.data())})})}(jQuery),function(e){"use strict";function t(t){var i,n=t.attr("data-target")||(i=t.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return e(document).find(n)}function i(t){return this.each(function(){var i=e(this),o=i.data("bs.collapse"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);!o&&r.toggle&&/show|hide/.test(t)&&(r.toggle=!1),o||i.data("bs.collapse",o=new n(this,r)),"string"==typeof t&&o[t]()})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};n.VERSION="3.4.1",n.TRANSITION_DURATION=350,n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(t=o.data("bs.collapse"))&&t.transitioning)){var r=e.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),t||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(n.TRANSITION_DURATION)[a](this.$element[0][l])}}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){
var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return o.call(this);this.$element[i](0).one("bsTransitionEnd",e.proxy(o,this)).emulateTransitionEnd(n.TRANSITION_DURATION)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},n.prototype.getParent=function(){return e(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(i,n){var o=e(n);this.addAriaAndCollapsedClass(t(o),o)},this)).end()},n.prototype.addAriaAndCollapsedClass=function(e,t){var i=e.hasClass("in");e.attr("aria-expanded",i),t.toggleClass("collapsed",!i).attr("aria-expanded",i)};var o=e.fn.collapse;e.fn.collapse=i,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=o,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var o=e(this);o.attr("data-target")||n.preventDefault();var r=t(o),a=r.data("bs.collapse")?"toggle":o.data();i.call(r,a)})}(jQuery),function(e){"use strict";function t(t){var i=t.attr("data-target");i||(i=(i=t.attr("href"))&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n="#"!==i?e(document).find(i):null;return n&&n.length?n:t.parent()}function i(i){i&&3===i.which||(e(".dropdown-backdrop").remove(),e(n).each(function(){var n=e(this),o=t(n),r={relatedTarget:this};o.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&e.contains(o[0],i.target)||(o.trigger(i=e.Event("hide.bs.dropdown",r)),i.isDefaultPrevented()||(n.attr("aria-expanded","false"),o.removeClass("open").trigger(e.Event("hidden.bs.dropdown",r)))))}))}var n='[data-toggle="dropdown"]',o=function(t){e(t).on("click.bs.dropdown",this.toggle)};o.VERSION="3.4.1",o.prototype.toggle=function(n){var o=e(this);if(!o.is(".disabled, :disabled")){var r=t(o),a=r.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",i);var s={relatedTarget:this};if(r.trigger(n=e.Event("show.bs.dropdown",s)),n.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(e.Event("shown.bs.dropdown",s))}return!1}},o.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var o=e(this);if(i.preventDefault(),i.stopPropagation(),!o.is(".disabled, :disabled")){var r=t(o),a=r.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&r.find(n).trigger("focus"),o.trigger("click");var s=r.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(i.target);38==i.which&&0<l&&l--,40==i.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var i=e(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof t&&n[t].call(i)})},e.fn.dropdown.Constructor=o,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,o.prototype.toggle).on("keydown.bs.dropdown.data-api",n,o.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",o.prototype.keydown)}(jQuery),function(e){"use strict";function t(t,n){return this.each(function(){var o=e(this),r=o.data("bs.modal"),a=e.extend({},i.DEFAULTS,o.data(),"object"==typeof t&&t);r||o.data("bs.modal",r=new i(this,a)),"string"==typeof t?r[t](n):a.show&&r.show(n)})}var i=function(t,i){this.options=i,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.4.1",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},i.prototype.show=function(t){var n=this,o=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){n.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(n.$element)&&(n.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),n.adjustDialog(),o&&n.$element[0].offsetWidth,n.$element.addClass("in"),n.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});o?n.$dialog.one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(i.TRANSITION_DURATION):n.$element.trigger("focus").trigger(r)}))},i.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(t){var n=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&o;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var i=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",t+i),e(this.fixedContent).each(function(t,n){var o=n.style.paddingRight,r=e(n).css("padding-right");e(n).data("padding-right",o).css("padding-right",parseFloat(r)+i+"px")}))},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),e(this.fixedContent).each(function(t,i){var n=e(i).data("padding-right");e(i).removeData("padding-right"),i.style.paddingRight=n||""})},i.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var n=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=i,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var n=e(this),o=n.attr("href"),r=n.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,""),a=e(document).find(r),s=a.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(o)&&o},a.data(),n.data());n.is("a")&&i.preventDefault(),a.one("show.bs.modal",function(e){e.isDefaultPrevented()||a.one("hidden.bs.modal",function(){n.is(":visible")&&n.trigger("focus")})}),t.call(a,s,this)})}(jQuery),function(e){"use strict";function t(t,i){var n=t.nodeName.toLowerCase();if(-1!==e.inArray(n,i))return-1===e.inArray(n,o)||Boolean(t.nodeValue.match(a)||t.nodeValue.match(s));for(var r=e(i).filter(function(e,t){return t instanceof RegExp}),l=0,c=r.length;l<c;l++)if(n.match(r[l]))return!0;return!1}function i(i,n,o){if(0===i.length)return i;if(o&&"function"==typeof o)return o(i);if(!document.implementation||!document.implementation.createHTMLDocument)return i;var r=document.implementation.createHTMLDocument("sanitization");r.body.innerHTML=i;for(var a=e.map(n,function(e,t){return t}),s=e(r.body).find("*"),l=0,c=s.length;l<c;l++){var u=s[l],d=u.nodeName.toLowerCase();if(-1!==e.inArray(d,a))for(var p=e.map(u.attributes,function(e){return e}),f=[].concat(n["*"]||[],n[d]||[]),h=0,m=p.length;h<m;h++)t(p[h],f)||u.removeAttribute(p[h].nodeName);else u.parentNode.removeChild(u)}return r.body.innerHTML}var n=["sanitize","whiteList","sanitizeFn"],o=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],r={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},a=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,s=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,l=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};l.VERSION="3.4.1",l.TRANSITION_DURATION=150,l.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:r},l.prototype.init=function(t,i,n){if(this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&e(document).find(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},l.prototype.getDefaults=function(){return l.DEFAULTS},l.prototype.getOptions=function(t){var o=this.$element.data();for(var r in o)o.hasOwnProperty(r)&&-1!==e.inArray(r,n)&&delete o[r];return(t=e.extend({},this.getDefaults(),o,t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t.sanitize&&(t.template=i(t.template,t.whiteList,t.sanitizeFn)),t},l.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},l.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusin"==t.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState)i.hoverState="in";else{if(clearTimeout(i.timeout),i.hoverState="in",!i.options.delay||!i.options.delay.show)return i.show();i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)}},l.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},l.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i)),t instanceof e.Event&&(i.inState["focusout"==t.type?"focus":"hover"]=!1),!i.isInStateTrue()){if(clearTimeout(i.timeout),i.hoverState="out",!i.options.delay||!i.options.delay.hide)return i.hide();i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)}},l.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var n=this,o=this.tip(),r=this.getUID(this.type);this.setContent(),o.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,c=s.test(a);c&&(a=a.replace(s,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(e(document).find(this.options.container)):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var u=this.getPosition(),d=o[0].offsetWidth,p=o[0].offsetHeight;if(c){var f=a,h=this.getPosition(this.$viewport);a="bottom"==a&&u.bottom+p>h.bottom?"top":"top"==a&&u.top-p<h.top?"bottom":"right"==a&&u.right+d>h.width?"left":"left"==a&&u.left-d<h.left?"right":a,o.removeClass(f).addClass(a)}var m=this.getCalculatedOffset(a,u,d,p);this.applyPlacement(m,a);var g=function(){var e=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==e&&n.leave(n)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(l.TRANSITION_DURATION):g()}},l.prototype.applyPlacement=function(t,i){var n=this.tip(),o=n[0].offsetWidth,r=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),s=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(n[0],e.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),n.addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;"top"==i&&c!=r&&(t.top=t.top+r-c);var u=this.getViewportAdjustedDelta(i,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=/top|bottom/.test(i),p=d?2*u.left-o+l:2*u.top-r+c,f=d?"offsetWidth":"offsetHeight";n.offset(t),this.replaceArrow(p,n[0][f],d)},l.prototype.replaceArrow=function(e,t,i){this.arrow().css(i?"left":"top",50*(1-e/t)+"%").css(i?"top":"left","")},l.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();this.options.html?(this.options.sanitize&&(t=i(t,this.options.whiteList,this.options.sanitizeFn)),e.find(".tooltip-inner").html(t)):e.find(".tooltip-inner").text(t),e.removeClass("fade in top bottom left right")},l.prototype.hide=function(t){function i(){"in"!=n.hoverState&&o.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),t&&t()}var n=this,o=e(this.$tip),r=e.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(l.TRANSITION_DURATION):i(),this.hoverState=null,this},l.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},l.prototype.hasContent=function(){return this.getTitle()},l.prototype.getPosition=function(t){var i=(t=t||this.$element)[0],n="BODY"==i.tagName,o=i.getBoundingClientRect();null==o.width&&(o=e.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=window.SVGElement&&i instanceof window.SVGElement,a=n?{top:0,left:0}:r?null:t.offset(),s={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},l=n?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},o,s,l,a)},l.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},l.prototype.getViewportAdjustedDelta=function(e,t,i,n){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-r-a.scroll,l=t.top+r-a.scroll+n;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=t.left-r,u=t.left+r+i;c<a.left?o.left=a.left-c:u>a.right&&(o.left=a.left+a.width-u)}return o},l.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},l.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},l.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},l.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},l.prototype.enable=function(){this.enabled=!0},l.prototype.disable=function(){this.enabled=!1},l.prototype.toggleEnabled=function(){this.enabled=!this.enabled},l.prototype.toggle=function(t){var i=this;t&&((i=e(t.currentTarget).data("bs."+this.type))||(i=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,i))),t?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},l.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})},l.prototype.sanitizeHtml=function(e){return i(e,this.options.whiteList,this.options.sanitizeFn)};var c=e.fn.tooltip;e.fn.tooltip=function(t){return this.each(function(){var i=e(this),n=i.data("bs.tooltip"),o="object"==typeof t&&t;!n&&/destroy|hide/.test(t)||(n||i.data("bs.tooltip",n=new l(this,o)),"string"==typeof t&&n[t]())})},e.fn.tooltip.Constructor=l,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=c,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.4.1",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype)).constructor=t).prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();if(this.options.html){var n=typeof i;this.options.sanitize&&(t=this.sanitizeHtml(t),"string"===n&&(i=this.sanitizeHtml(i))),e.find(".popover-title").html(t),e.find(".popover-content").children().detach().end()["string"===n?"html":"append"](i)}else e.find(".popover-title").text(t),e.find(".popover-content").children().detach().end().text(i);e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var n=e(this),o=n.data("bs.popover"),r="object"==typeof i&&i;!o&&/destroy|hide/.test(i)||(o||n.data("bs.popover",o=new t(this,r)),"string"==typeof i&&o[i]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),function(e){"use strict";function t(i,n){this.$body=e(document.body),this.$scrollElement=e(e(i).is(document.body)?window:i),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var n=e(this),o=n.data("bs.scrollspy"),r="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new t(this,r)),"string"==typeof i&&o[i]()})}t.VERSION="3.4.1",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,i="offset",n=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(i="position",n=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),o=t.data("target")||t.attr("href"),r=/^#./.test(o)&&e(o);return r&&r.length&&r.is(":visible")&&[[r[i]().top+n,o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),n=this.options.offset+i-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),n<=t)return a!=(e=r[r.length-1])&&this.activate(e);if(a&&t<o[0])return this.activeTarget=null,this.clear();for(e=o.length;e--;)a!=r[e]&&t>=o[e]&&(void 0===o[e+1]||t<o[e+1])&&this.activate(r[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var n=e.fn.scrollspy;e.fn.scrollspy=i,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);i.call(t,t.data())})})}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new i(this)),"string"==typeof t&&o[t]()})}var i=function(t){this.element=e(t)};i.VERSION="3.4.1",i.TRANSITION_DURATION=150,i.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.data("target");if(n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=i.find(".active:last a"),r=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),t.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=e(document).find(n);this.activate(t.closest("li"),i),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},i.prototype.activate=function(t,n,o){function r(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=n.find("> .active"),s=o&&e.support.transition&&(a.length&&a.hasClass("fade")||!!n.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",r).emulateTransitionEnd(i.TRANSITION_DURATION):r(),a.removeClass("in")};var n=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=i,e.fn.tab.noConflict=function(){return e.fn.tab=n,this};var o=function(i){i.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),o=n.data("bs.affix"),r="object"==typeof t&&t;o||n.data("bs.affix",o=new i(this,r)),"string"==typeof t&&o[t]()})}var i=function(t,n){this.options=e.extend({},i.DEFAULTS,n);var o=this.options.target===i.DEFAULTS.target?e(this.options.target):e(document).find(this.options.target);this.$target=o.on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.4.1",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(e,t,i,n){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return o<i&&"top";if("bottom"==this.affixed)return null!=i?!(o+this.unpin<=r.top)&&"bottom":!(o+a<=e-n)&&"bottom";var s=null==this.affixed,l=s?o:r.top;return null!=i&&o<=i?"top":null!=n&&e-n<=l+(s?a:t)&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},i.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),n=this.options.offset,o=n.top,r=n.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof n&&(r=o=n),"function"==typeof o&&(o=n.top(this.$element)),"function"==typeof r&&(r=n.bottom(this.$element));var s=this.getState(a,t,o,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=e.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-r})}};var n=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=i,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var i=e(this),n=i.data();n.offset=n.offset||{},null!=n.offsetBottom&&(n.offset.bottom=n.offsetBottom),null!=n.offsetTop&&(n.offset.top=n.offsetTop),t.call(i,n)})})}(jQuery),define("bootstrap",["jquery"],function(){}),require.config({urlArgs:"v="+requirejs.s.contexts._.config.config.site.version,packages:[{name:"moment",location:"../libs/moment",main:"moment"}],include:["css","layer","toastr","fast","userend","userend-init","table","form","dragsort","drag","drop","addtabs","selectpage"],paths:{lang:"empty:",form:"require-form",table:"require-table",upload:"require-upload",validator:"require-validator",drag:"jquery.drag.min",drop:"jquery.drop.min",echarts:"echarts.min","echarts-theme":"echarts-theme",adminlte:"adminlte","bootstrap-table-commonsearch":"bootstrap-table-commonsearch","bootstrap-table-template":"bootstrap-table-template",jquery:"../libs/jquery/dist/jquery.min",bootstrap:"../libs/bootstrap/dist/js/bootstrap.min","bootstrap-datetimepicker":"../libs/eonasdan-bootstrap-datetimepicker/build/js/bootstrap-datetimepicker.min","bootstrap-daterangepicker":"../libs/bootstrap-daterangepicker/daterangepicker.min","bootstrap-select":"../libs/bootstrap-select/dist/js/bootstrap-select.min","bootstrap-select-lang":"../libs/bootstrap-select/dist/js/i18n/defaults-zh_CN.min","bootstrap-table":"../libs/bootstrap-table/dist/bootstrap-table.min","bootstrap-table-export":"../libs/bootstrap-table/dist/extensions/export/bootstrap-table-export.min","bootstrap-table-mobile":"../libs/bootstrap-table/dist/extensions/mobile/bootstrap-table-mobile.min","bootstrap-table-lang":"../libs/bootstrap-table/dist/locale/bootstrap-table-zh-CN.min","bootstrap-table-jumpto":"../libs/bootstrap-table/dist/extensions/page-jumpto/bootstrap-table-jumpto.min","bootstrap-slider":"../libs/bootstrap-slider/bootstrap-slider.min",tableexport:"../libs/tableExport.jquery.plugin/tableExport.min",dragsort:"../libs/fastadmin-dragsort/jquery.dragsort.min",sortable:"../libs/Sortable/Sortable.min",addtabs:"../libs/fastadmin-addtabs/jquery.addtabs.min",slimscroll:"../libs/jquery-slimscroll/jquery.slimscroll.min","validator-core":"../libs/nice-validator/dist/jquery.validator.min","validator-lang":"../libs/nice-validator/dist/local/zh-CN",plupload:"../libs/plupload/js/plupload.min",toastr:"../libs/toastr/toastr.min",jstree:"../libs/jstree/dist/jstree.min",layer:"../libs/fastadmin-layer/dist/layer.min",cookie:"../libs/jquery.cookie/jquery.cookie.min",cxselect:"../libs/fastadmin-cxselect/js/jquery.cxselect.min",template:"../libs/art-template/dist/template-native.min",selectpage:"../libs/fastadmin-selectpage/selectpage.min",citypicker:"../libs/fastadmin-citypicker/dist/js/city-picker.min",
"citypicker-data":"../libs/fastadmin-citypicker/dist/js/city-picker.data.min"},shim:{addons:["userend"],bootstrap:["jquery"],"bootstrap-table":{deps:["bootstrap"],exports:"$.fn.bootstrapTable"},"bootstrap-table-lang":{deps:["bootstrap-table"],exports:"$.fn.bootstrapTable.defaults"},"bootstrap-table-export":{deps:["bootstrap-table","tableexport"],exports:"$.fn.bootstrapTable.defaults"},"bootstrap-table-mobile":{deps:["bootstrap-table"],exports:"$.fn.bootstrapTable.defaults"},"bootstrap-table-advancedsearch":{deps:["bootstrap-table"],exports:"$.fn.bootstrapTable.defaults"},"bootstrap-table-commonsearch":{deps:["bootstrap-table"],exports:"$.fn.bootstrapTable.defaults"},"bootstrap-table-template":{deps:["bootstrap-table","template"],exports:"$.fn.bootstrapTable.defaults"},"bootstrap-table-jumpto":{deps:["bootstrap-table"],exports:"$.fn.bootstrapTable.defaults"},tableexport:{deps:["jquery"],exports:"$.fn.extend"},slimscroll:{deps:["jquery"],exports:"$.fn.extend"},adminlte:{deps:["bootstrap","slimscroll"],exports:"$.AdminLTE"},"bootstrap-datetimepicker":["moment/locale/zh-cn"],"bootstrap-select-lang":["bootstrap-select"],jstree:["css!../libs/jstree/dist/themes/default/style.css"],plupload:{deps:["../libs/plupload/js/moxie.min"],exports:"plupload"},"validator-lang":["validator-core"],citypicker:["citypicker-data","css!../libs/fastadmin-citypicker/dist/css/city-picker.css"]},baseUrl:requirejs.s.contexts._.config.config.site.cdnurl+"/assets/js/",map:{"*":{css:"../libs/require-css/css.min"}},waitSeconds:30,charset:"utf-8"}),require(["jquery","bootstrap"],function(e,t){var i=requirejs.s.contexts._.config.config;window.Config=i;var n={};n.lang=i.moduleurl+"/ajax/lang?callback=define&controllername="+i.controllername,n["userend/"]="userend/",require.config({paths:n}),e(function(){require(["fast"],function(e){require(["userend","userend-init","addons"],function(e,t,n){i.jsname&&require([i.jsname],function(e){e.hasOwnProperty(i.actionname)?e[i.actionname]():e.hasOwnProperty("_empty")&&e._empty()},function(e){console.error(e)})})})})}),define("require-userend",function(){}),define("../libs/require-css/css.min",[],function(){if("undefined"==typeof window)return{load:function(e,t,i){i()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,i=!1,n=!0;t[1]||t[7]?i=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]?n=!1:t[4]&&(i=parseInt(t[4])<18);var o={};o.pluginBuilder="./css-builder";var r,a,s,l=function(){r=document.createElement("style"),e.appendChild(r),a=r.styleSheet||r.sheet},c=0,u=[],d=function(e){a.addImport(e),r.onload=function(){p()},c++,31==c&&(l(),c=0)},p=function(){s();var e=u.shift();return e?(s=e[1],void d(e[0])):void(s=null)},f=function(e,t){if(a&&a.addImport||l(),a&&a.addImport)s?u.push([e,t]):(d(e),s=t);else{r.textContent='@import "'+e+'";';var i=setInterval(function(){try{r.sheet.cssRules,clearInterval(i),t()}catch(e){}},10)}},h=function(t,i){var o=document.createElement("link");if(o.type="text/css",o.rel="stylesheet",n)o.onload=function(){o.onload=function(){},setTimeout(i,7)};else var r=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==o.href)return clearInterval(r),i()}},10);o.href=t,e.appendChild(o)};return o.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},o.load=function(e,t,n,o){(i?f:h)(t.toUrl(e+".css"),n)},o}),!function(e,t){"use strict";var i,n,o=e.layui&&layui.define,r={getPath:function(){var e=document.currentScript?document.currentScript.src:function(){for(var e,t=document.scripts,i=t.length-1,n=i;n>0;n--)if("interactive"===t[n].readyState){e=t[n].src;break}return e||t[i].src}();return e.substring(0,e.lastIndexOf("/")+1)}(),config:{},end:{},minIndex:0,minLeft:[],btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],type:["dialog","page","iframe","loading","tips"],getStyle:function(t,i){var n=t.currentStyle?t.currentStyle:e.getComputedStyle(t,null);return n[n.getPropertyValue?"getPropertyValue":"getAttribute"](i)},link:function(t,i,n){if(a.path){var o=document.getElementsByTagName("head")[0],s=document.createElement("link");"string"==typeof i&&(n=i);var l=(n||t).replace(/\.|\//g,""),c="layuicss-"+l,u=0;s.rel="stylesheet",s.href=a.path+t,s.id=c,document.getElementById(c)||o.appendChild(s),"function"==typeof i&&!function t(){return++u>80?e.console&&console.error("layer.css: Invalid"):void(1989===parseInt(r.getStyle(document.getElementById(c),"width"))?i():setTimeout(t,100))}()}}},a={v:"3.1.1",ie:function(){var t=navigator.userAgent.toLowerCase();return!!(e.ActiveXObject||"ActiveXObject"in e)&&((t.match(/msie\s(\d+)/)||[])[1]||"11")}(),index:e.layer&&e.layer.v?1e5:0,path:r.getPath,config:function(e,t){return e=e||{},c=a.cache=r.config=i.extend({},r.config,e),a.path=r.config.path||a.path,"string"==typeof e.extend&&(e.extend=[e.extend]),r.config.path&&a.ready(),e.extend?(o?layui.addcss("modules/layer/"+e.extend):r.link("theme/"+e.extend),this):this},ready:function(e){var t="layer",i="",n=(o?"modules/layer/":"theme/")+"default/layer.css?v="+a.v+i;return o?layui.addcss(n,e,t):r.link(n,e,t),this},alert:function(e,t,n){var o="function"==typeof t;return o&&(n=t),a.open(i.extend({content:e,yes:n},o?{}:t))},confirm:function(e,t,n,o){var s="function"==typeof t;return s&&(o=n,n=t),a.open(i.extend({content:e,btn:r.btn,yes:n,btn2:o},s?{}:t))},msg:function(e,n,o){var s="function"==typeof n,c=r.config.skin,u=(c?c+" "+c+"-msg":"")||"layui-layer-msg",d=l.anim.length-1;return s&&(o=n),a.open(i.extend({content:e,time:3e3,shade:!1,skin:u,title:!1,closeBtn:!1,btn:!1,resize:!1,end:o},s&&!r.config.skin?{skin:u+" layui-layer-hui",anim:d}:function(){return n=n||{},n.icon!==-1&&n.icon!==t||(n.skin=u+" "+(n.skin||"layui-layer-hui")),n}()))},load:function(e,t){return a.open(i.extend({type:3,icon:e||0,resize:!1,shade:.01},t))},tips:function(e,t,n){return a.open(i.extend({type:4,content:[e,t],closeBtn:!1,time:3e3,shade:!1,resize:!1,fixed:!1,maxWidth:210},n))}},s=function(e){var t=this;t.index=++a.index,t.config=i.extend({},t.config,r.config,e),document.body?t.creat():setTimeout(function(){t.creat()},30)};s.pt=s.prototype;var l=["layui-layer",".layui-layer-title",".layui-layer-main",".layui-layer-dialog","layui-layer-iframe","layui-layer-content","layui-layer-btn","layui-layer-close"];l.anim=["layer-anim-00","layer-anim-01","layer-anim-02","layer-anim-03","layer-anim-04","layer-anim-05","layer-anim-06"],s.pt.config={type:0,shade:.3,fixed:!0,move:l[1],title:"&#x4FE1;&#x606F;",offset:"auto",area:"auto",closeBtn:1,time:0,zIndex:19891014,maxWidth:360,anim:0,isOutAnim:!0,focusBtn:0,icon:-1,moveType:1,resize:!0,scrollbar:!0,tips:2},s.pt.vessel=function(e,t){var n=this,o=n.index,a=n.config,s=a.zIndex+o,c="object"==typeof a.title,u=a.maxmin&&(1===a.type||2===a.type),d=a.title?'<div class="layui-layer-title" style="'+(c?a.title[1]:"")+'">'+(c?a.title[0]:a.title)+"</div>":"";return a.zIndex=s,t([a.shade?'<div class="layui-layer-shade" id="layui-layer-shade'+o+'" times="'+o+'" style="'+("z-index:"+(s-1)+"; ")+'"></div>':"",'<div class="'+l[0]+(" layui-layer-"+r.type[a.type])+(0!=a.type&&2!=a.type||a.shade?"":" layui-layer-border")+" "+(a.skin||"")+'" id="'+l[0]+o+'" type="'+r.type[a.type]+'" times="'+o+'" showtime="'+a.time+'" conType="'+(e?"object":"string")+'" style="z-index: '+s+"; width:"+a.area[0]+";height:"+a.area[1]+(a.fixed?"":";position:absolute;")+'">'+(e&&2!=a.type?"":d)+'<div id="'+(a.id||"")+'" class="layui-layer-content'+(0==a.type&&a.icon!==-1?" layui-layer-padding":"")+(3==a.type?" layui-layer-loading"+a.icon:"")+'">'+(0==a.type&&a.icon!==-1?'<i class="layui-layer-ico layui-layer-ico'+a.icon+'"></i>':"")+(1==a.type&&e?"":a.content||"")+'</div><span class="layui-layer-setwin">'+function(){var e=u?'<a class="layui-layer-min" href="javascript:;"><cite></cite></a><a class="layui-layer-ico layui-layer-max" href="javascript:;"></a>':"";return a.closeBtn&&(e+='<a class="layui-layer-ico '+l[7]+" "+l[7]+(a.title?a.closeBtn:4==a.type?"1":"2")+'" href="javascript:;"></a>'),e}()+"</span>"+(a.btn?function(){var e="";"string"==typeof a.btn&&(a.btn=[a.btn]);for(var t=0,i=a.btn.length;t<i;t++)e+='<a class="'+l[6]+t+'" href="javascript:;">'+a.btn[t]+"</a>";return'<div class="'+l[6]+" layui-layer-btn-"+(a.btnAlign||"")+'">'+e+"</div>"}():"")+(a.resize?'<span class="layui-layer-resize"></span>':"")+"</div>"],d,i('<div class="layui-layer-move"></div>')),n},s.pt.creat=function(){var e=this,t=e.config,o=e.index,s=t.content,c="object"==typeof s,u=i("body");if(!t.id||!i("#"+t.id)[0]){switch("string"==typeof t.area&&(t.area="auto"===t.area?["",""]:[t.area,""]),t.shift&&(t.anim=t.shift),6==a.ie&&(t.fixed=!1),t.type){case 0:t.btn="btn"in t?t.btn:r.btn[0],a.closeAll("dialog");break;case 2:var s=t.content=c?t.content:[t.content||"http://layer.layui.com","auto"];t.content='<iframe scrolling="'+(t.content[1]||"auto")+'" allowtransparency="true" id="'+l[4]+o+'" name="'+l[4]+o+'" onload="this.className=\'\';" class="layui-layer-load" frameborder="0" src="'+t.content[0]+'"></iframe>';break;case 3:delete t.title,delete t.closeBtn,t.icon===-1&&0===t.icon,a.closeAll("loading");break;case 4:c||(t.content=[t.content,"body"]),t.follow=t.content[1],t.content=t.content[0]+'<i class="layui-layer-TipsG"></i>',delete t.title,t.tips="object"==typeof t.tips?t.tips:[t.tips,!0],t.tipsMore||a.closeAll("tips")}if(e.vessel(c,function(n,a,d){u.append(n[0]),c?function(){2==t.type||4==t.type?function(){i("body").append(n[1])}():function(){s.parents("."+l[0])[0]||(s.data("display",s.css("display")).show().addClass("layui-layer-wrap").wrap(n[1]),i("#"+l[0]+o).find("."+l[5]).before(a))}()}():u.append(n[1]),i(".layui-layer-move")[0]||u.append(r.moveElem=d),e.layero=i("#"+l[0]+o),t.scrollbar||l.html.css("overflow","hidden").attr("layer-full",o)}).auto(o),i("#layui-layer-shade"+e.index).css({"background-color":t.shade[1]||"#000",opacity:t.shade[0]||t.shade}),2==t.type&&6==a.ie&&e.layero.find("iframe").attr("src",s[0]),4==t.type?e.tips():e.offset(),t.fixed&&n.on("resize",function(){e.offset(),(/^\d+%$/.test(t.area[0])||/^\d+%$/.test(t.area[1]))&&e.auto(o),4==t.type&&e.tips()}),t.time<=0||setTimeout(function(){a.close(e.index)},t.time),e.move().callback(),l.anim[t.anim]){var d="layer-anim "+l.anim[t.anim];e.layero.addClass(d).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){i(this).removeClass(d)})}t.isOutAnim&&e.layero.data("isOutAnim",!0)}},s.pt.auto=function(e){var t=this,o=t.config,r=i("#"+l[0]+e);""===o.area[0]&&o.maxWidth>0&&(a.ie&&a.ie<8&&o.btn&&r.width(r.innerWidth()),r.outerWidth()>o.maxWidth&&r.width(o.maxWidth));var s=[r.innerWidth(),r.innerHeight()],c=r.find(l[1]).outerHeight()||0,u=r.find("."+l[6]).outerHeight()||0,d=function(e){e=r.find(e),e.height(s[1]-c-u-2*(0|parseFloat(e.css("padding-top"))))};switch(o.type){case 2:d("iframe");break;default:""===o.area[1]?o.maxHeight>0&&r.outerHeight()>o.maxHeight?(s[1]=o.maxHeight,d("."+l[5])):o.fixed&&s[1]>=n.height()&&(s[1]=n.height(),d("."+l[5])):d("."+l[5])}return t},s.pt.offset=function(){var e=this,t=e.config,i=e.layero,o=[i.outerWidth(),i.outerHeight()],r="object"==typeof t.offset;e.offsetTop=(n.height()-o[1])/2,e.offsetLeft=(n.width()-o[0])/2,r?(e.offsetTop=t.offset[0],e.offsetLeft=t.offset[1]||e.offsetLeft):"auto"!==t.offset&&("t"===t.offset?e.offsetTop=0:"r"===t.offset?e.offsetLeft=n.width()-o[0]:"b"===t.offset?e.offsetTop=n.height()-o[1]:"l"===t.offset?e.offsetLeft=0:"lt"===t.offset?(e.offsetTop=0,e.offsetLeft=0):"lb"===t.offset?(e.offsetTop=n.height()-o[1],e.offsetLeft=0):"rt"===t.offset?(e.offsetTop=0,e.offsetLeft=n.width()-o[0]):"rb"===t.offset?(e.offsetTop=n.height()-o[1],e.offsetLeft=n.width()-o[0]):e.offsetTop=t.offset),t.fixed||(e.offsetTop=/%$/.test(e.offsetTop)?n.height()*parseFloat(e.offsetTop)/100:parseFloat(e.offsetTop),e.offsetLeft=/%$/.test(e.offsetLeft)?n.width()*parseFloat(e.offsetLeft)/100:parseFloat(e.offsetLeft),e.offsetTop+=n.scrollTop(),e.offsetLeft+=n.scrollLeft()),i.attr("minLeft")&&(e.offsetTop=n.height()-(i.find(l[1]).outerHeight()||0),e.offsetLeft=i.css("left")),i.css({top:e.offsetTop,left:e.offsetLeft})},s.pt.tips=function(){var e=this,t=e.config,o=e.layero,r=[o.outerWidth(),o.outerHeight()],a=i(t.follow);a[0]||(a=i("body"));var s={width:a.outerWidth(),height:a.outerHeight(),top:a.offset().top,left:a.offset().left},c=o.find(".layui-layer-TipsG"),u=t.tips[0];t.tips[1]||c.remove(),s.autoLeft=function(){s.left+r[0]-n.width()>0?(s.tipLeft=s.left+s.width-r[0],c.css({right:12,left:"auto"})):s.tipLeft=s.left},s.where=[function(){s.autoLeft(),s.tipTop=s.top-r[1]-10,c.removeClass("layui-layer-TipsB").addClass("layui-layer-TipsT").css("border-right-color",t.tips[1])},function(){s.tipLeft=s.left+s.width+10,s.tipTop=s.top,c.removeClass("layui-layer-TipsL").addClass("layui-layer-TipsR").css("border-bottom-color",t.tips[1])},function(){s.autoLeft(),s.tipTop=s.top+s.height+10,c.removeClass("layui-layer-TipsT").addClass("layui-layer-TipsB").css("border-right-color",t.tips[1])},function(){s.tipLeft=s.left-r[0]-10,s.tipTop=s.top,c.removeClass("layui-layer-TipsR").addClass("layui-layer-TipsL").css("border-bottom-color",t.tips[1])}],s.where[u-1](),1===u?s.top-(n.scrollTop()+r[1]+16)<0&&s.where[2]():2===u?n.width()-(s.left+s.width+r[0]+16)>0||s.where[3]():3===u?s.top-n.scrollTop()+s.height+r[1]+16-n.height()>0&&s.where[0]():4===u&&r[0]+16-s.left>0&&s.where[1](),o.find("."+l[5]).css({"background-color":t.tips[1],"padding-right":t.closeBtn?"30px":""}),o.css({left:s.tipLeft-(t.fixed?n.scrollLeft():0),top:s.tipTop-(t.fixed?n.scrollTop():0)})},s.pt.move=function(){var e=this,t=e.config,o=i(document),s=e.layero,l=s.find(t.move),c=s.find(".layui-layer-resize"),u={};return t.move&&l.css("cursor","move"),l.on("mousedown",function(e){e.preventDefault(),t.move&&(u.moveStart=!0,u.offset=[e.clientX-parseFloat(s.css("left")),e.clientY-parseFloat(s.css("top"))],r.moveElem.css("cursor","move").show())}),c.on("mousedown",function(e){e.preventDefault(),u.resizeStart=!0,u.offset=[e.clientX,e.clientY],u.area=[s.outerWidth(),s.outerHeight()],r.moveElem.css("cursor","se-resize").show()}),o.on("mousemove",function(i){if(u.moveStart){var o=i.clientX-u.offset[0],r=i.clientY-u.offset[1],l="fixed"===s.css("position");if(i.preventDefault(),u.stX=l?0:n.scrollLeft(),u.stY=l?0:n.scrollTop(),!t.moveOut){var c=n.width()-s.outerWidth()+u.stX,d=n.height()-s.outerHeight()+u.stY;o<u.stX&&(o=u.stX),o>c&&(o=c),r<u.stY&&(r=u.stY),r>d&&(r=d)}s.css({left:o,top:r})}if(t.resize&&u.resizeStart){var o=i.clientX-u.offset[0],r=i.clientY-u.offset[1];i.preventDefault(),a.style(e.index,{width:u.area[0]+o,height:u.area[1]+r}),u.isResize=!0,t.resizing&&t.resizing(s)}}).on("mouseup",function(e){u.moveStart&&(delete u.moveStart,r.moveElem.hide(),t.moveEnd&&t.moveEnd(s)),u.resizeStart&&(delete u.resizeStart,r.moveElem.hide())}),e},s.pt.callback=function(){function e(){var e=o.cancel&&o.cancel(t.index,n);e===!1||a.close(t.index)}var t=this,n=t.layero,o=t.config;if(t.openLayer(),o.success&&(2==o.type?n.find("iframe").on("load",function(){o.success(n,t.index)}):o.success(n,t.index)),6==a.ie&&t.IE6(n),n.find("."+l[6]).children("a").on("click",function(){var e=i(this).index();if(0===e)o.yes?o.yes(t.index,n):o.btn1?o.btn1(t.index,n):a.close(t.index);else{var r=o["btn"+(e+1)]&&o["btn"+(e+1)](t.index,n);r===!1||a.close(t.index)}}),"number"==typeof o.focusBtn){var s=n.find("."+l[6]).children("a").eq(o.focusBtn);if(s.size()>0){var c=s.position(),u={width:s.outerWidth(),height:s.outerHeight(),left:c.left,top:c.top,marginTop:s.css("marginTop"),marginLeft:s.css("marginLeft")},d=i("<button class='layui-layer-confirm'></button>").css(u);n.find("."+l[6]).after(d),d.focus().click(function(){return s.trigger("click"),!1}).on("focus blur",function(e){s.toggleClass("focus","focus"===e.type)})}}n.find("."+l[7]).on("click",e),o.shadeClose&&i("#layui-layer-shade"+t.index).on("click",function(){a.close(t.index)}),n.find(".layui-layer-min").on("click",function(){var e=o.min&&o.min(n);e===!1||a.min(t.index,o)}),n.find(".layui-layer-max").on("click",function(){i(this).hasClass("layui-layer-maxmin")?(a.restore(t.index),o.restore&&o.restore(n)):(a.full(t.index,o),setTimeout(function(){o.full&&o.full(n)},100))}),o.end&&(r.end[t.index]=o.end)},r.reselect=function(){i.each(i("select"),function(e,t){var n=i(this);n.parents("."+l[0])[0]||1==n.attr("layer")&&i("."+l[0]).length<1&&n.removeAttr("layer").show(),n=null})},s.pt.IE6=function(e){i("select").each(function(e,t){var n=i(this);n.parents("."+l[0])[0]||"none"===n.css("display")||n.attr({layer:"1"}).hide(),n=null})},s.pt.openLayer=function(){var e=this;a.zIndex=e.config.zIndex,a.setTop=function(e){var t=function(){a.zIndex++,e.css("z-index",a.zIndex+1)};return a.zIndex=parseInt(e[0].style.zIndex),e.on("mousedown",t),a.zIndex}},r.record=function(e){var t=[e.width(),e.height(),e.position().top,e.position().left+parseFloat(e.css("margin-left"))];e.find(".layui-layer-max").addClass("layui-layer-maxmin"),e.attr({area:t})},r.rescollbar=function(e){l.html.attr("layer-full")==e&&(l.html[0].style.removeProperty?l.html[0].style.removeProperty("overflow"):l.html[0].style.removeAttribute("overflow"),l.html.removeAttr("layer-full"))},e.layer=a,a.getChildFrame=function(e,t){return t=t||i("."+l[4]).attr("times"),i("#"+l[0]+t).find("iframe").contents().find(e)},a.getFrameIndex=function(e){return i("#"+e).parents("."+l[4]).attr("times")},a.iframeAuto=function(e){if(e){var t=a.getChildFrame("html",e).outerHeight(),n=i("#"+l[0]+e),o=n.find(l[1]).outerHeight()||0,r=n.find("."+l[6]).outerHeight()||0;n.css({height:t+o+r}),n.find("iframe").css({height:t})}},a.iframeSrc=function(e,t){i("#"+l[0]+e).find("iframe").attr("src",t)},a.style=function(e,t,n){var o=i("#"+l[0]+e),a=o.find(".layui-layer-content"),s=o.attr("type"),c=o.find(l[1]).outerHeight()||0,u=o.find("."+l[6]).outerHeight()||0;o.attr("minLeft"),s!==r.type[3]&&s!==r.type[4]&&(n||(parseFloat(t.width)<=260&&(t.width=260),parseFloat(t.height)-c-u<=64&&(t.height=64+c+u)),o.css(t),u=o.find("."+l[6]).outerHeight(),s===r.type[2]?o.find("iframe").css({height:parseFloat(t.height)-c-u}):a.css({height:parseFloat(t.height)-c-u-parseFloat(a.css("padding-top"))-parseFloat(a.css("padding-bottom"))}))},a.min=function(e,t){var o=i("#"+l[0]+e),s=o.find(l[1]).outerHeight()||0,c=o.attr("minLeft")||181*r.minIndex+"px",u=o.css("position");r.record(o),r.minLeft[0]&&(c=r.minLeft[0],r.minLeft.shift()),o.attr("position",u),a.style(e,{width:180,height:s,left:c,top:n.height()-s,position:"fixed",overflow:"hidden"},!0),o.find(".layui-layer-min").hide(),"page"===o.attr("type")&&o.find(l[4]).hide(),r.rescollbar(e),o.attr("minLeft")||r.minIndex++,o.attr("minLeft",c)},a.restore=function(e){var t=i("#"+l[0]+e),n=t.attr("area").split(",");t.attr("type"),a.style(e,{width:parseFloat(n[0]),height:parseFloat(n[1]),top:parseFloat(n[2]),left:parseFloat(n[3]),position:t.attr("position"),overflow:"visible"},!0),t.find(".layui-layer-max").removeClass("layui-layer-maxmin"),t.find(".layui-layer-min").show(),"page"===t.attr("type")&&t.find(l[4]).show(),r.rescollbar(e)},a.full=function(e){var t,o=i("#"+l[0]+e);r.record(o),l.html.attr("layer-full")||l.html.css("overflow","hidden").attr("layer-full",e),clearTimeout(t),t=setTimeout(function(){var t="fixed"===o.css("position");a.style(e,{top:t?0:n.scrollTop(),left:t?0:n.scrollLeft(),width:n.width(),height:n.height()},!0),o.find(".layui-layer-min").hide()},100)},a.title=function(e,t){var n=i("#"+l[0]+(t||a.index)).find(l[1]);n.html(e)},a.close=function(e){var t=i("#"+l[0]+e),n=t.attr("type"),o="layer-anim-close";if(t[0]){var s="layui-layer-wrap",c=function(){if(n===r.type[1]&&"object"===t.attr("conType")){t.children(":not(."+l[5]+")").remove();for(var o=t.find("."+s),a=0;a<2;a++)o.unwrap();o.css("display",o.data("display")).removeClass(s)}else{if(n===r.type[2])try{var c=i("#"+l[4]+e)[0];c.contentWindow.document.write(""),c.contentWindow.close(),t.find("."+l[5])[0].removeChild(c)}catch(e){}t[0].innerHTML="",t.remove()}"function"==typeof r.end[e]&&r.end[e](),delete r.end[e]};t.data("isOutAnim")&&t.addClass("layer-anim "+o),i("#layui-layer-moves, #layui-layer-shade"+e).remove(),6==a.ie&&r.reselect(),r.rescollbar(e),t.attr("minLeft")&&(r.minIndex--,r.minLeft.push(t.attr("minLeft"))),a.ie&&a.ie<10||!t.data("isOutAnim")?c():setTimeout(function(){c()},200)}},a.closeAll=function(e){i.each(i("."+l[0]),function(){var t=i(this),n=e?t.attr("type")===e:1;n&&a.close(t.attr("times")),n=null})};var c=a.cache||{},u=function(e){return c.skin?" "+c.skin+" "+c.skin+"-"+e:""};a.prompt=function(e,t){var o="";if(e=e||{},"function"==typeof e&&(t=e),e.area){var r=e.area;o='style="width: '+r[0]+"; height: "+r[1]+';"',delete e.area}var s,l=2==e.formType?'<textarea class="layui-layer-input"'+o+">"+(e.value||"")+"</textarea>":function(){return'<input type="'+(1==e.formType?"password":"text")+'" class="layui-layer-input" value="'+(e.value||"")+'">'}(),c=e.success;return delete e.success,a.open(i.extend({type:1,btn:["&#x786E;&#x5B9A;","&#x53D6;&#x6D88;"],content:l,skin:"layui-layer-prompt"+u("prompt"),maxWidth:n.width(),success:function(e){s=e.find(".layui-layer-input"),s.focus(),"function"==typeof c&&c(e)},resize:!1,yes:function(i){var n=s.val();""===n?s.focus():n.length>(e.maxlength||500)?a.tips("&#x6700;&#x591A;&#x8F93;&#x5165;"+(e.maxlength||500)+"&#x4E2A;&#x5B57;&#x6570;",s,{tips:1}):t&&t(n,i,s)}},e))},a.tab=function(e){e=e||{};var t=e.tab||{},n="layui-this",o=e.success;return delete e.success,a.open(i.extend({type:1,skin:"layui-layer-tab"+u("tab"),resize:!1,title:function(){var e=t.length,i=1,o="";if(e>0)for(o='<span class="'+n+'">'+t[0].title+"</span>";i<e;i++)o+="<span>"+t[i].title+"</span>";return o}(),content:'<ul class="layui-layer-tabmain">'+function(){var e=t.length,i=1,o="";if(e>0)for(o='<li class="layui-layer-tabli '+n+'">'+(t[0].content||"no content")+"</li>";i<e;i++)o+='<li class="layui-layer-tabli">'+(t[i].content||"no  content")+"</li>";return o}()+"</ul>",success:function(t){var r=t.find(".layui-layer-title").children(),a=t.find(".layui-layer-tabmain").children();r.on("mousedown",function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0;var o=i(this),r=o.index();o.addClass(n).siblings().removeClass(n),a.eq(r).show().siblings().hide(),"function"==typeof e.change&&e.change(r)}),"function"==typeof o&&o(t)}},e))},a.photos=function(t,n,o){function r(e,t,i){var n=new Image;return n.src=e,n.complete?t(n):(n.onload=function(){n.onload=null,t(n)},void(n.onerror=function(e){n.onerror=null,i(e)}))}var s={};if(t=t||{},t.photos){var l=t.photos.constructor===Object,c=l?t.photos:{},d=c.data||[],p=c.start||0;s.imgIndex=(0|p)+1,t.img=t.img||"img";var f=t.success;if(delete t.success,l){if(0===d.length)return a.msg("&#x6CA1;&#x6709;&#x56FE;&#x7247;")}else{var h=i(t.photos),m=function(){d=[],h.find(t.img).each(function(e){var t=i(this);t.attr("layer-index",e),d.push({alt:t.attr("alt"),pid:t.attr("layer-pid"),src:t.attr("layer-src")||t.attr("src"),thumb:t.attr("src")})})};if(m(),0===d.length)return;if(n||h.on("click",t.img,function(){var e=i(this),n=e.attr("layer-index");a.photos(i.extend(t,{photos:{start:n,data:d,tab:t.tab},full:t.full}),!0),m()}),!n)return}s.imgprev=function(e){s.imgIndex--,s.imgIndex<1&&(s.imgIndex=d.length),s.tabimg(e)},s.imgnext=function(e,t){s.imgIndex++,s.imgIndex>d.length&&(s.imgIndex=1,t)||s.tabimg(e)},s.keyup=function(e){if(!s.end){var t=e.keyCode;e.preventDefault(),37===t?s.imgprev(!0):39===t?s.imgnext(!0):27===t&&a.close(s.index)}},s.tabimg=function(e){if(!(d.length<=1))return c.start=s.imgIndex-1,a.close(s.index),a.photos(t,!0,e)},s.event=function(){s.bigimg.hover(function(){s.imgsee.show()},function(){s.imgsee.hide()}),s.bigimg.find(".layui-layer-imgprev").on("click",function(e){e.preventDefault(),s.imgprev()}),s.bigimg.find(".layui-layer-imgnext").on("click",function(e){e.preventDefault(),s.imgnext()}),i(document).on("keyup",s.keyup)},s.loadi=a.load(1,{shade:"shade"in t?t.shade:.9,scrollbar:"scrollbar"in t&&t.scrollbar}),r(d[p].src,function(n){a.close(s.loadi),s.index=a.open(i.extend({type:1,id:"layui-layer-photos",area:function(){var o=[n.width,n.height],r=[i(e).width()-100,i(e).height()-100];if(!t.full&&(o[0]>r[0]||o[1]>r[1])){var a=[o[0]/r[0],o[1]/r[1]];a[0]>a[1]?(o[0]=o[0]/a[0],o[1]=o[1]/a[0]):a[0]<a[1]&&(o[0]=o[0]/a[1],o[1]=o[1]/a[1])}return[o[0]+"px",o[1]+"px"]}(),title:!1,shade:.9,shadeClose:!0,closeBtn:!1,move:".layui-layer-phimg img",moveType:1,scrollbar:!1,moveOut:!0,isOutAnim:!1,skin:"layui-layer-photos"+u("photos"),content:'<div class="layui-layer-phimg"><img src="'+d[p].src+'" alt="'+(d[p].alt||"")+'" layer-pid="'+d[p].pid+'"><div class="layui-layer-imgsee">'+(d.length>1?'<span class="layui-layer-imguide"><a href="javascript:;" class="layui-layer-iconext layui-layer-imgprev"></a><a href="javascript:;" class="layui-layer-iconext layui-layer-imgnext"></a></span>':"")+'<div class="layui-layer-imgbar" style="display:'+(o?"block":"")+'"><span class="layui-layer-imgtit"><a href="javascript:;">'+(d[p].alt||"")+"</a><em>"+s.imgIndex+"/"+d.length+"</em></span></div></div></div>",success:function(e,i){s.bigimg=e.find(".layui-layer-phimg"),s.imgsee=e.find(".layui-layer-imguide,.layui-layer-imgbar"),s.event(e),t.tab&&t.tab(d[p],e),"function"==typeof f&&f(e)},end:function(){s.end=!0,i(document).off("keyup",s.keyup)}},t))},function(){a.close(s.loadi),a.msg("&#x5F53;&#x524D;&#x56FE;&#x7247;&#x5730;&#x5740;&#x5F02;&#x5E38;<br>&#x662F;&#x5426;&#x7EE7;&#x7EED;&#x67E5;&#x770B;&#x4E0B;&#x4E00;&#x5F20;&#xFF1F;",{time:3e4,btn:["&#x4E0B;&#x4E00;&#x5F20;","&#x4E0D;&#x770B;&#x4E86;"],yes:function(){d.length>1&&s.imgnext(!0,!0)}})})}},r.run=function(t){i=t,n=i(e),l.html=i("html"),a.open=function(e){var t=new s(e);return t.index}},e.layui&&layui.define?(a.ready(),layui.define("jquery",function(t){a.path=layui.cache.dir,r.run(layui.$),e.layer=a,t("layer",a)})):"function"==typeof define&&define.amd?define("layer",["jquery"],function(){return r.run(e.jQuery),a}):function(){r.run(e.jQuery),a.ready()}()}(window),function(e){e("toastr",["jquery"],function(e){return function(){function t(e,t,i){return h({type:x.error,iconClass:m().iconClasses.error,message:e,optionsOverride:i,title:t})}function i(t,i){return t||(t=m()),y=e("#"+t.containerId),y.length?y:(i&&(y=d(t)),y)}function n(e,t,i){return h({type:x.info,iconClass:m().iconClasses.info,message:e,optionsOverride:i,title:t})}function o(e){v=e}function r(e,t,i){return h({type:x.success,iconClass:m().iconClasses.success,message:e,optionsOverride:i,title:t})}function a(e,t,i){return h({type:x.warning,iconClass:m().iconClasses.warning,message:e,optionsOverride:i,title:t})}function s(e,t){var n=m();y||i(n),u(e,n,t)||c(n)}function l(t){var n=m();return y||i(n),t&&0===e(":focus",t).length?void g(t):void(y.children().length&&y.remove())}function c(t){for(var i=y.children(),n=i.length-1;n>=0;n--)u(e(i[n]),t)}function u(t,i,n){var o=!(!n||!n.force)&&n.force;return!(!t||!o&&0!==e(":focus",t).length)&&(t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){g(t)}}),!0)}function d(t){return y=e("<div/>").attr("id",t.containerId).addClass(t.positionClass),y.appendTo(e(t.target)),y}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1}}function f(e){v&&v(e)}function h(t){function n(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function o(){l(),u(),d(),p(),h(),v(),c(),r()}function r(){var e="";switch(t.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}A.attr("aria-live",e)}function a(){C.closeOnHover&&A.hover(T,S),!C.onclick&&C.tapToDismiss&&A.click(_),C.closeButton&&N&&N.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),C.onCloseClick&&C.onCloseClick(e),_(!0)}),C.onclick&&A.click(function(e){C.onclick(e),_()})}function s(){A.hide(),A[C.showMethod]({duration:C.showDuration,easing:C.showEasing,complete:C.onShown}),C.timeOut>0&&(R=setTimeout(_,C.timeOut),F.maxHideTime=parseFloat(C.timeOut),F.hideEta=(new Date).getTime()+F.maxHideTime,C.progressBar&&(F.intervalId=setInterval(E,10)))}function l(){t.iconClass&&A.addClass(C.toastClass).addClass(k)}function c(){C.newestOnTop?y.prepend(A):y.append(A)}function u(){if(t.title){var e=t.title;C.escapeHtml&&(e=n(t.title)),O.append(e).addClass(C.titleClass),A.append(O)}}function d(){if(t.message){var e=t.message;C.escapeHtml&&(e=n(t.message)),D.append(e).addClass(C.messageClass),A.append(D)}}function p(){C.closeButton&&(N.addClass(C.closeClass).attr("role","button"),A.prepend(N))}function h(){C.progressBar&&(I.addClass(C.progressClass),A.prepend(I))}function v(){C.rtl&&A.addClass("rtl")}function x(e,t){if(e.preventDuplicates){if(t.message===b)return!0;b=t.message}return!1}function _(t){var i=t&&C.closeMethod!==!1?C.closeMethod:C.hideMethod,n=t&&C.closeDuration!==!1?C.closeDuration:C.hideDuration,o=t&&C.closeEasing!==!1?C.closeEasing:C.hideEasing;if(!e(":focus",A).length||t)return clearTimeout(F.intervalId),A[i]({duration:n,easing:o,complete:function(){g(A),clearTimeout(R),C.onHidden&&"hidden"!==M.state&&C.onHidden(),M.state="hidden",M.endTime=new Date,f(M)}})}function S(){(C.timeOut>0||C.extendedTimeOut>0)&&(R=setTimeout(_,C.extendedTimeOut),F.maxHideTime=parseFloat(C.extendedTimeOut),F.hideEta=(new Date).getTime()+F.maxHideTime)}function T(){clearTimeout(R),F.hideEta=0,A.stop(!0,!0)[C.showMethod]({duration:C.showDuration,easing:C.showEasing})}function E(){var e=(F.hideEta-(new Date).getTime())/F.maxHideTime*100;I.width(e+"%")}var C=m(),k=t.iconClass||C.iconClass;if("undefined"!=typeof t.optionsOverride&&(C=e.extend(C,t.optionsOverride),k=t.optionsOverride.iconClass||k),!x(C,t)){w++,y=i(C,!0);var R=null,A=e("<div/>"),O=e("<div/>"),D=e("<div/>"),I=e("<div/>"),N=e(C.closeHtml),F={intervalId:null,hideEta:null,maxHideTime:null},M={toastId:w,state:"visible",startTime:new Date,options:C,map:t};return o(),s(),a(),f(M),C.debug&&console&&console.log(M),A}}function m(){return e.extend({},p(),_.options)}function g(e){y||(y=i()),e.is(":visible")||(e.remove(),e=null,0===y.children().length&&(y.remove(),b=void 0))}var y,v,b,w=0,x={error:"error",info:"info",success:"success",warning:"warning"},_={clear:s,remove:l,error:t,getContainer:i,info:n,options:{},subscribe:o,success:r,version:"2.1.3",warning:a};return _}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)}),define("fast",["jquery","bootstrap","toastr","layer","lang"],function(e,t,i,n,o){var r={config:{toastr:{closeButton:!0,debug:!1,newestOnTop:!1,progressBar:!1,positionClass:"toast-top-center",preventDuplicates:!1,onclick:null,showDuration:"300",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"}},events:{onAjaxSuccess:function(e,t){var n="undefined"!=typeof e.data?e.data:null,o="undefined"!=typeof e.msg&&e.msg?e.msg:__("Operation completed");if("function"==typeof t){var r=t.call(this,n,e);if(r===!1)return}i.success(o)},onAjaxError:function(e,t){var n="undefined"!=typeof e.data?e.data:null;if("function"==typeof t){
var o=t.call(this,n,e);if(o===!1)return}i.error(e.msg)},onAjaxResponse:function(t){try{var i="object"==typeof t?t:JSON.parse(t);i.hasOwnProperty("code")||e.extend(i,{code:-2,msg:t,data:null})}catch(e){var i={code:-1,msg:e.message,data:null}}return i}},api:{ajax:function(t,i,o){t="string"==typeof t?{url:t}:t;var a;return("undefined"==typeof t.loading||t.loading)&&(a=n.load(t.loading||0)),t=e.extend({type:"POST",dataType:"json",success:function(e){a&&n.close(a),e=r.events.onAjaxResponse(e),1===e.code?r.events.onAjaxSuccess(e,i):r.events.onAjaxError(e,o)},error:function(e){a&&n.close(a);var t={code:e.status,msg:e.statusText,data:null};r.events.onAjaxError(t,o)}},t),e.ajax(t)},fixurl:function(e){if("/"!==e.substr(0,1)){var t=new RegExp("^(?:[a-z]+:)?//","i");t.test(e)||(e=Config.moduleurl+"/"+e)}else"/addons/"===e.substr(0,8)&&(e=Config.__PUBLIC__.replace(/(\/*$)/g,"")+e);return e},cdnurl:function(e,t){var i=new RegExp("^((?:[a-z]+:)?\\/\\/|data:image\\/)","i"),e=i.test(e)?e:Config.upload.cdnurl+e;return t&&!i.test(e)&&(t="string"==typeof t?t:location.origin,e=t+e),e},query:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&/]"+e+"([=/]([^&#/?]*)|&|#|$)"),n=i.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},open:function(i,o,a){o=a&&a.title?a.title:o?o:"",i=r.api.fixurl(i),i=i+(i.indexOf("?")>-1?"&":"?")+"dialog=1";var s=r.config.openArea!=t?r.config.openArea:[e(window).width()>800?"800px":"95%",e(window).height()>600?"600px":"95%"];return a=e.extend({type:2,title:o,shadeClose:!0,shade:!1,maxmin:!0,moveOut:!0,area:s,content:i,zIndex:n.zIndex,success:function(t,i){var o=this;e(t).data("callback",o.callback),n.setTop(t);try{var a=n.getChildFrame("html",i),s=a.find(".layer-footer");if(r.api.layerfooter(t,i,o),s.size()>0){var l=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;if(l){var c=s[0],u=new l(function(e){r.api.layerfooter(t,i,o),e.forEach(function(e){})}),d={attributes:!0,childList:!0,characterData:!0,subtree:!0};u.observe(c,d)}}}catch(e){}e(t).height()>e(window).height()&&n.style(i,{top:0,height:e(window).height()})}},a?a:{}),(e(window).width()<480||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&top.$(".tab-pane.active").size()>0)&&(a.area=[top.$(".tab-pane.active").width()+"px",top.$(".tab-pane.active").height()+"px"],a.offset=[top.$(".tab-pane.active").scrollTop()+"px","0px"]),n.open(a)},close:function(e){var i=parent.Layer.getFrameIndex(window.name),n=parent.$("#layui-layer"+i).data("callback");parent.Layer.close(i),"function"==typeof n&&n.call(t,e)},layerfooter:function(t,i,o){var r=n.getChildFrame("html",i),a=r.find(".layer-footer");if(a.size()>0){e(".layui-layer-footer",t).remove();var s=e("<div />").addClass("layui-layer-btn layui-layer-footer");s.html(a.html()),0===e(".row",s).size()&&e(">",s).wrapAll("<div class='row'></div>"),s.insertAfter(t.find(".layui-layer-content")),s.on("click",".btn",function(){if(!e(this).hasClass("disabled")&&!e(this).parent().hasClass("disabled")){var t=s.find(".btn").index(this);e(".btn:eq("+t+")",a).trigger("click")}});var l=t.find(".layui-layer-title").outerHeight()||0,c=t.find(".layui-layer-btn").outerHeight()||0;e("iframe",t).height(t.height()-l-c)}if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream){var l=t.find(".layui-layer-title").outerHeight()||0,c=t.find(".layui-layer-btn").outerHeight()||0;e("iframe",t).parent().css("height",t.height()-l-c),e("iframe",t).css("height","100%")}},success:function(t,i){var o="function"==typeof t;return o&&(i=t),n.msg(__("Operation completed"),e.extend({offset:0,icon:1},o?{}:t),i)},error:function(t,i){var o="function"==typeof t;return o&&(i=t),n.msg(__("Operation failed"),e.extend({offset:0,icon:2},o?{}:t),i)},msg:function(e,t){var i="function"==typeof t?t:function(){"undefined"!=typeof t&&t&&(location.href=t)};n.msg(e,{time:2e3},i)},toastr:i,layer:n},lang:function(){var e=arguments,t=e[0],i=1;if(t=t.toLowerCase(),"undefined"!=typeof o&&"undefined"!=typeof o[t]){if("object"==typeof o[t])return o[t];t=o[t]}else if(t.indexOf(".")!==-1,1)t=e[0];else{for(var n=t.split("."),r=o[n[0]],i=1;i<n.length&&(r="undefined"!=typeof r[n[i]]?r[n[i]]:"","object"==typeof r);i++);if("object"==typeof r)return r;t=r}return t.replace(/%((%)|s|d)/g,function(t){var n=null;if(t[2])n=t[2];else{switch(n=e[i],t){case"%d":n=parseFloat(n),isNaN(n)&&(n=0)}i++}return n})},init:function(){e.ajaxSetup({beforeSend:function(e,t){t.url=r.api.fixurl(t.url)}}),n.config({skin:"layui-layer-fast"}),e(window).keyup(function(t){if(27==t.keyCode&&e(".layui-layer").size()>0){var i=0;e(".layui-layer").each(function(){i=Math.max(i,parseInt(e(this).attr("times")))}),i&&n.close(i)}}),i.options=r.config.toastr}};return window.Layer=n,window.Toastr=i,window.__=r.lang,window.Fast=r,r.init(),r}),!function(){function e(e){return e.replace(b,"").replace(w,",").replace(x,"").replace(_,"").replace(S,"").split(T)}function t(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function i(i,n){function o(e){return p+=e.split(/\n/).length-1,u&&(e=e.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),e&&(e=v[1]+t(e)+v[2]+"\n"),e}function r(t){var i=p;if(c?t=c(t,n):a&&(t=t.replace(/\n/g,function(){return p++,"$line="+p+";"})),0===t.indexOf("=")){var o=d&&!/^=[=#]/.test(t);if(t=t.replace(/^=[=#]?|[\s;]*$/g,""),o){var r=t.replace(/\s*\([^\)]+\)/,"");f[r]||/^(include|print)$/.test(r)||(t="$escape("+t+")")}else t="$string("+t+")";t=v[1]+t+v[2]}return a&&(t="$line="+i+";"+t),y(e(t),function(e){if(e&&!m[e]){var t;t="print"===e?w:"include"===e?x:f[e]?"$utils."+e:h[e]?"$helpers."+e:"$data."+e,_+=e+"="+t+",",m[e]=!0}}),t+"\n"}var a=n.debug,s=n.openTag,l=n.closeTag,c=n.parser,u=n.compress,d=n.escape,p=1,m={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},g="".trim,v=g?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],b=g?"$out+=text;return $out;":"$out.push(text);",w="function(){var text=''.concat.apply('',arguments);"+b+"}",x="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+b+"}",_="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(a?"$line=0,":""),S=v[0],T="return new String("+v[3]+");";y(i.split(s),function(e){e=e.split(l);var t=e[0],i=e[1];1===e.length?S+=o(t):(S+=r(t),i&&(S+=o(i)))});var E=_+S+T;a&&(E="try{"+E+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+t(i)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var C=new Function("$data","$filename",E);return C.prototype=f,C}catch(e){throw e.temp="function anonymous($data,$filename) {"+E+"}",e}}var n=function(e,t){return"string"==typeof t?g(t,{filename:e}):a(e,t)};n.version="3.0.0",n.config=function(e,t){o[e]=t};var o=n.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},r=n.cache={};n.render=function(e,t){return g(e)(t)};var a=n.renderFile=function(e,t){var i=n.get(e)||m({filename:e,name:"Render Error",message:"Template not found"});return t?i(t):i};n.get=function(e){var t;if(r[e])t=r[e];else if("object"==typeof document){var i=document.getElementById(e);if(i){var n=(i.value||i.innerHTML).replace(/^\s*|\s*$/g,"");t=g(n,{filename:e})}}return t};var s=function(e,t){return"string"!=typeof e&&(t=typeof e,"number"===t?e+="":e="function"===t?s(e.call(e)):""),e},l={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},c=function(e){return l[e]},u=function(e){return s(e).replace(/&(?![\w#]+;)|[<>"']/g,c)},d=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},p=function(e,t){var i,n;if(d(e))for(i=0,n=e.length;i<n;i++)t.call(e,e[i],i,e);else for(i in e)t.call(e,e[i],i)},f=n.utils={$helpers:{},$include:a,$string:s,$escape:u,$each:p};n.helper=function(e,t){h[e]=t};var h=n.helpers=f.$helpers;n.onerror=function(e){var t="Template Error\n\n";for(var i in e)t+="<"+i+">\n"+e[i]+"\n\n";"object"==typeof console&&console.error(t)};var m=function(e){return n.onerror(e),function(){return"{Template Error}"}},g=n.compile=function(e,t){function n(i){try{return new l(i,s)+""}catch(n){return t.debug?m(n)():(t.debug=!0,g(e,t)(i))}}t=t||{};for(var a in o)void 0===t[a]&&(t[a]=o[a]);var s=t.filename;try{var l=i(e,t)}catch(e){return e.filename=s||"anonymous",e.name="Syntax Error",m(e)}return n.prototype=l.prototype,n.toString=function(){return l.toString()},s&&t.cache&&(r[s]=n),n},y=f.$each,v="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",b=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,w=/[^\w$]+/g,x=new RegExp(["\\b"+v.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),_=/^\d[^,]*|,\d[^,]*/g,S=/^,+|,+$/g,T=/^$|,+/;"object"==typeof exports&&"undefined"!=typeof module?module.exports=n:"function"==typeof define?define("template",[],function(){return n}):this.template=n}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment/moment",t):e.moment=t()}(this,function(){"use strict";function e(){return Dn.apply(null,arguments)}function t(e){Dn=e}function i(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var i in t)c(t,i)&&(e[i]=t[i]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,i,n){return Et(e,t,i,n,!0).utc()}function p(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=p()),e._pf}function h(e){if(null==e._isValid){var t=f(e),i=In.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function m(e){var t=d(NaN);return null!=e?u(f(t),e):f(t).userInvalidated=!0,t}function g(e,t){var i,n,o;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=f(t)),r(t._locale)||(e._locale=t._locale),Nn.length>0)for(i=0;i<Nn.length;i++)n=Nn[i],o=t[n],r(o)||(e[n]=o);return e}function y(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Fn===!1&&(Fn=!0,e.updateOffset(this),Fn=!1)}function v(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function b(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=b(t)),i}function x(e,t,i){var n,o=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(n=0;n<o;n++)(i&&e[n]!==t[n]||!i&&w(e[n])!==w(t[n]))&&a++;return a+r}function _(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,i){var n=!0;return u(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),n){for(var o,r=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){o+="\n["+a+"] ";for(var s in arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];r.push(o)}_(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function T(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),Mn[t]||(_(i),Mn[t]=!0)}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e){var t,i;for(i in e)t=e[i],E(t)?this[i]=t:this["_"+i]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function k(e,t){var i,o=u({},e);for(i in t)c(t,i)&&(n(e[i])&&n(t[i])?(o[i]={},u(o[i],e[i]),u(o[i],t[i])):null!=t[i]?o[i]=t[i]:delete o[i]);for(i in e)c(e,i)&&!c(t,i)&&n(e[i])&&(o[i]=u({},o[i]));return o}function R(e){null!=e&&this.set(e)}function A(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return E(n)?n.call(t,i):n}function O(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function D(){return this._invalidDate}function I(e){return this._ordinal.replace("%d",e)}function N(e,t,i,n){var o=this._relativeTime[i];return E(o)?o(e,t,i,n):o.replace(/%d/i,e)}function F(e,t){var i=this._relativeTime[e>0?"future":"past"];return E(i)?i(t):i.replace(/%s/i,t)}function M(e,t){var i=e.toLowerCase();Un[i]=Un[i+"s"]=Un[t]=e}function L(e){return"string"==typeof e?Un[e]||Un[e.toLowerCase()]:void 0}function P(e){var t,i,n={};for(i in e)c(e,i)&&(t=L(i),t&&(n[t]=e[i]));return n}function $(e,t){qn[e]=t}function j(e){var t=[];for(var i in e)t.push({unit:i,priority:qn[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}function H(e,t,i){var n=""+Math.abs(e),o=t-n.length,r=e>=0;return(r?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function z(e,t,i,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(Gn[e]=o),t&&(Gn[t[0]]=function(){return H(o.apply(this,arguments),t[1],t[2])}),i&&(Gn[i]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function U(e){var t,i,n=e.match(Yn);for(t=0,i=n.length;t<i;t++)Gn[n[t]]?n[t]=Gn[n[t]]:n[t]=B(n[t]);return function(t){var o,r="";for(o=0;o<i;o++)r+=E(n[o])?n[o].call(t,e):n[o];return r}}function q(e,t){return e.isValid()?(t=Y(t,e.localeData()),Vn[t]=Vn[t]||U(t),Vn[t](e)):e.localeData().invalidDate()}function Y(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Wn.lastIndex=0;n>=0&&Wn.test(e);)e=e.replace(Wn,i),Wn.lastIndex=0,n-=1;return e}function W(e,t,i){fo[e]=E(t)?t:function(e,n){return e&&i?i:t}}function V(e,t){return c(fo,e)?fo[e](t._strict,t._locale):new RegExp(G(e))}function G(e){return X(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,o){return t||i||n||o}))}function X(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function J(e,t){var i,n=t;for("string"==typeof e&&(e=[e]),a(t)&&(n=function(e,i){i[t]=w(e)}),i=0;i<e.length;i++)ho[e[i]]=n}function Q(e,t){J(e,function(e,i,n,o){n._w=n._w||{},t(e,n._w,n,o)})}function K(e,t,i){null!=t&&c(ho,e)&&ho[e](t,i._a,i,e)}function Z(e){return ee(e)?366:365}function ee(e){return e%4===0&&e%100!==0||e%400===0}function te(){return ee(this.year())}function ie(t,i){return function(n){return null!=n?(oe(this,t,n),e.updateOffset(this,i),this):ne(this,t)}}function ne(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function oe(e,t,i){e.isValid()&&!isNaN(i)&&("FullYear"===t&&ee(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),le(i,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](i))}function re(e){return e=L(e),E(this[e])?this[e]():this}function ae(e,t){if("object"==typeof e){e=P(e);for(var i=j(e),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit])}else if(e=L(e),E(this[e]))return this[e](t);return this}function se(e,t){return(e%t+t)%t}function le(e,t){if(isNaN(e)||isNaN(t))return NaN;var i=se(t,12);return e+=(t-i)/12,1===i?ee(e)?29:28:31-i%7%2}function ce(e,t){return e?i(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Co).test(t)?"format":"standalone"][e.month()]:i(this._months)?this._months:this._months.standalone}function ue(e,t){return e?i(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Co.test(t)?"format":"standalone"][e.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function de(e,t,i){var n,o,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===t?(o=To.call(this._shortMonthsParse,a),o!==-1?o:null):(o=To.call(this._longMonthsParse,a),o!==-1?o:null):"MMM"===t?(o=To.call(this._shortMonthsParse,a),o!==-1?o:(o=To.call(this._longMonthsParse,a),o!==-1?o:null)):(o=To.call(this._longMonthsParse,a),o!==-1?o:(o=To.call(this._shortMonthsParse,a),o!==-1?o:null))}function pe(e,t,i){var n,o,r;if(this._monthsParseExact)return de.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=d([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function fe(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return i=Math.min(e.date(),le(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function he(t){return null!=t?(fe(this,t),e.updateOffset(this,!0),this):ne(this,"Month")}function me(){return le(this.year(),this.month())}function ge(e){return this._monthsParseExact?(c(this,"_monthsRegex")||ve.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Ao),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ye(e){return this._monthsParseExact?(c(this,"_monthsRegex")||ve.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Oo),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function ve(){function e(e,t){return t.length-e.length}var t,i,n=[],o=[],r=[];for(t=0;t<12;t++)i=d([2e3,t]),n.push(this.monthsShort(i,"")),o.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(e),o.sort(e),r.sort(e),t=0;t<12;t++)n[t]=X(n[t]),o[t]=X(o[t]);for(t=0;t<24;t++)r[t]=X(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function be(e,t,i,n,o,r,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,i,n,o,r,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,i,n,o,r,a),s}function we(e){var t;if(e<100&&e>=0){var i=Array.prototype.slice.call(arguments);i[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function xe(e,t,i){var n=7+t-i,o=(7+we(e,0,n).getUTCDay()-t)%7;return-o+n-1}function _e(e,t,i,n,o){var r,a,s=(7+i-n)%7,l=xe(e,n,o),c=1+7*(t-1)+s+l;return c<=0?(r=e-1,a=Z(r)+c):c>Z(e)?(r=e+1,a=c-Z(e)):(r=e,a=c),{year:r,dayOfYear:a}}function Se(e,t,i){var n,o,r=xe(e.year(),t,i),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?(o=e.year()-1,n=a+Te(o,t,i)):a>Te(e.year(),t,i)?(n=a-Te(e.year(),t,i),o=e.year()+1):(o=e.year(),n=a),{week:n,year:o}}function Te(e,t,i){var n=xe(e,t,i),o=xe(e+1,t,i);return(Z(e)-n+o)/7}function Ee(e){return Se(e,this._week.dow,this._week.doy).week}function Ce(){return this._week.dow}function ke(){return this._week.doy}function Re(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Ae(e){var t=Se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Oe(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function De(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ie(e,t){return e.slice(t,7).concat(e.slice(0,t))}function Ne(e,t){var n=i(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Ie(n,this._week.dow):e?n[e.day()]:n}function Fe(e){return e===!0?Ie(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Me(e){return e===!0?Ie(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Le(e,t,i){var n,o,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===t?(o=To.call(this._weekdaysParse,a),o!==-1?o:null):"ddd"===t?(o=To.call(this._shortWeekdaysParse,a),o!==-1?o:null):(o=To.call(this._minWeekdaysParse,a),o!==-1?o:null):"dddd"===t?(o=To.call(this._weekdaysParse,a),o!==-1?o:(o=To.call(this._shortWeekdaysParse,a),o!==-1?o:(o=To.call(this._minWeekdaysParse,a),o!==-1?o:null))):"ddd"===t?(o=To.call(this._shortWeekdaysParse,a),o!==-1?o:(o=To.call(this._weekdaysParse,a),o!==-1?o:(o=To.call(this._minWeekdaysParse,a),o!==-1?o:null))):(o=To.call(this._minWeekdaysParse,a),o!==-1?o:(o=To.call(this._weekdaysParse,a),o!==-1?o:(o=To.call(this._shortWeekdaysParse,a),o!==-1?o:null)))}function Pe(e,t,i){var n,o,r;if(this._weekdaysParseExact)return Le.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=d([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function $e(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Oe(e,this.localeData()),this.add(e-t,"d")):t}function je(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function He(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=De(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function ze(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Mo),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Be(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Lo),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ue(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Po),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function qe(){function e(e,t){return t.length-e.length}var t,i,n,o,r,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)i=d([2e3,1]).day(t),n=this.weekdaysMin(i,""),o=this.weekdaysShort(i,""),r=this.weekdays(i,""),a.push(n),s.push(o),l.push(r),c.push(n),c.push(o),c.push(r);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=X(s[t]),l[t]=X(l[t]),c[t]=X(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ye(){return this.hours()%12||12}function We(){return this.hours()||24}function Ve(e,t){z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ge(e,t){return t._meridiemParse}function Xe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Je(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"}function Qe(e){return e?e.toLowerCase().replace("_","-"):e}function Ke(e){for(var t,i,n,o,r=0;r<e.length;){for(o=Qe(e[r]).split("-"),t=o.length,i=Qe(e[r+1]),i=i?i.split("-"):null;t>0;){if(n=Ze(o.slice(0,t).join("-")))return n;if(i&&i.length>=t&&x(o,i,!0)>=t-1)break;t--}r++}return $o}function Ze(e){var t=null;if(!Bo[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=$o._abbr;var i=require;i("./locale/"+e),et(t)}catch(e){}return Bo[e]}function et(e,t){var i;return e&&(i=r(t)?nt(e):tt(e,t),i?$o=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),$o._abbr}function tt(e,t){if(null!==t){var i,n=zo;if(t.abbr=e,null!=Bo[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Bo[e]._config;else if(null!=t.parentLocale)if(null!=Bo[t.parentLocale])n=Bo[t.parentLocale]._config;else{if(i=Ze(t.parentLocale),null==i)return Uo[t.parentLocale]||(Uo[t.parentLocale]=[]),Uo[t.parentLocale].push({name:e,config:t}),null;n=i._config}return Bo[e]=new R(k(n,t)),Uo[e]&&Uo[e].forEach(function(e){tt(e.name,e.config)}),et(e),Bo[e]}return delete Bo[e],null}function it(e,t){if(null!=t){var i,n,o=zo;n=Ze(e),null!=n&&(o=n._config),t=k(o,t),i=new R(t),i.parentLocale=Bo[e],Bo[e]=i,et(e)}else null!=Bo[e]&&(null!=Bo[e].parentLocale?Bo[e]=Bo[e].parentLocale:null!=Bo[e]&&delete Bo[e]);return Bo[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return $o;if(!i(e)){if(t=Ze(e))return t;e=[e]}return Ke(e)}function ot(){return Ln(Bo)}function rt(e){var t,i=e._a;return i&&f(e).overflow===-2&&(t=i[go]<0||i[go]>11?go:i[yo]<1||i[yo]>le(i[mo],i[go])?yo:i[vo]<0||i[vo]>24||24===i[vo]&&(0!==i[bo]||0!==i[wo]||0!==i[xo])?vo:i[bo]<0||i[bo]>59?bo:i[wo]<0||i[wo]>59?wo:i[xo]<0||i[xo]>999?xo:-1,f(e)._overflowDayOfYear&&(t<mo||t>yo)&&(t=yo),f(e)._overflowWeeks&&t===-1&&(t=_o),f(e)._overflowWeekday&&t===-1&&(t=So),f(e).overflow=t),e}function at(e,t,i){return null!=e?e:null!=t?t:i}function st(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function lt(e){var t,i,n,o,r,a=[];if(!e._d){for(n=st(e),e._w&&null==e._a[yo]&&null==e._a[go]&&ct(e),null!=e._dayOfYear&&(r=at(e._a[mo],n[mo]),(e._dayOfYear>Z(r)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),i=we(r,0,e._dayOfYear),e._a[go]=i.getUTCMonth(),e._a[yo]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=n[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[vo]&&0===e._a[bo]&&0===e._a[wo]&&0===e._a[xo]&&(e._nextDay=!0,e._a[vo]=0),e._d=(e._useUTC?we:be).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[vo]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==o&&(f(e).weekdayMismatch=!0)}}function ct(e){var t,i,n,o,r,a,s,l;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)r=1,a=4,i=at(t.GG,e._a[mo],Se(Ct(),1,4).year),n=at(t.W,1),o=at(t.E,1),(o<1||o>7)&&(l=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var c=Se(Ct(),r,a);i=at(t.gg,e._a[mo],c.year),n=at(t.w,c.week),null!=t.d?(o=t.d,(o<0||o>6)&&(l=!0)):null!=t.e?(o=t.e+r,(t.e<0||t.e>6)&&(l=!0)):o=r}n<1||n>Te(i,r,a)?f(e)._overflowWeeks=!0:null!=l?f(e)._overflowWeekday=!0:(s=_e(i,n,o,r,a),e._a[mo]=s.year,e._dayOfYear=s.dayOfYear)}function ut(e){var t,i,n,o,r,a,s=e._i,l=qo.exec(s)||Yo.exec(s);if(l){for(f(e).iso=!0,t=0,i=Vo.length;t<i;t++)if(Vo[t][1].exec(l[1])){o=Vo[t][0],n=Vo[t][2]!==!1;break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,i=Go.length;t<i;t++)if(Go[t][1].exec(l[3])){r=(l[2]||" ")+Go[t][0];break}if(null==r)return void(e._isValid=!1)}if(!n&&null!=r)return void(e._isValid=!1);if(l[4]){if(!Wo.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=o+(r||"")+(a||""),vt(e)}else e._isValid=!1}function dt(e,t,i,n,o,r){var a=[pt(e),Ro.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(o,10)];return r&&a.push(parseInt(r,10)),a}function pt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ft(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ht(e,t,i){if(e){var n=No.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(n!==o)return f(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function mt(e,t,i){if(e)return Qo[e];if(t)return 0;var n=parseInt(i,10),o=n%100,r=(n-o)/100;return 60*r+o}function gt(e){var t=Jo.exec(ft(e._i));if(t){var i=dt(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ht(t[1],i,e))return;e._a=i,e._tzm=mt(t[8],t[9],t[10]),e._d=we.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function yt(t){var i=Xo.exec(t._i);return null!==i?void(t._d=new Date(+i[1])):(ut(t),void(t._isValid===!1&&(delete t._isValid,gt(t),t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t)))))}function vt(t){if(t._f===e.ISO_8601)return void ut(t);if(t._f===e.RFC_2822)return void gt(t);t._a=[],f(t).empty=!0;var i,n,o,r,a,s=""+t._i,l=s.length,c=0;for(o=Y(t._f,t._locale).match(Yn)||[],i=0;i<o.length;i++)r=o[i],n=(s.match(V(r,t))||[])[0],n&&(a=s.substr(0,s.indexOf(n)),a.length>0&&f(t).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),Gn[r]?(n?f(t).empty=!1:f(t).unusedTokens.push(r),K(r,n,t)):t._strict&&!n&&f(t).unusedTokens.push(r);f(t).charsLeftOver=l-c,s.length>0&&f(t).unusedInput.push(s),t._a[vo]<=12&&f(t).bigHour===!0&&t._a[vo]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[vo]=bt(t._locale,t._a[vo],t._meridiem),lt(t),rt(t)}function bt(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?(n=e.isPM(i),n&&t<12&&(t+=12),n||12!==t||(t=0),t):t}function wt(e){
var t,i,n,o,r;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)r=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],vt(t),h(t)&&(r+=f(t).charsLeftOver,r+=10*f(t).unusedTokens.length,f(t).score=r,(null==n||r<n)&&(n=r,i=t));u(e,i||t)}function xt(e){if(!e._d){var t=P(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),lt(e)}}function _t(e){var t=new y(rt(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function St(e){var t=e._i,n=e._f;return e._locale=e._locale||nt(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new y(rt(t)):(s(t)?e._d=t:i(n)?wt(e):n?vt(e):Tt(e),h(e)||(e._d=null),e))}function Tt(t){var o=t._i;r(o)?t._d=new Date(e.now()):s(o)?t._d=new Date(o.valueOf()):"string"==typeof o?yt(t):i(o)?(t._a=l(o.slice(0),function(e){return parseInt(e,10)}),lt(t)):n(o)?xt(t):a(o)?t._d=new Date(o):e.createFromInputFallback(t)}function Et(e,t,r,a,s){var l={};return r!==!0&&r!==!1||(a=r,r=void 0),(n(e)&&o(e)||i(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=r,l._i=e,l._f=t,l._strict=a,_t(l)}function Ct(e,t,i,n){return Et(e,t,i,n,!1)}function kt(e,t){var n,o;if(1===t.length&&i(t[0])&&(t=t[0]),!t.length)return Ct();for(n=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](n)||(n=t[o]);return n}function Rt(){var e=[].slice.call(arguments,0);return kt("isBefore",e)}function At(){var e=[].slice.call(arguments,0);return kt("isAfter",e)}function Ot(e){for(var t in e)if(To.call(tr,t)===-1||null!=e[t]&&isNaN(e[t]))return!1;for(var i=!1,n=0;n<tr.length;++n)if(e[tr[n]]){if(i)return!1;parseFloat(e[tr[n]])!==w(e[tr[n]])&&(i=!0)}return!0}function Dt(){return this._isValid}function It(){return Qt(NaN)}function Nt(e){var t=P(e),i=t.year||0,n=t.quarter||0,o=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=Ot(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*r,this._months=+o+3*n+12*i,this._data={},this._locale=nt(),this._bubble()}function Ft(e){return e instanceof Nt}function Mt(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Lt(e,t){z(e,0,0,function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+H(~~(e/60),2)+t+H(~~e%60,2)})}function Pt(e,t){var i=(t||"").match(e);if(null===i)return null;var n=i[i.length-1]||[],o=(n+"").match(ir)||["-",0,0],r=+(60*o[1])+w(o[2]);return 0===r?0:"+"===o[0]?r:-r}function $t(t,i){var n,o;return i._isUTC?(n=i.clone(),o=(v(t)||s(t)?t.valueOf():Ct(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),e.updateOffset(n,!1),n):Ct(t).local()}function jt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Ht(t,i,n){var o,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Pt(co,t),null===t)return this}else Math.abs(t)<16&&!n&&(t=60*t);return!this._isUTC&&i&&(o=jt(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==t&&(!i||this._changeInProgress?ii(this,Qt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:jt(this)}function zt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Bt(e){return this.utcOffset(0,e)}function Ut(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(jt(this),"m")),this}function qt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Pt(lo,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Yt(e){return!!this.isValid()&&(e=e?Ct(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Wt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Vt(){if(!r(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),e=St(e),e._a){var t=e._isUTC?d(e._a):Ct(e._a);this._isDSTShifted=this.isValid()&&x(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Gt(){return!!this.isValid()&&!this._isUTC}function Xt(){return!!this.isValid()&&this._isUTC}function Jt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Qt(e,t){var i,n,o,r=e,s=null;return Ft(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(r={},t?r[t]=e:r.milliseconds=e):(s=nr.exec(e))?(i="-"===s[1]?-1:1,r={y:0,d:w(s[yo])*i,h:w(s[vo])*i,m:w(s[bo])*i,s:w(s[wo])*i,ms:w(Mt(1e3*s[xo]))*i}):(s=or.exec(e))?(i="-"===s[1]?-1:1,r={y:Kt(s[2],i),M:Kt(s[3],i),w:Kt(s[4],i),d:Kt(s[5],i),h:Kt(s[6],i),m:Kt(s[7],i),s:Kt(s[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=ei(Ct(r.from),Ct(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),n=new Nt(r),Ft(e)&&c(e,"_locale")&&(n._locale=e._locale),n}function Kt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Zt(e,t){var i={};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function ei(e,t){var i;return e.isValid()&&t.isValid()?(t=$t(t,e),e.isBefore(t)?i=Zt(e,t):(i=Zt(t,e),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function ti(e,t){return function(i,n){var o,r;return null===n||isNaN(+n)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=i,i=n,n=r),i="string"==typeof i?+i:i,o=Qt(i,n),ii(this,o,e),this}}function ii(t,i,n,o){var r=i._milliseconds,a=Mt(i._days),s=Mt(i._months);t.isValid()&&(o=null==o||o,s&&fe(t,ne(t,"Month")+s*n),a&&oe(t,"Date",ne(t,"Date")+a*n),r&&t._d.setTime(t._d.valueOf()+r*n),o&&e.updateOffset(t,a||s))}function ni(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function oi(t,i){var n=t||Ct(),o=$t(n,this).startOf("day"),r=e.calendarFormat(this,o)||"sameElse",a=i&&(E(i[r])?i[r].call(this,n):i[r]);return this.format(a||this.localeData().calendar(r,this,Ct(n)))}function ri(){return new y(this)}function ai(e,t){var i=v(e)?e:Ct(e);return!(!this.isValid()||!i.isValid())&&(t=L(t)||"millisecond","millisecond"===t?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function si(e,t){var i=v(e)?e:Ct(e);return!(!this.isValid()||!i.isValid())&&(t=L(t)||"millisecond","millisecond"===t?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function li(e,t,i,n){var o=v(e)?e:Ct(e),r=v(t)?t:Ct(t);return!!(this.isValid()&&o.isValid()&&r.isValid())&&(n=n||"()",("("===n[0]?this.isAfter(o,i):!this.isBefore(o,i))&&(")"===n[1]?this.isBefore(r,i):!this.isAfter(r,i)))}function ci(e,t){var i,n=v(e)?e:Ct(e);return!(!this.isValid()||!n.isValid())&&(t=L(t)||"millisecond","millisecond"===t?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function ui(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function di(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function pi(e,t,i){var n,o,r;if(!this.isValid())return NaN;if(n=$t(e,this),!n.isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),t=L(t)){case"year":r=fi(this,n)/12;break;case"month":r=fi(this,n);break;case"quarter":r=fi(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-o)/864e5;break;case"week":r=(this-n-o)/6048e5;break;default:r=this-n}return i?r:b(r)}function fi(e,t){var i,n,o=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(o,"months");return t-r<0?(i=e.clone().add(o-1,"months"),n=(t-r)/(r-i)):(i=e.clone().add(o+1,"months"),n=(t-r)/(i-r)),-(o+n)||0}function hi(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function mi(e){if(!this.isValid())return null;var t=e!==!0,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?q(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(i,"Z")):q(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gi(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var i="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o="-MM-DD[T]HH:mm:ss.SSS",r=t+'[")]';return this.format(i+n+o+r)}function yi(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=q(this,t);return this.localeData().postformat(i)}function vi(e,t){return this.isValid()&&(v(e)&&e.isValid()||Ct(e).isValid())?Qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function bi(e){return this.from(Ct(),e)}function wi(e,t){return this.isValid()&&(v(e)&&e.isValid()||Ct(e).isValid())?Qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function xi(e){return this.to(Ct(),e)}function _i(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function Si(){return this._locale}function Ti(e,t){return(e%t+t)%t}function Ei(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-dr:new Date(e,t,i).valueOf()}function Ci(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-dr:Date.UTC(e,t,i)}function ki(t){var i;if(t=L(t),void 0===t||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Ci:Ei;switch(t){case"year":i=n(this.year(),0,1);break;case"quarter":i=n(this.year(),this.month()-this.month()%3,1);break;case"month":i=n(this.year(),this.month(),1);break;case"week":i=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":i=n(this.year(),this.month(),this.date());break;case"hour":i=this._d.valueOf(),i-=Ti(i+(this._isUTC?0:this.utcOffset()*cr),ur);break;case"minute":i=this._d.valueOf(),i-=Ti(i,cr);break;case"second":i=this._d.valueOf(),i-=Ti(i,lr)}return this._d.setTime(i),e.updateOffset(this,!0),this}function Ri(t){var i;if(t=L(t),void 0===t||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Ci:Ei;switch(t){case"year":i=n(this.year()+1,0,1)-1;break;case"quarter":i=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":i=n(this.year(),this.month()+1,1)-1;break;case"week":i=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":i=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":i=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":i=this._d.valueOf(),i+=ur-Ti(i+(this._isUTC?0:this.utcOffset()*cr),ur)-1;break;case"minute":i=this._d.valueOf(),i+=cr-Ti(i,cr)-1;break;case"second":i=this._d.valueOf(),i+=lr-Ti(i,lr)-1}return this._d.setTime(i),e.updateOffset(this,!0),this}function Ai(){return this._d.valueOf()-6e4*(this._offset||0)}function Oi(){return Math.floor(this.valueOf()/1e3)}function Di(){return new Date(this.valueOf())}function Ii(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ni(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Fi(){return this.isValid()?this.toISOString():null}function Mi(){return h(this)}function Li(){return u({},f(this))}function Pi(){return f(this).overflow}function $i(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function ji(e,t){z(0,[e,e.length],0,t)}function Hi(e){return qi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function zi(e){return qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Bi(){return Te(this.year(),1,4)}function Ui(){var e=this.localeData()._week;return Te(this.year(),e.dow,e.doy)}function qi(e,t,i,n,o){var r;return null==e?Se(this,n,o).year:(r=Te(e,n,o),t>r&&(t=r),Yi.call(this,e,t,i,n,o))}function Yi(e,t,i,n,o){var r=_e(e,t,i,n,o),a=we(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Wi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Vi(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Gi(e,t){t[xo]=w(1e3*("0."+e))}function Xi(){return this._isUTC?"UTC":""}function Ji(){return this._isUTC?"Coordinated Universal Time":""}function Qi(e){return Ct(1e3*e)}function Ki(){return Ct.apply(null,arguments).parseZone()}function Zi(e){return e}function en(e,t,i,n){var o=nt(),r=d().set(n,t);return o[i](r,e)}function tn(e,t,i){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return en(e,t,i,"month");var n,o=[];for(n=0;n<12;n++)o[n]=en(e,n,i,"month");return o}function nn(e,t,i,n){"boolean"==typeof e?(a(t)&&(i=t,t=void 0),t=t||""):(t=e,i=t,e=!1,a(t)&&(i=t,t=void 0),t=t||"");var o=nt(),r=e?o._week.dow:0;if(null!=i)return en(t,(i+r)%7,n,"day");var s,l=[];for(s=0;s<7;s++)l[s]=en(t,(s+r)%7,n,"day");return l}function on(e,t){return tn(e,t,"months")}function rn(e,t){return tn(e,t,"monthsShort")}function an(e,t,i){return nn(e,t,i,"weekdays")}function sn(e,t,i){return nn(e,t,i,"weekdaysShort")}function ln(e,t,i){return nn(e,t,i,"weekdaysMin")}function cn(){var e=this._data;return this._milliseconds=br(this._milliseconds),this._days=br(this._days),this._months=br(this._months),e.milliseconds=br(e.milliseconds),e.seconds=br(e.seconds),e.minutes=br(e.minutes),e.hours=br(e.hours),e.months=br(e.months),e.years=br(e.years),this}function un(e,t,i,n){var o=Qt(t,i);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function dn(e,t){return un(this,e,t,1)}function pn(e,t){return un(this,e,t,-1)}function fn(e){return e<0?Math.floor(e):Math.ceil(e)}function hn(){var e,t,i,n,o,r=this._milliseconds,a=this._days,s=this._months,l=this._data;return r>=0&&a>=0&&s>=0||r<=0&&a<=0&&s<=0||(r+=864e5*fn(gn(s)+a),a=0,s=0),l.milliseconds=r%1e3,e=b(r/1e3),l.seconds=e%60,t=b(e/60),l.minutes=t%60,i=b(t/60),l.hours=i%24,a+=b(i/24),o=b(mn(a)),s+=o,a-=fn(gn(o)),n=b(s/12),s%=12,l.days=a,l.months=s,l.years=n,this}function mn(e){return 4800*e/146097}function gn(e){return 146097*e/4800}function yn(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if(e=L(e),"month"===e||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,i=this._months+mn(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(gn(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function vn(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN}function bn(e){return function(){return this.as(e)}}function wn(){return Qt(this)}function xn(e){return e=L(e),this.isValid()?this[e+"s"]():NaN}function _n(e){return function(){return this.isValid()?this._data[e]:NaN}}function Sn(){return b(this.days()/7)}function Tn(e,t,i,n,o){return o.relativeTime(t||1,!!i,e,n)}function En(e,t,i){var n=Qt(e).abs(),o=Lr(n.as("s")),r=Lr(n.as("m")),a=Lr(n.as("h")),s=Lr(n.as("d")),l=Lr(n.as("M")),c=Lr(n.as("y")),u=o<=Pr.ss&&["s",o]||o<Pr.s&&["ss",o]||r<=1&&["m"]||r<Pr.m&&["mm",r]||a<=1&&["h"]||a<Pr.h&&["hh",a]||s<=1&&["d"]||s<Pr.d&&["dd",s]||l<=1&&["M"]||l<Pr.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=i,Tn.apply(null,u)}function Cn(e){return void 0===e?Lr:"function"==typeof e&&(Lr=e,!0)}function kn(e,t){return void 0!==Pr[e]&&(void 0===t?Pr[e]:(Pr[e]=t,"s"===e&&(Pr.ss=t-1),!0))}function Rn(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=En(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function An(e){return(e>0)-(e<0)||+e}function On(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,n=$r(this._milliseconds)/1e3,o=$r(this._days),r=$r(this._months);e=b(n/60),t=b(e/60),n%=60,e%=60,i=b(r/12),r%=12;var a=i,s=r,l=o,c=t,u=e,d=n?n.toFixed(3).replace(/\.?0+$/,""):"",p=this.asSeconds();if(!p)return"P0D";var f=p<0?"-":"",h=An(this._months)!==An(p)?"-":"",m=An(this._days)!==An(p)?"-":"",g=An(this._milliseconds)!==An(p)?"-":"";return f+"P"+(a?h+a+"Y":"")+(s?h+s+"M":"")+(l?m+l+"D":"")+(c||u||d?"T":"")+(c?g+c+"H":"")+(u?g+u+"M":"")+(d?g+d+"S":"")}var Dn,In;In=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var Nn=e.momentProperties=[],Fn=!1,Mn={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Ln;Ln=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)c(e,t)&&i.push(t);return i};var Pn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},$n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},jn="Invalid date",Hn="%d",zn=/\d{1,2}/,Bn={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Un={},qn={},Yn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Wn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Vn={},Gn={},Xn=/\d/,Jn=/\d\d/,Qn=/\d{3}/,Kn=/\d{4}/,Zn=/[+-]?\d{6}/,eo=/\d\d?/,to=/\d\d\d\d?/,io=/\d\d\d\d\d\d?/,no=/\d{1,3}/,oo=/\d{1,4}/,ro=/[+-]?\d{1,6}/,ao=/\d+/,so=/[+-]?\d+/,lo=/Z|[+-]\d\d:?\d\d/gi,co=/Z|[+-]\d\d(?::?\d\d)?/gi,uo=/[+-]?\d+(\.\d{1,3})?/,po=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,fo={},ho={},mo=0,go=1,yo=2,vo=3,bo=4,wo=5,xo=6,_o=7,So=8;z("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),M("year","y"),$("year",1),W("Y",so),W("YY",eo,Jn),W("YYYY",oo,Kn),W("YYYYY",ro,Zn),W("YYYYYY",ro,Zn),J(["YYYYY","YYYYYY"],mo),J("YYYY",function(t,i){i[mo]=2===t.length?e.parseTwoDigitYear(t):w(t)}),J("YY",function(t,i){i[mo]=e.parseTwoDigitYear(t)}),J("Y",function(e,t){t[mo]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var To,Eo=ie("FullYear",!0);To=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),z("MMMM",0,0,function(e){return this.localeData().months(this,e)}),M("month","M"),$("month",8),W("M",eo),W("MM",eo,Jn),W("MMM",function(e,t){return t.monthsShortRegex(e)}),W("MMMM",function(e,t){return t.monthsRegex(e)}),J(["M","MM"],function(e,t){t[go]=w(e)-1}),J(["MMM","MMMM"],function(e,t,i,n){var o=i._locale.monthsParse(e,n,i._strict);null!=o?t[go]=o:f(i).invalidMonth=e});var Co=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ko="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ro="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ao=po,Oo=po;z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),$("week",5),$("isoWeek",5),W("w",eo),W("ww",eo,Jn),W("W",eo),W("WW",eo,Jn),Q(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=w(e)});var Do={dow:0,doy:6};z("d",0,"do","day"),z("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),z("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),z("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),$("day",11),$("weekday",11),$("isoWeekday",11),W("d",eo),W("e",eo),W("E",eo),W("dd",function(e,t){return t.weekdaysMinRegex(e)}),W("ddd",function(e,t){return t.weekdaysShortRegex(e)}),W("dddd",function(e,t){return t.weekdaysRegex(e)}),Q(["dd","ddd","dddd"],function(e,t,i,n){var o=i._locale.weekdaysParse(e,n,i._strict);null!=o?t.d=o:f(i).invalidWeekday=e}),Q(["d","e","E"],function(e,t,i,n){t[n]=w(e)});var Io="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),No="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Fo="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mo=po,Lo=po,Po=po;z("H",["HH",2],0,"hour"),z("h",["hh",2],0,Ye),z("k",["kk",2],0,We),z("hmm",0,0,function(){return""+Ye.apply(this)+H(this.minutes(),2)}),z("hmmss",0,0,function(){return""+Ye.apply(this)+H(this.minutes(),2)+H(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+H(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+H(this.minutes(),2)+H(this.seconds(),2)}),Ve("a",!0),Ve("A",!1),M("hour","h"),$("hour",13),W("a",Ge),W("A",Ge),W("H",eo),W("h",eo),W("k",eo),W("HH",eo,Jn),W("hh",eo,Jn),W("kk",eo,Jn),W("hmm",to),W("hmmss",io),W("Hmm",to),W("Hmmss",io),J(["H","HH"],vo),J(["k","kk"],function(e,t,i){var n=w(e);t[vo]=24===n?0:n}),J(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),J(["h","hh"],function(e,t,i){t[vo]=w(e),f(i).bigHour=!0}),J("hmm",function(e,t,i){var n=e.length-2;t[vo]=w(e.substr(0,n)),t[bo]=w(e.substr(n)),f(i).bigHour=!0}),J("hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[vo]=w(e.substr(0,n)),t[bo]=w(e.substr(n,2)),t[wo]=w(e.substr(o)),f(i).bigHour=!0}),J("Hmm",function(e,t,i){var n=e.length-2;t[vo]=w(e.substr(0,n)),t[bo]=w(e.substr(n))}),J("Hmmss",function(e,t,i){var n=e.length-4,o=e.length-2;t[vo]=w(e.substr(0,n)),t[bo]=w(e.substr(n,2)),t[wo]=w(e.substr(o))});var $o,jo=/[ap]\.?m?\.?/i,Ho=ie("Hours",!0),zo={calendar:Pn,longDateFormat:$n,invalidDate:jn,ordinal:Hn,dayOfMonthOrdinalParse:zn,relativeTime:Bn,months:ko,monthsShort:Ro,week:Do,weekdays:Io,weekdaysMin:Fo,weekdaysShort:No,meridiemParse:jo},Bo={},Uo={},qo=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Yo=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Wo=/Z|[+-]\d\d(?::?\d\d)?/,Vo=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Go=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Xo=/^\/?Date\((\-?\d+)/i,Jo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Qo={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Ko=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Zo=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ct.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}),er=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];Lt("Z",":"),Lt("ZZ",""),W("Z",co),W("ZZ",co),J(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Pt(co,e)});var ir=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var nr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,or=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Qt.fn=Nt.prototype,Qt.invalid=It;var rr=ti(1,"add"),ar=ti(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var sr=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),lr=1e3,cr=60*lr,ur=60*cr,dr=3506328*ur;z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ji("gggg","weekYear"),ji("ggggg","weekYear"),ji("GGGG","isoWeekYear"),ji("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),$("weekYear",1),$("isoWeekYear",1),W("G",so),W("g",so),W("GG",eo,Jn),W("gg",eo,Jn),W("GGGG",oo,Kn),W("gggg",oo,Kn),W("GGGGG",ro,Zn),W("ggggg",ro,Zn),Q(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=w(e)}),Q(["gg","GG"],function(t,i,n,o){i[o]=e.parseTwoDigitYear(t)}),z("Q",0,"Qo","quarter"),M("quarter","Q"),$("quarter",7),W("Q",Xn),J("Q",function(e,t){t[go]=3*(w(e)-1)}),z("D",["DD",2],"Do","date"),M("date","D"),$("date",9),W("D",eo),W("DD",eo,Jn),W("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),J(["D","DD"],yo),J("Do",function(e,t){t[yo]=w(e.match(eo)[0])});var pr=ie("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),$("dayOfYear",4),W("DDD",no),W("DDDD",Qn),J(["DDD","DDDD"],function(e,t,i){i._dayOfYear=w(e)}),z("m",["mm",2],0,"minute"),M("minute","m"),$("minute",14),W("m",eo),W("mm",eo,Jn),J(["m","mm"],bo);var fr=ie("Minutes",!1);z("s",["ss",2],0,"second"),M("second","s"),$("second",15),W("s",eo),W("ss",eo,Jn),J(["s","ss"],wo);var hr=ie("Seconds",!1);z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),M("millisecond","ms"),$("millisecond",16),W("S",no,Xn),W("SS",no,Jn),W("SSS",no,Qn);var mr;for(mr="SSSS";mr.length<=9;mr+="S")W(mr,ao);for(mr="S";mr.length<=9;mr+="S")J(mr,Gi);var gr=ie("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var yr=y.prototype;yr.add=rr,yr.calendar=oi,yr.clone=ri,yr.diff=pi,yr.endOf=Ri,yr.format=yi,yr.from=vi,yr.fromNow=bi,yr.to=wi,yr.toNow=xi,yr.get=re,yr.invalidAt=Pi,yr.isAfter=ai,yr.isBefore=si,yr.isBetween=li,yr.isSame=ci,yr.isSameOrAfter=ui,yr.isSameOrBefore=di,yr.isValid=Mi,yr.lang=sr,yr.locale=_i,yr.localeData=Si,yr.max=Zo,yr.min=Ko,yr.parsingFlags=Li,yr.set=ae,yr.startOf=ki,yr.subtract=ar,yr.toArray=Ii,yr.toObject=Ni,yr.toDate=Di,yr.toISOString=mi,yr.inspect=gi,yr.toJSON=Fi,yr.toString=hi,yr.unix=Oi,yr.valueOf=Ai,yr.creationData=$i,yr.year=Eo,yr.isLeapYear=te,yr.weekYear=Hi,yr.isoWeekYear=zi,yr.quarter=yr.quarters=Wi,yr.month=he,yr.daysInMonth=me,yr.week=yr.weeks=Re,yr.isoWeek=yr.isoWeeks=Ae,yr.weeksInYear=Ui,yr.isoWeeksInYear=Bi,yr.date=pr,yr.day=yr.days=$e,yr.weekday=je,yr.isoWeekday=He,yr.dayOfYear=Vi,yr.hour=yr.hours=Ho,yr.minute=yr.minutes=fr,yr.second=yr.seconds=hr,yr.millisecond=yr.milliseconds=gr,yr.utcOffset=Ht,yr.utc=Bt,yr.local=Ut,yr.parseZone=qt,yr.hasAlignedHourOffset=Yt,yr.isDST=Wt,yr.isLocal=Gt,yr.isUtcOffset=Xt,yr.isUtc=Jt,yr.isUTC=Jt,yr.zoneAbbr=Xi,yr.zoneName=Ji,yr.dates=S("dates accessor is deprecated. Use date instead.",pr),yr.months=S("months accessor is deprecated. Use month instead",he),yr.years=S("years accessor is deprecated. Use year instead",Eo),yr.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",zt),yr.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Vt);var vr=R.prototype;vr.calendar=A,vr.longDateFormat=O,vr.invalidDate=D,vr.ordinal=I,vr.preparse=Zi,vr.postformat=Zi,vr.relativeTime=N,vr.pastFuture=F,vr.set=C,vr.months=ce,vr.monthsShort=ue,vr.monthsParse=pe,vr.monthsRegex=ye,vr.monthsShortRegex=ge,vr.week=Ee,vr.firstDayOfYear=ke,vr.firstDayOfWeek=Ce,vr.weekdays=Ne,vr.weekdaysMin=Me,vr.weekdaysShort=Fe,vr.weekdaysParse=Pe,vr.weekdaysRegex=ze,vr.weekdaysShortRegex=Be,vr.weekdaysMinRegex=Ue,vr.isPM=Xe,vr.meridiem=Je,et("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,i=1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+i}}),e.lang=S("moment.lang is deprecated. Use moment.locale instead.",et),e.langData=S("moment.langData is deprecated. Use moment.localeData instead.",nt);var br=Math.abs,wr=bn("ms"),xr=bn("s"),_r=bn("m"),Sr=bn("h"),Tr=bn("d"),Er=bn("w"),Cr=bn("M"),kr=bn("Q"),Rr=bn("y"),Ar=_n("milliseconds"),Or=_n("seconds"),Dr=_n("minutes"),Ir=_n("hours"),Nr=_n("days"),Fr=_n("months"),Mr=_n("years"),Lr=Math.round,Pr={ss:44,s:45,m:45,h:22,d:26,M:11},$r=Math.abs,jr=Nt.prototype;return jr.isValid=Dt,jr.abs=cn,jr.add=dn,jr.subtract=pn,jr.as=yn,jr.asMilliseconds=wr,jr.asSeconds=xr,jr.asMinutes=_r,jr.asHours=Sr,jr.asDays=Tr,jr.asWeeks=Er,jr.asMonths=Cr,jr.asQuarters=kr,jr.asYears=Rr,jr.valueOf=vn,jr._bubble=hn,jr.clone=wn,jr.get=xn,jr.milliseconds=Ar,jr.seconds=Or,jr.minutes=Dr,jr.hours=Ir,jr.days=Nr,jr.weeks=Sn,jr.months=Fr,jr.years=Mr,jr.humanize=Rn,jr.toISOString=On,jr.toString=On,jr.toJSON=On,jr.locale=_i,jr.localeData=Si,jr.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",On),jr.lang=sr,z("X",0,0,"unix"),z("x",0,0,"valueOf"),W("x",so),W("X",uo),J("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),J("x",function(e,t,i){i._d=new Date(w(e))}),e.version="2.24.0",t(Ct),e.fn=yr,e.min=Rt,e.max=At,e.now=er,e.utc=d,e.unix=Qi,e.months=on,e.isDate=s,e.locale=et,e.invalid=m,e.duration=Qt,e.isMoment=v,e.weekdays=an,e.parseZone=Ki,e.localeData=nt,e.isDuration=Ft,e.monthsShort=rn,e.weekdaysMin=ln,e.defineLocale=tt,e.updateLocale=it,e.locales=ot,e.weekdaysShort=sn,e.normalizeUnits=L,e.relativeTimeRounding=Cn,e.relativeTimeThreshold=kn,e.calendarFormat=ni,e.prototype=yr,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}),define("moment",["moment/moment"],function(e){return e}),define("userend",["fast","template","moment"],function(e,t,i){var n={api:{sidebar:function(t){colorArr=["red","green","yellow","blue","teal","orange","purple"],$colorNums=colorArr.length,badgeList={},$.each(t,function(t,i){$url=e.api.fixurl(t),$.isArray(i)?($nums="undefined"!=typeof i[0]?i[0]:0,
$color="undefined"!=typeof i[1]?i[1]:colorArr[(isNaN($nums)?$nums.length:$nums)%$colorNums],$class="undefined"!=typeof i[2]?i[2]:"label"):($nums=i,$color=colorArr[(isNaN($nums)?$nums.length:$nums)%$colorNums],$class="label"),badgeList[$url]=$nums>0?'<small class="'+$class+" pull-right bg-"+$color+'">'+$nums+"</small>":""}),$.each(badgeList,function(e,t){var i=top.window.$("li a[addtabs][url='"+e+"']");i&&(top.window.$(".pull-right-container",i).html(t),top.window.$(".nav-addtabs li a[node-id='"+i.attr("addtabs")+"'] .pull-right-container").html(t))})},addtabs:function(t,i,n){var o="a[url='{url}']",r=top.window.$(o.replace(/\{url\}/,t));if(r.size()>0)r.trigger("click");else if(t=e.api.fixurl(t),r=top.window.$(o.replace(/\{url\}/,t)),r.size()>0){var a=r.parent().hasClass("active")?"dblclick":"click";r.trigger(a)}else{var s=t.substr(0,t.indexOf("?")>-1?t.indexOf("?"):t.length);r=top.window.$(o.replace(/\{url\}/,s)),r.size()>0&&(n="undefined"!=typeof n?n:r.find("i").attr("class"),i="undefined"!=typeof i?i:r.find("span:first").text(),r.trigger("fa.event.toggleitem"));var l=top.window.$(".nav-tabs ul li a[node-url='"+t+"']");if(l.size()>0)l.trigger("click");else{var c=Math.floor((new Date).valueOf()*Math.random());n="undefined"!=typeof n?n:"fa fa-circle-o",i="undefined"!=typeof i?i:"",top.window.$("<a />").append('<i class="'+n+'"></i> <span>'+i+"</span>").prop("href",t).attr({url:t,addtabs:c}).addClass("hide").appendTo(top.window.document.body).trigger("click")}}},closetabs:function(t){if("undefined"==typeof t)top.window.$("ul.nav-addtabs li.active .close-tab").trigger("click");else{var i="a[url='{url}']",n=top.window.$(i.replace(/\{url\}/,t));if(0===n.size())if(t=e.api.fixurl(t),n=top.window.$(i.replace(/\{url\}/,t)),0===n.size());else{var o=t.substr(0,t.indexOf("?")>-1?t.indexOf("?"):t.length);n=top.window.$(i.replace(/\{url\}/,o)),0===n.size()&&(n=top.window.$(".nav-tabs ul li a[node-url='"+t+"']"))}n.size()>0&&n.attr("addtabs")&&top.window.$("ul.nav-addtabs li#tab_"+n.attr("addtabs")+" .close-tab").trigger("click")}},replaceids:function(e,t){if(t.indexOf("{ids}")>-1){var i=0,n=$(e).data("table-id");if(n&&$("#"+n).size()>0&&$("#"+n).data("bootstrap.table")){var o=require("table");i=o.api.selectedids($("#"+n)).join(",")}t=t.replace(/\{ids\}/g,i)}return t},refreshmenu:function(){top.window.$(".sidebar-menu").trigger("refresh")},gettablecolumnbutton:function(e){if("undefined"!=typeof e.tableId&&"undefined"!=typeof e.fieldIndex&&"undefined"!=typeof e.buttonIndex){var t=$("#"+e.tableId).bootstrapTable("getOptions");if(t){var i=null;if($.each(t.columns,function(t,n){if($.each(n,function(t,n){if("undefined"!=typeof n.fieldIndex&&n.fieldIndex===e.fieldIndex)return i=n,!1}),i)return!1}),i)return i.buttons[e.buttonIndex]}}return null}},init:function(){/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&$("html").addClass("ios-fix"),Toastr.options.positionClass="index"===Config.controllername?"toast-top-right-index":"toast-top-right",$(document).on("click",".btn-dialog,.dialogit",function(e){var t=this,i=$.extend({},$(t).data()||{}),o=n.api.replaceids(t,$(t).attr("href")),r=$(t).attr("title")||$(t).data("title")||$(t).data("original-title"),a=n.api.gettablecolumnbutton(i);return a&&"function"==typeof a.callback&&(i.callback=a.callback),"undefined"!=typeof i.confirm?Layer.confirm(i.confirm,function(e){n.api.open(o,r,i),Layer.close(e)}):n.api.open(o,r,i),!1}),$(document).on("click",".btn-addtabs,.addtabsit",function(e){var t=this,i=$.extend({},$(t).data()||{}),o=n.api.replaceids(t,$(t).attr("href")),r=$(t).attr("title")||$(t).data("title")||$(t).data("original-title");return"undefined"!=typeof i.confirm?Layer.confirm(i.confirm,function(e){n.api.addtabs(o,r),Layer.close(e)}):n.api.addtabs(o,r),!1}),$(document).on("click",".btn-ajax,.ajaxit",function(e){var t=this,i=$.extend({},$(t).data()||{});"undefined"==typeof i.url&&$(t).attr("href")&&(i.url=$(t).attr("href")),i.url=n.api.replaceids(this,i.url);var o="function"==typeof i.success?i.success:null,r="function"==typeof i.error?i.error:null;delete i.success,delete i.error;var a=n.api.gettablecolumnbutton(i);return a&&("function"==typeof a.success&&(o=a.success),"function"==typeof a.error&&(r=a.error)),!o&&"undefined"!=typeof i.tableId&&"undefined"!=typeof i.refresh&&i.refresh&&(o=function(){$("#"+i.tableId).bootstrapTable("refresh")}),"undefined"!=typeof i.confirm?Layer.confirm(i.confirm,function(e){n.api.ajax(i,o,r),Layer.close(e)}):n.api.ajax(i,o,r),!1}),$(document).on("click",".btn-click,.clickit",function(e){var t=this,i=$.extend({},$(t).data()||{}),n={};if("undefined"!=typeof i.tableId){var o=parseInt(i.rowIndex),r=$("#"+i.tableId).bootstrapTable("getData");n="undefined"!=typeof r[o]?r[o]:{}}var a=Backend.api.gettablecolumnbutton(i),s="function"==typeof a.click?a.click:$.noop;return"undefined"!=typeof i.confirm?Layer.confirm(i.confirm,function(e){s.apply(t,[i,n,a]),Layer.close(e)}):s.apply(t,[i,n,a]),!1}),$(".fixed-footer").size()>0&&$(document.body).css("padding-bottom",$(".fixed-footer").outerHeight()),$(".layer-footer").size()>0&&self===top&&$(".layer-footer").show(),"ontouchstart"in document.documentElement||$("body").tooltip({selector:'[data-toggle="tooltip"]'}),$("body").popover({selector:'[data-toggle="popover"]'})}};return n.api=$.extend(e.api,n.api),window.Template=t,window.Moment=i,window.Userend=n,n.init(),n}),define("userend-init",["userend"],function(e){}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define("moment/locale/zh-cn",["../moment"],t):t(e.moment)}(this,function(e){"use strict";var t=e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,t){return 12===e&&(e=0),""===t||""===t||""===t?e:""===t||""===t?e+12:e>=11?e:e+12},meridiem:function(e,t,i){var n=100*e+t;return n<600?"":n<900?"":n<1130?"":n<1230?"":n<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}});return t}),function(e){"use strict";var t=null,i=function(e){var t=arguments,i=!0,n=1;return e=e.replace(/%s/g,function(){var e=t[n++];return"undefined"==typeof e?(i=!1,""):e}),i?e:""},n=function(t,i,n,o){var r="";return e.each(t,function(e,t){return t[i]!==o||(r=t[n],!1)}),r},o=function(t,i){var n=-1;return e.each(t,function(e,t){return t.field!==i||(n=e,!1)}),n},r=function(t){var i,n,o,r=0,a=[];for(i=0;i<t[0].length;i++)r+=t[0][i].colspan||1;for(i=0;i<t.length;i++)for(a[i]=[],n=0;n<r;n++)a[i][n]=!1;for(i=0;i<t.length;i++)for(n=0;n<t[i].length;n++){var s=t[i][n],l=s.rowspan||1,c=s.colspan||1,u=e.inArray(!1,a[i]);for(1===c&&(s.fieldIndex=u,"undefined"==typeof s.field&&(s.field=u)),o=0;o<l;o++)a[i+o][u]=!0;for(o=0;o<c;o++)a[i][u+o]=!0}},a=function(){if(null===t){var i,n,o=e("<p/>").addClass("fixed-table-scroll-inner"),r=e("<div/>").addClass("fixed-table-scroll-outer");r.append(o),e("body").append(r),i=o[0].offsetWidth,r.css("overflow","scroll"),n=o[0].offsetWidth,i===n&&(n=r[0].clientWidth),r.remove(),t=i-n}return t},s=function(t,n,o,r){var a=n;if("string"==typeof n){var s=n.split(".");s.length>1?(a=window,e.each(s,function(e,t){a=a[t]})):a=window[n]}return"object"==typeof a?a:"function"==typeof a?a.apply(t,o||[]):!a&&"string"==typeof n&&i.apply(this,[n].concat(o))?i.apply(this,[n].concat(o)):r},l=function(t,i,n){var o=Object.getOwnPropertyNames(t),r=Object.getOwnPropertyNames(i),a="";if(n&&o.length!==r.length)return!1;for(var s=0;s<o.length;s++)if(a=o[s],e.inArray(a,r)>-1&&t[a]!==i[a])return!1;return!0},c=function(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):e},u=function(e){for(var t in e){var i=t.split(/(?=[A-Z])/).join("-").toLowerCase();i!==t&&(e[i]=e[t],delete e[t])}return e},d=function(e,t,i){var n=e;if("string"!=typeof t||e.hasOwnProperty(t))return i?c(e[t]):e[t];var o=t.split(".");for(var r in o)o.hasOwnProperty(r)&&(n=n&&n[o[r]]);return i?c(n):n},p=function(){return!!(navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},f=function(){Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=i.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var r,a,s=[];for(r in o)e.call(o,r)&&s.push(r);if(t)for(a=0;a<n;a++)e.call(o,i[a])&&s.push(i[a]);return s}}())},h=function(t,i){this.options=i,this.$el=e(t),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()};h.DEFAULTS={classes:"table table-hover",sortClass:void 0,locale:void 0,height:void 0,undefinedText:"-",sortName:void 0,sortOrder:"asc",sortStable:!1,striped:!1,columns:[[]],data:[],totalField:"total",dataField:"rows",method:"get",url:void 0,ajax:void 0,cache:!0,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(e){return e},queryParamsType:"limit",responseHandler:function(e){return e},pagination:!1,onlyInfoPagination:!1,paginationLoop:!0,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:!1,searchOnEnterKey:!1,strictSearch:!1,searchAlign:"right",selectItemName:"btSelectItem",showHeader:!0,showFooter:!1,showColumns:!1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,buttonsAlign:"right",smartDisplay:!0,escape:!1,minimumCountColumns:1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(e,t){return""},trimOnSearch:!0,clickToSelect:!1,singleSelect:!1,toolbar:void 0,toolbarAlign:"left",checkboxHeader:!0,sortable:!0,silentSort:!0,maintainSelected:!1,searchTimeOut:500,searchText:"",iconSize:void 0,buttonsClass:"default",iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus"},customSearch:e.noop,customSort:e.noop,rowStyle:function(e,t){return{}},rowAttributes:function(e,t){return{}},footerStyle:function(e,t){return{}},onAll:function(e,t){return!1},onClickCell:function(e,t,i,n){return!1},onDblClickCell:function(e,t,i,n){return!1},onClickRow:function(e,t){return!1},onDblClickRow:function(e,t){return!1},onSort:function(e,t){return!1},onCheck:function(e){return!1},onUncheck:function(e){return!1},onCheckAll:function(e){return!1},onUncheckAll:function(e){return!1},onCheckSome:function(e){return!1},onUncheckSome:function(e){return!1},onLoadSuccess:function(e){return!1},onLoadError:function(e){return!1},onColumnSwitch:function(e,t){return!1},onPageChange:function(e,t){return!1},onSearch:function(e){return!1},onToggle:function(e){return!1},onPreBody:function(e){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(e,t,i){return!1},onCollapseRow:function(e,t){return!1},onRefreshOptions:function(e){return!1},onRefresh:function(e){return!1},onResetView:function(){return!1}},h.LOCALES={},h.LOCALES["en-US"]=h.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(e){return i("%s rows per page",e)},formatShowingRows:function(e,t,n){return i("Showing %s to %s of %s rows",e,t,n)},formatDetailPagination:function(e){return i("Showing %s rows",e)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}},e.extend(h.DEFAULTS,h.LOCALES["en-US"]),h.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,class:void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0,escape:!1},h.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh"},h.prototype.init=function(){this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initHiddenRows(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()},h.prototype.initLocale=function(){if(this.options.locale){var t=this.options.locale.split(/-|_/);t[0].toLowerCase(),t[1]&&t[1].toUpperCase(),e.fn.bootstrapTable.locales[this.options.locale]?e.extend(this.options,e.fn.bootstrapTable.locales[this.options.locale]):e.fn.bootstrapTable.locales[t.join("-")]?e.extend(this.options,e.fn.bootstrapTable.locales[t.join("-")]):e.fn.bootstrapTable.locales[t[0]]&&e.extend(this.options,e.fn.bootstrapTable.locales[t[0]])}},h.prototype.initContainer=function(){this.$container=e(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',"bottom"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join("")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$container.find(".fixed-table-footer"),this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.options.striped&&this.$el.addClass("table-striped"),e.inArray("table-no-bordered",this.options.classes.split(" "))!==-1&&this.$tableContainer.addClass("table-no-bordered")},h.prototype.initTable=function(){var t=this,i=[],n=[];if(this.$header=this.$el.find(">thead"),this.$header.length||(this.$header=e("<thead></thead>").appendTo(this.$el)),this.$header.find("tr").each(function(){var t=[];e(this).find("th").each(function(){"undefined"!=typeof e(this).data("field")&&e(this).data("field",e(this).data("field")+""),t.push(e.extend({},{title:e(this).html(),class:e(this).attr("class"),titleTooltip:e(this).attr("title"),rowspan:e(this).attr("rowspan")?+e(this).attr("rowspan"):void 0,colspan:e(this).attr("colspan")?+e(this).attr("colspan"):void 0},e(this).data()))}),i.push(t)}),e.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=e.extend(!0,[],i,this.options.columns),this.columns=[],r(this.options.columns),e.each(this.options.columns,function(i,n){e.each(n,function(n,o){o=e.extend({},h.COLUMN_DEFAULTS,o),"undefined"!=typeof o.fieldIndex&&(t.columns[o.fieldIndex]=o),t.options.columns[i][n]=o})}),!this.options.data.length){var o=[];this.$el.find(">tbody>tr").each(function(i){var r={};r._id=e(this).attr("id"),r._class=e(this).attr("class"),r._data=u(e(this).data()),e(this).find(">td").each(function(n){for(var a,s,l=e(this),c=+l.attr("colspan")||1,d=+l.attr("rowspan")||1;o[i]&&o[i][n];n++);for(a=n;a<n+c;a++)for(s=i;s<i+d;s++)o[s]||(o[s]=[]),o[s][a]=!0;var p=t.columns[n].field;r[p]=e(this).html(),r["_"+p+"_id"]=e(this).attr("id"),r["_"+p+"_class"]=e(this).attr("class"),r["_"+p+"_rowspan"]=e(this).attr("rowspan"),r["_"+p+"_colspan"]=e(this).attr("colspan"),r["_"+p+"_title"]=e(this).attr("title"),r["_"+p+"_data"]=u(e(this).data())}),n.push(r)}),this.options.data=n,n.length&&(this.fromHtml=!0)}},h.prototype.initHeader=function(){var t=this,n={},o=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},e.each(this.options.columns,function(r,a){o.push("<tr>"),0===r&&!t.options.cardView&&t.options.detailView&&o.push(i('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',t.options.columns.length)),e.each(a,function(e,r){var a="",s="",l="",u="",d=i(' class="%s"',r.class),p=(t.options.sortOrder||r.order,"px"),f=r.width;if(void 0===r.width||t.options.cardView||"string"==typeof r.width&&r.width.indexOf("%")!==-1&&(p="%"),r.width&&"string"==typeof r.width&&(f=r.width.replace("%","").replace("px","")),s=i("text-align: %s; ",r.halign?r.halign:r.align),l=i("text-align: %s; ",r.align),u=i("vertical-align: %s; ",r.valign),u+=i("width: %s; ",!r.checkbox&&!r.radio||f?f?f+p:void 0:"36px"),"undefined"!=typeof r.fieldIndex){if(t.header.fields[r.fieldIndex]=r.field,t.header.styles[r.fieldIndex]=l+u,t.header.classes[r.fieldIndex]=d,t.header.formatters[r.fieldIndex]=r.formatter,t.header.events[r.fieldIndex]=r.events,t.header.sorters[r.fieldIndex]=r.sorter,t.header.sortNames[r.fieldIndex]=r.sortName,t.header.cellStyles[r.fieldIndex]=r.cellStyle,t.header.searchables[r.fieldIndex]=r.searchable,!r.visible)return;if(t.options.cardView&&!r.cardVisible)return;n[r.field]=r}o.push("<th"+i(' title="%s"',r.titleTooltip),r.checkbox||r.radio?i(' class="bs-checkbox %s"',r.class||""):d,i(' style="%s"',s+u),i(' rowspan="%s"',r.rowspan),i(' colspan="%s"',r.colspan),i(' data-field="%s"',r.field),">"),o.push(i('<div class="th-inner %s">',t.options.sortable&&r.sortable?"sortable both":"")),a=t.options.escape?c(r.title):r.title,r.checkbox&&(!t.options.singleSelect&&t.options.checkboxHeader&&(a='<input name="btSelectAll" type="checkbox" />'),t.header.stateField=r.field),r.radio&&(a="",t.header.stateField=r.field,t.options.singleSelect=!0),o.push(a),o.push("</div>"),o.push('<div class="fht-cell"></div>'),o.push("</div>"),o.push("</th>")}),o.push("</tr>")}),this.$header.html(o.join("")),this.$header.find("th[data-field]").each(function(t){e(this).data(n[e(this).data("field")])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(i){var n=e(this);return(!t.options.detailView||n.closest(".bootstrap-table")[0]===t.$container[0])&&void(t.options.sortable&&n.parent().data().sortable&&t.onSort(i))}),this.$header.children().children().off("keypress").on("keypress",function(i){if(t.options.sortable&&e(this).data().sortable){var n=i.keyCode||i.which;13==n&&t.onSort(i)}}),e(window).off("resize.bootstrap-table"),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),e(window).on("resize.bootstrap-table",e.proxy(this.resetWidth,this))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",function(){var i=e(this).prop("checked");t[i?"checkAll":"uncheckAll"](),t.updateSelected()})},h.prototype.initFooter=function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()},h.prototype.initData=function(e,t){"append"===t?this.data=this.data.concat(e):"prepend"===t?this.data=[].concat(e).concat(this.data):this.data=e||this.options.data,"append"===t?this.options.data=this.options.data.concat(e):"prepend"===t?this.options.data=[].concat(e).concat(this.options.data):this.options.data=this.data,"server"!==this.options.sidePagination&&this.initSort()},h.prototype.initSort=function(){var t=this,n=this.options.sortName,o="desc"===this.options.sortOrder?-1:1,r=e.inArray(this.options.sortName,this.header.fields),a=0;return this.options.customSort!==e.noop?void this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]):void(r!==-1&&(this.options.sortStable&&e.each(this.data,function(e,t){t.hasOwnProperty("_position")||(t._position=e)}),this.data.sort(function(i,a){t.header.sortNames[r]&&(n=t.header.sortNames[r]);var l=d(i,n,t.options.escape),c=d(a,n,t.options.escape),u=s(t.header,t.header.sorters[r],[l,c]);return void 0!==u?o*u:(void 0!==l&&null!==l||(l=""),void 0!==c&&null!==c||(c=""),t.options.sortStable&&l===c&&(l=i._position,c=a._position),e.isNumeric(l)&&e.isNumeric(c)?(l=parseFloat(l),c=parseFloat(c),l<c?o*-1:o):l===c?0:("string"!=typeof l&&(l=l.toString()),l.localeCompare(c)===-1?o*-1:o))}),void 0!==this.options.sortClass&&(clearTimeout(a),a=setTimeout(function(){t.$el.removeClass(t.options.sortClass);var e=t.$header.find(i('[data-field="%s"]',t.options.sortName).index()+1);t.$el.find(i("tr td:nth-child(%s)",e)).addClass(t.options.sortClass)},250))))},h.prototype.onSort=function(t){var i="keypress"===t.type?e(t.currentTarget):e(t.currentTarget).parent(),n=this.$header.find("th").eq(i.index());return this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===i.data("field")?this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc":(this.options.sortName=i.data("field"),this.options.sortOrder="asc"===i.data("order")?"desc":"asc"),this.trigger("sort",this.options.sortName,this.options.sortOrder),i.add(n).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination?void this.initServer(this.options.silentSort):(this.initSort(),void this.initBody())},h.prototype.initToolbar=function(){var t,n,o=this,r=[],a=0,l=0;this.$toolbar.find(".bs-bars").children().length&&e("body").append(e(this.options.toolbar)),this.$toolbar.html(""),"string"!=typeof this.options.toolbar&&"object"!=typeof this.options.toolbar||e(i('<div class="bs-bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(e(this.options.toolbar)),r=[i('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)],"string"==typeof this.options.icons&&(this.options.icons=s(null,this.options.icons)),this.options.showPaginationSwitch&&r.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="paginationSwitch" aria-label="pagination Switch" title="%s">',this.options.formatPaginationSwitch()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>"),this.options.showRefresh&&r.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" aria-label="refresh" title="%s">',this.options.formatRefresh()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>"),this.options.showToggle&&r.push(i('<button class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" aria-label="toggle" title="%s">',this.options.formatToggle()),i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>"),this.options.showColumns&&(r.push(i('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" aria-label="columns" class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'),e.each(this.columns,function(e,t){if(!t.radio&&!t.checkbox&&(!o.options.cardView||t.cardVisible)){var n=t.visible?' checked="checked"':"";t.switchable&&(r.push(i('<li role="menuitem"><label><input type="checkbox" data-field="%s" value="%s"%s> %s</label></li>',t.field,e,n,t.title)),l++)}}),r.push("</ul>","</div>")),r.push("</div>"),(this.showToolbar||r.length>2)&&this.$toolbar.append(r.join("")),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",e.proxy(this.togglePagination,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off("click").on("click",e.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){o.toggleView()}),this.options.showColumns&&(t=this.$toolbar.find(".keep-open"),l<=this.options.minimumCountColumns&&t.find("input").prop("disabled",!0),t.find("li").off("click").on("click",function(e){e.stopImmediatePropagation()}),t.find("input").off("click").on("click",function(){var t=e(this);o.toggleColumn(e(this).val(),t.prop("checked"),!1),o.trigger("column-switch",e(this).data("field"),t.prop("checked"))})),this.options.search&&(r=[],r.push('<div class="pull-'+this.options.searchAlign+' search">',i('<input class="form-control'+i(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>"),this.$toolbar.append(r.join("")),n=this.$toolbar.find(".search input"),n.off("keyup drop blur").on("keyup drop blur",function(t){o.options.searchOnEnterKey&&13!==t.keyCode||e.inArray(t.keyCode,[37,38,39,40])>-1||(clearTimeout(a),a=setTimeout(function(){o.onSearch(t)},o.options.searchTimeOut))}),p()&&n.off("mouseup").on("mouseup",function(e){clearTimeout(a),a=setTimeout(function(){o.onSearch(e)},o.options.searchTimeOut)}))},h.prototype.onSearch=function(t){var i=e.trim(e(t.currentTarget).val());this.options.trimOnSearch&&e(t.currentTarget).val()!==i&&e(t.currentTarget).val(i),i!==this.searchText&&(this.searchText=i,this.options.searchText=i,this.options.pageNumber=1,this.initSearch(),this.updatePagination(),this.trigger("search",i))},h.prototype.initSearch=function(){var t=this;if("server"!==this.options.sidePagination){if(this.options.customSearch!==e.noop)return void this.options.customSearch.apply(this,[this.searchText]);var i=this.searchText&&(this.options.escape?c(this.searchText):this.searchText).toLowerCase(),n=e.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=n?e.grep(this.options.data,function(t,i){for(var o in n)if(e.isArray(n[o])&&e.inArray(t[o],n[o])===-1||!e.isArray(n[o])&&t[o]!==n[o])return!1;return!0}):this.options.data,this.data=i?e.grep(this.data,function(n,r){for(var a=0;a<t.header.fields.length;a++)if(t.header.searchables[a]){var l,c=e.isNumeric(t.header.fields[a])?parseInt(t.header.fields[a],10):t.header.fields[a],u=t.columns[o(t.columns,c)];if("string"==typeof c){l=n;for(var d=c.split("."),p=0;p<d.length;p++)l=l[d[p]];u&&u.searchFormatter&&(l=s(u,t.header.formatters[a],[l,n,r],l))}else l=n[c];if("string"==typeof l||"number"==typeof l)if(t.options.strictSearch){if((l+"").toLowerCase()===i)return!0}else if((l+"").toLowerCase().indexOf(i)!==-1)return!0}return!1}):this.data}},h.prototype.initPagination=function(){if(!this.options.pagination)return void this.$pagination.hide();this.$pagination.show();var t,n,o,r,a,s,l,c,u,d=this,p=[],f=!1,h=this.getData(),m=this.options.pageList;if("server"!==this.options.sidePagination&&(this.options.totalRows=h.length),this.totalPages=0,this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows())this.options.pageSize=this.options.totalRows,f=!0;else if(this.options.pageSize===this.options.totalRows){var g="string"==typeof this.options.pageList?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;e.inArray(this.options.formatAllRows().toLowerCase(),g)>-1&&(f=!0)}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1,this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),p.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>"),!this.options.onlyInfoPagination){p.push('<span class="page-list">');var y=[i('<span class="btn-group %s">',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?"dropdown":"dropup"),'<button type="button" class="btn'+i(" btn-%s",this.options.buttonsClass)+i(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',f?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'];if("string"==typeof this.options.pageList){var v=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");m=[],e.each(v,function(e,t){m.push(t.toUpperCase()===d.options.formatAllRows().toUpperCase()?d.options.formatAllRows():+t)})}for(e.each(m,function(e,t){if(!d.options.smartDisplay||0===e||m[e-1]<d.options.totalRows){var n;n=f?t===d.options.formatAllRows()?' class="active"':"":t===d.options.pageSize?' class="active"':"",y.push(i('<li role="menuitem"%s><a href="#">%s</a></li>',n,t))}}),y.push("</ul></span>"),p.push(this.options.formatRecordsPerPage(y.join(""))),p.push("</span>"),p.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination">','<ul class="pagination'+i(" pagination-%s",this.options.iconSize)+'">','<li class="page-pre"><a href="#">'+this.options.paginationPreText+"</a></li>"),this.totalPages<5?(n=1,o=this.totalPages):(n=this.options.pageNumber-2,o=n+4,n<1&&(n=1,o=5),o>this.totalPages&&(o=this.totalPages,n=o-4)),this.totalPages>=6&&(this.options.pageNumber>=3&&(p.push('<li class="page-first'+(1===this.options.pageNumber?" active":"")+'">','<a href="#">',1,"</a>","</li>"),
n++),this.options.pageNumber>=4&&(4==this.options.pageNumber||6==this.totalPages||7==this.totalPages?n--:p.push('<li class="page-first-separator disabled">','<a href="#">...</a>',"</li>"),o--)),this.totalPages>=7&&this.options.pageNumber>=this.totalPages-2&&n--,6==this.totalPages?this.options.pageNumber>=this.totalPages-2&&o++:this.totalPages>=7&&(7==this.totalPages||this.options.pageNumber>=this.totalPages-3)&&o++,t=n;t<=o;t++)p.push('<li class="page-number'+(t===this.options.pageNumber?" active":"")+'">','<a href="#">',t,"</a>","</li>");this.totalPages>=8&&this.options.pageNumber<=this.totalPages-4&&p.push('<li class="page-last-separator disabled">','<a href="#">...</a>',"</li>"),this.totalPages>=6&&this.options.pageNumber<=this.totalPages-3&&p.push('<li class="page-last'+(this.totalPages===this.options.pageNumber?" active":"")+'">','<a href="#">',this.totalPages,"</a>","</li>"),p.push('<li class="page-next"><a href="#">'+this.options.paginationNextText+"</a></li>","</ul>","</div>")}this.$pagination.html(p.join("")),this.options.onlyInfoPagination||(r=this.$pagination.find(".page-list a"),a=this.$pagination.find(".page-first"),s=this.$pagination.find(".page-pre"),l=this.$pagination.find(".page-next"),c=this.$pagination.find(".page-last"),u=this.$pagination.find(".page-number"),this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(m.length<2||this.options.totalRows<=m[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]()),this.options.paginationLoop||(1===this.options.pageNumber&&s.addClass("disabled"),this.options.pageNumber===this.totalPages&&l.addClass("disabled")),f&&(this.options.pageSize=this.options.formatAllRows()),r.off("click").on("click",e.proxy(this.onPageListChange,this)),a.off("click").on("click",e.proxy(this.onPageFirst,this)),s.off("click").on("click",e.proxy(this.onPagePre,this)),l.off("click").on("click",e.proxy(this.onPageNext,this)),c.off("click").on("click",e.proxy(this.onPageLast,this)),u.off("click").on("click",e.proxy(this.onPageNumber,this)))},h.prototype.updatePagination=function(t){t&&e(t.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),"server"===this.options.sidePagination?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))},h.prototype.onPageListChange=function(t){var i=e(t.currentTarget);return i.parent().addClass("active").siblings().removeClass("active"),this.options.pageSize=i.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+i.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(t),!1},h.prototype.onPageFirst=function(e){return this.options.pageNumber=1,this.updatePagination(e),!1},h.prototype.onPagePre=function(e){return this.options.pageNumber-1===0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(e),!1},h.prototype.onPageNext=function(e){return this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(e),!1},h.prototype.onPageLast=function(e){return this.options.pageNumber=this.totalPages,this.updatePagination(e),!1},h.prototype.onPageNumber=function(t){if(this.options.pageNumber!==+e(t.currentTarget).text())return this.options.pageNumber=+e(t.currentTarget).text(),this.updatePagination(t),!1},h.prototype.initRow=function(t,o,r,a){var l,u=this,p=[],f={},h=[],m="",g={},y=[];if(!(e.inArray(t,this.hiddenRows)>-1)){if(f=s(this.options,this.options.rowStyle,[t,o],f),f&&f.css)for(l in f.css)h.push(l+": "+f.css[l]);if(g=s(this.options,this.options.rowAttributes,[t,o],g))for(l in g)y.push(i('%s="%s"',l,c(g[l])));return t._data&&!e.isEmptyObject(t._data)&&e.each(t._data,function(e,t){"index"!==e&&(m+=i(' data-%s="%s"',e,t))}),p.push("<tr",i(" %s",y.join(" ")),i(' id="%s"',e.isArray(t)?void 0:t._id),i(' class="%s"',f.classes||(e.isArray(t)?void 0:t._class)),i(' data-index="%s"',o),i(' data-uniqueid="%s"',t[this.options.uniqueId]),i("%s",m),">"),this.options.cardView&&p.push(i('<td colspan="%s"><div class="card-views">',this.header.fields.length)),!this.options.cardView&&this.options.detailView&&p.push("<td>",'<a class="detail-icon" href="#">',i('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>","</td>"),e.each(this.header.fields,function(r,a){var l="",m=d(t,a,u.options.escape),g="",y="",v={},b="",w=u.header.classes[r],x="",_="",S="",T="",E=u.columns[r];if((!u.fromHtml||"undefined"!=typeof m)&&E.visible&&(!u.options.cardView||E.cardVisible)){if(E.escape&&(m=c(m)),f=i('style="%s"',h.concat(u.header.styles[r]).join("; ")),t["_"+a+"_id"]&&(b=i(' id="%s"',t["_"+a+"_id"])),t["_"+a+"_class"]&&(w=i(' class="%s"',t["_"+a+"_class"])),t["_"+a+"_rowspan"]&&(_=i(' rowspan="%s"',t["_"+a+"_rowspan"])),t["_"+a+"_colspan"]&&(S=i(' colspan="%s"',t["_"+a+"_colspan"])),t["_"+a+"_title"]&&(T=i(' title="%s"',t["_"+a+"_title"])),v=s(u.header,u.header.cellStyles[r],[m,t,o,a],v),v.classes&&(w=i(' class="%s"',v.classes)),v.css){var C=[];for(var k in v.css)C.push(k+": "+v.css[k]);f=i('style="%s"',C.concat(u.header.styles[r]).join("; "))}g=s(E,u.header.formatters[r],[m,t,o],m),t["_"+a+"_data"]&&!e.isEmptyObject(t["_"+a+"_data"])&&e.each(t["_"+a+"_data"],function(e,t){"index"!==e&&(x+=i(' data-%s="%s"',e,t))}),E.checkbox||E.radio?(y=E.checkbox?"checkbox":y,y=E.radio?"radio":y,l=[i(u.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',E.class||""),"<input"+i(' data-index="%s"',o)+i(' name="%s"',u.options.selectItemName)+i(' type="%s"',y)+i(' value="%s"',t[u.options.idField])+i(' checked="%s"',g===!0||m||g&&g.checked?"checked":void 0)+i(' disabled="%s"',!E.checkboxEnabled||g&&g.disabled?"disabled":void 0)+" />",u.header.formatters[r]&&"string"==typeof g?g:"",u.options.cardView?"</div>":"</td>"].join(""),t[u.header.stateField]=g===!0||g&&g.checked):(g="undefined"==typeof g||null===g?u.options.undefinedText:g,l=u.options.cardView?['<div class="card-view">',u.options.showHeader?i('<span class="title" %s>%s</span>',f,n(u.columns,"field","title",a)):"",i('<span class="value">%s</span>',g),"</div>"].join(""):[i("<td%s %s %s %s %s %s %s>",b,w,f,x,_,S,T),g,"</td>"].join(""),u.options.cardView&&u.options.smartDisplay&&""===g&&(l='<div class="card-view"></div>')),p.push(l)}}),this.options.cardView&&p.push("</div></td>"),p.push("</tr>"),p.join(" ")}},h.prototype.initBody=function(t){var n=this,r=this.getData();this.trigger("pre-body",r),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=e("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=r.length);for(var a,l=e(document.createDocumentFragment()),c=this.pageFrom-1;c<this.pageTo;c++){var u=r[c],p=this.initRow(u,c,r,l);a=a||!!p,p&&p!==!0&&l.append(p)}a||l.append('<tr class="no-records-found">'+i('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches())+"</tr>"),this.$body.html(l),t||this.scrollTo(0),this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(t){var r=e(this),a=r.parent(),s=n.data[a.data("index")],l=r[0].cellIndex,c=n.getVisibleFields(),u=c[n.options.detailView&&!n.options.cardView?l-1:l],p=n.columns[o(n.columns,u)],f=d(s,u,n.options.escape);if(!r.find(".detail-icon").length&&(n.trigger("click"===t.type?"click-cell":"dbl-click-cell",u,f,s,r),n.trigger("click"===t.type?"click-row":"dbl-click-row",s,a,u),"click"===t.type&&n.options.clickToSelect&&p.clickToSelect)){var h=a.find(i('[name="%s"]',n.options.selectItemName));h.length&&h[0].click()}}),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(){var t=e(this),o=t.parent().parent(),a=o.data("index"),l=r[a];if(o.next().is("tr.detail-view"))t.find("i").attr("class",i("%s %s",n.options.iconsPrefix,n.options.icons.detailOpen)),n.trigger("collapse-row",a,l),o.next().remove();else{t.find("i").attr("class",i("%s %s",n.options.iconsPrefix,n.options.icons.detailClose)),o.after(i('<tr class="detail-view"><td colspan="%s"></td></tr>',o.find("td").length));var c=o.next().find("td"),u=s(n.options,n.options.detailFormatter,[a,l,c],"");1===c.length&&c.append(u),n.trigger("expand-row",a,l,c)}return n.resetView(),!1}),this.$selectItem=this.$body.find(i('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(t){t.stopImmediatePropagation();var i=e(this),o=i.prop("checked"),r=n.data[i.data("index")];n.options.maintainSelected&&e(this).is(":radio")&&e.each(n.options.data,function(e,t){t[n.header.stateField]=!1}),r[n.header.stateField]=o,n.options.singleSelect&&(n.$selectItem.not(this).each(function(){n.data[e(this).data("index")][n.header.stateField]=!1}),n.$selectItem.filter(":checked").not(this).prop("checked",!1)),n.updateSelected(),n.trigger(o?"check":"uncheck",r,i)}),e.each(this.header.events,function(t,i){if(i){"string"==typeof i&&(i=s(null,i));var o=n.header.fields[t],r=e.inArray(o,n.getVisibleFields());n.options.detailView&&!n.options.cardView&&(r+=1);for(var a in i)n.$body.find(">tr:not(.no-records-found)").each(function(){var t=e(this),s=t.find(n.options.cardView?".card-view":"td").eq(r),l=a.indexOf(" "),c=a.substring(0,l),u=a.substring(l+1),d=i[a];s.find(u).off(c).on(c,function(e){var i=t.data("index"),r=n.data[i],a=r[o],s=o.split(".");if(s.length>1){a=r;for(var l=0;l<s.length;l++)a=a[s[l]]}d.apply(this,[e,a,r,i])})})}}),this.updateSelected(),this.resetView(),this.trigger("post-body",r)},h.prototype.initServer=function(t,i,n){var o,r=this,a={},l={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};this.options.pagination&&(l.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,l.pageNumber=this.options.pageNumber),(n||this.options.url||this.options.ajax)&&("limit"===this.options.queryParamsType&&(l={search:l.searchText,sort:l.sortName,order:l.sortOrder},this.options.pagination&&(l.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),l.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize)),e.isEmptyObject(this.filterColumnsPartial)||(l.filter=JSON.stringify(this.filterColumnsPartial,null)),a=s(this.options,this.options.queryParams,[l],a),e.extend(a,i||{}),a!==!1&&(t||this.$tableLoading.show(),o=e.extend({},s(null,this.options.ajaxOptions),{type:this.options.method,url:n||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(a):a,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(e){e=s(r.options,r.options.responseHandler,[e],e),r.load(e),r.trigger("load-success",e),t||r.$tableLoading.hide()},error:function(e){r.trigger("load-error",e.status,e),t||r.$tableLoading.hide()}}),this.options.ajax?s(this,this.options.ajax,[o],null):(this._xhr&&4!==this._xhr.readyState&&this._xhr.abort(),this._xhr=e.ajax(o))))},h.prototype.initSearchText=function(){if(this.options.search&&""!==this.options.searchText){var e=this.$toolbar.find(".search input");e.val(this.options.searchText),this.onSearch({currentTarget:e})}},h.prototype.getCaret=function(){var t=this;e.each(this.$header.find("th"),function(i,n){e(n).find(".sortable").removeClass("desc asc").addClass(e(n).data("field")===t.options.sortName?t.options.sortOrder:"both")})},h.prototype.updateSelected=function(){var t=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.each(function(){e(this).closest("tr")[e(this).prop("checked")?"addClass":"removeClass"]("selected")})},h.prototype.updateRows=function(){var t=this;this.$selectItem.each(function(){t.data[e(this).data("index")][t.header.stateField]=e(this).prop("checked")})},h.prototype.resetRows=function(){var t=this;e.each(this.data,function(e,i){t.$selectAll.prop("checked",!1),t.$selectItem.prop("checked",!1),t.header.stateField&&(i[t.header.stateField]=!1)}),this.initHiddenRows()},h.prototype.trigger=function(t){var i=Array.prototype.slice.call(arguments,1);t+=".bs.table",this.options[h.EVENTS[t]].apply(this.options,i),this.$el.trigger(e.Event(t),i),this.options.onAll(t,i),this.$el.trigger(e.Event("all.bs.table"),[t,i])},h.prototype.resetHeader=function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(e.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)},h.prototype.fitHeader=function(){var t,n,o,r,s=this;if(s.$el.is(":hidden"))return void(s.timeoutId_=setTimeout(e.proxy(s.fitHeader,s),100));if(t=this.$tableBody.get(0),n=t.scrollWidth>t.clientWidth&&t.scrollHeight>t.clientHeight+this.$header.outerHeight()?a():0,this.$el.css("margin-top",-this.$header.outerHeight()),o=e(":focus"),o.length>0){var l=o.parents("th");if(l.length>0){var c=l.attr("data-field");if(void 0!==c){var u=this.$header.find("[data-field='"+c+"']");u.length>0&&u.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css({"margin-right":n}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),r=e(".focus-temp:visible:eq(0)"),r.length>0&&(r.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(function(t){s.$header_.find(i('th[data-field="%s"]',e(this).data("field"))).data(e(this).data())});var d=this.getVisibleFields(),p=this.$header_.find("th");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(t){var n=e(this),o=t;s.options.detailView&&!s.options.cardView&&(0===t&&s.$header_.find("th.detail").find(".fht-cell").width(n.innerWidth()),o=t-1);var r=s.$header_.find(i('th[data-field="%s"]',d[o]));r.length>1&&(r=e(p[n[0].cellIndex])),r.find(".fht-cell").width(n.innerWidth())}),this.$tableBody.off("scroll").on("scroll",function(){s.$tableHeader.scrollLeft(e(this).scrollLeft()),s.options.showFooter&&!s.options.cardView&&s.$tableFooter.scrollLeft(e(this).scrollLeft())}),s.trigger("post-header")},h.prototype.resetFooter=function(){var t=this,n=t.getData(),o=[];this.options.showFooter&&!this.options.cardView&&(!this.options.cardView&&this.options.detailView&&o.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>'),e.each(this.columns,function(e,r){var a,l="",c="",u=[],d={},p=i(' class="%s"',r.class);if(r.visible&&(!t.options.cardView||r.cardVisible)){if(l=i("text-align: %s; ",r.falign?r.falign:r.align),c=i("vertical-align: %s; ",r.valign),d=s(null,t.options.footerStyle),d&&d.css)for(a in d.css)u.push(a+": "+d.css[a]);o.push("<td",p,i(' style="%s"',l+c+u.concat().join("; ")),">"),o.push('<div class="th-inner">'),o.push(s(r,r.footerFormatter,[n],"&nbsp;")||"&nbsp;"),o.push("</div>"),o.push('<div class="fht-cell"></div>'),o.push("</div>"),o.push("</td>")}}),this.$tableFooter.find("tr").html(o.join("")),this.$tableFooter.show(),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(e.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0))},h.prototype.fitFooter=function(){var t,i,n;return clearTimeout(this.timeoutFooter_),this.$el.is(":hidden")?void(this.timeoutFooter_=setTimeout(e.proxy(this.fitFooter,this),100)):(i=this.$el.css("width"),n=i>this.$tableBody.width()?a():0,this.$tableFooter.css({"margin-right":n}).find("table").css("width",i).attr("class",this.$el.attr("class")),t=this.$tableFooter.find("td"),void this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(i){var n=e(this);t.eq(i).find(".fht-cell").width(n.innerWidth())}))},h.prototype.toggleColumn=function(e,t,n){if(e!==-1&&(this.columns[e].visible=t,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var o=this.$toolbar.find(".keep-open input").prop("disabled",!1);n&&o.filter(i('[value="%s"]',e)).prop("checked",t),o.filter(":checked").length<=this.options.minimumCountColumns&&o.filter(":checked").prop("disabled",!0)}},h.prototype.getVisibleFields=function(){var t=this,i=[];return e.each(this.header.fields,function(e,n){var r=t.columns[o(t.columns,n)];r.visible&&i.push(n)}),i},h.prototype.resetView=function(e){var t=0;if(e&&e.height&&(this.options.height=e.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.options.height){var i=this.$toolbar.outerHeight(!0),n=this.$pagination.outerHeight(!0),o=this.options.height-i-n;this.$tableContainer.css("height",o+"px")}return this.options.cardView?(this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),void this.$tableFooter.hide()):(this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),t+=this.$header.outerHeight()):(this.$tableHeader.hide(),this.trigger("post-header")),this.options.showFooter&&(this.resetFooter(),this.options.height&&(t+=this.$tableFooter.outerHeight()+1)),this.getCaret(),this.$tableContainer.css("padding-bottom",t+"px"),void this.trigger("reset-view"))},h.prototype.getData=function(t){return!this.searchText&&e.isEmptyObject(this.filterColumns)&&e.isEmptyObject(this.filterColumnsPartial)?t?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data:t?this.data.slice(this.pageFrom-1,this.pageTo):this.data},h.prototype.load=function(t){var i=!1;"server"===this.options.sidePagination?(this.options.totalRows=t[this.options.totalField],i=t.fixedScroll,t=t[this.options.dataField]):e.isArray(t)||(i=t.fixedScroll,t=t.data),this.initData(t),this.initSearch(),this.initPagination(),this.initBody(i)},h.prototype.append=function(e){this.initData(e,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},h.prototype.prepend=function(e){this.initData(e,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},h.prototype.remove=function(t){var i,n,o=this.options.data.length;if(t.hasOwnProperty("field")&&t.hasOwnProperty("values")){for(i=o-1;i>=0;i--)n=this.options.data[i],n.hasOwnProperty(t.field)&&e.inArray(n[t.field],t.values)!==-1&&(this.options.data.splice(i,1),"server"===this.options.sidePagination&&(this.options.totalRows-=1));o!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},h.prototype.removeAll=function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))},h.prototype.getRowByUniqueId=function(e){var t,i,n,o=this.options.uniqueId,r=this.options.data.length,a=null;for(t=r-1;t>=0;t--){if(i=this.options.data[t],i.hasOwnProperty(o))n=i[o];else{if(!i._data.hasOwnProperty(o))continue;n=i._data[o]}if("string"==typeof n?e=e.toString():"number"==typeof n&&(Number(n)===n&&n%1===0?e=parseInt(e):n===Number(n)&&0!==n&&(e=parseFloat(e))),n===e){a=i;break}}return a},h.prototype.removeByUniqueId=function(e){var t=this.options.data.length,i=this.getRowByUniqueId(e);i&&this.options.data.splice(this.options.data.indexOf(i),1),t!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))},h.prototype.updateByUniqueId=function(t){var i=this,n=e.isArray(t)?t:[t];e.each(n,function(t,n){var o;n.hasOwnProperty("id")&&n.hasOwnProperty("row")&&(o=e.inArray(i.getRowByUniqueId(n.id),i.options.data),o!==-1&&e.extend(i.options.data[o],n.row))}),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},h.prototype.insertRow=function(e){e.hasOwnProperty("index")&&e.hasOwnProperty("row")&&(this.data.splice(e.index,0,e.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))},h.prototype.updateRow=function(t){var i=this,n=e.isArray(t)?t:[t];e.each(n,function(t,n){n.hasOwnProperty("index")&&n.hasOwnProperty("row")&&e.extend(i.options.data[n.index],n.row)}),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},h.prototype.initHiddenRows=function(){this.hiddenRows=[]},h.prototype.showRow=function(e){this.toggleRow(e,!0)},h.prototype.hideRow=function(e){this.toggleRow(e,!1)},h.prototype.toggleRow=function(t,i){var n,o;t.hasOwnProperty("index")?n=this.getData()[t.index]:t.hasOwnProperty("uniqueId")&&(n=this.getRowByUniqueId(t.uniqueId)),n&&(o=e.inArray(n,this.hiddenRows),i||o!==-1?i&&o>-1&&this.hiddenRows.splice(o,1):this.hiddenRows.push(n),this.initBody(!0))},h.prototype.getHiddenRows=function(t){var i=this,n=this.getData(),o=[];return e.each(n,function(t,n){e.inArray(n,i.hiddenRows)>-1&&o.push(n)}),this.hiddenRows=o,o},h.prototype.mergeCells=function(t){var i,n,o,r=t.index,a=e.inArray(t.field,this.getVisibleFields()),s=t.rowspan||1,l=t.colspan||1,c=this.$body.find(">tr");if(this.options.detailView&&!this.options.cardView&&(a+=1),o=c.eq(r).find(">td").eq(a),!(r<0||a<0||r>=this.data.length)){for(i=r;i<r+s;i++)for(n=a;n<a+l;n++)c.eq(i).find(">td").eq(n).hide();o.attr("rowspan",s).attr("colspan",l).show()}},h.prototype.updateCell=function(e){e.hasOwnProperty("index")&&e.hasOwnProperty("field")&&e.hasOwnProperty("value")&&(this.data[e.index][e.field]=e.value,e.reinit!==!1&&(this.initSort(),this.initBody(!0)))},h.prototype.getOptions=function(){return this.options},h.prototype.getSelections=function(){var t=this;return e.grep(this.options.data,function(e){return e[t.header.stateField]===!0})},h.prototype.getAllSelections=function(){var t=this;return e.grep(this.options.data,function(e){return e[t.header.stateField]})},h.prototype.checkAll=function(){this.checkAll_(!0)},h.prototype.uncheckAll=function(){this.checkAll_(!1)},h.prototype.checkInvert=function(){var t=this,i=t.$selectItem.filter(":enabled"),n=i.filter(":checked");i.each(function(){e(this).prop("checked",!e(this).prop("checked"))}),t.updateRows(),t.updateSelected(),t.trigger("uncheck-some",n),n=t.getSelections(),t.trigger("check-some",n)},h.prototype.checkAll_=function(e){var t;e||(t=this.getSelections()),this.$selectAll.add(this.$selectAll_).prop("checked",e),this.$selectItem.filter(":enabled").prop("checked",e),this.updateRows(),e&&(t=this.getSelections()),this.trigger(e?"check-all":"uncheck-all",t)},h.prototype.check=function(e){this.check_(!0,e)},h.prototype.uncheck=function(e){this.check_(!1,e)},h.prototype.check_=function(e,t){var n=this.$selectItem.filter(i('[data-index="%s"]',t)).prop("checked",e);this.data[t][this.header.stateField]=e,this.updateSelected(),this.trigger(e?"check":"uncheck",this.data[t],n)},h.prototype.checkBy=function(e){this.checkBy_(!0,e)},h.prototype.uncheckBy=function(e){this.checkBy_(!1,e)},h.prototype.checkBy_=function(t,n){if(n.hasOwnProperty("field")&&n.hasOwnProperty("values")){var o=this,r=[];e.each(this.options.data,function(a,s){if(!s.hasOwnProperty(n.field))return!1;if(e.inArray(s[n.field],n.values)!==-1){var l=o.$selectItem.filter(":enabled").filter(i('[data-index="%s"]',a)).prop("checked",t);s[o.header.stateField]=t,r.push(s),o.trigger(t?"check":"uncheck",s,l)}}),this.updateSelected(),this.trigger(t?"check-some":"uncheck-some",r)}},h.prototype.destroy=function(){this.$el.insertBefore(this.$container),e(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")},h.prototype.showLoading=function(){this.$tableLoading.show()},h.prototype.hideLoading=function(){this.$tableLoading.hide()},h.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var e=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?e.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown):e.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp),this.updatePagination()},h.prototype.refresh=function(e){e&&e.url&&(this.options.url=e.url),e&&e.pageNumber&&(this.options.pageNumber=e.pageNumber),e&&e.pageSize&&(this.options.pageSize=e.pageSize),this.initServer(e&&e.silent,e&&e.query,e&&e.url),this.trigger("refresh",e)},h.prototype.resetWidth=function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&this.fitFooter()},h.prototype.showColumn=function(e){this.toggleColumn(o(this.columns,e),!0,!0)},h.prototype.hideColumn=function(e){this.toggleColumn(o(this.columns,e),!1,!0)},h.prototype.getHiddenColumns=function(){return e.grep(this.columns,function(e){return!e.visible})},h.prototype.getVisibleColumns=function(){return e.grep(this.columns,function(e){return e.visible})},h.prototype.toggleAllColumns=function(t){if(e.each(this.columns,function(e,i){this.columns[e].visible=t}),this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var i=this.$toolbar.find(".keep-open input").prop("disabled",!1);i.filter(":checked").length<=this.options.minimumCountColumns&&i.filter(":checked").prop("disabled",!0)}},h.prototype.showAllColumns=function(){this.toggleAllColumns(!0)},h.prototype.hideAllColumns=function(){this.toggleAllColumns(!1)},h.prototype.filterBy=function(t){this.filterColumns=e.isEmptyObject(t)?{}:t,this.options.pageNumber=1,this.initSearch(),this.updatePagination()},h.prototype.scrollTo=function(e){if("string"==typeof e&&(e="bottom"===e?this.$tableBody[0].scrollHeight:0),"number"==typeof e&&this.$tableBody.scrollTop(e),"undefined"==typeof e)return this.$tableBody.scrollTop()},h.prototype.getScrollPosition=function(){return this.scrollTo()},h.prototype.selectPage=function(e){e>0&&e<=this.options.totalPages&&(this.options.pageNumber=e,this.updatePagination())},h.prototype.prevPage=function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())},h.prototype.nextPage=function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())},h.prototype.toggleView=function(){this.options.cardView=!this.options.cardView,this.initHeader(),this.initBody(),this.trigger("toggle",this.options.cardView)},h.prototype.refreshOptions=function(t){l(this.options,t,!0)||(this.options=e.extend(this.options,t),this.trigger("refresh-options",this.options),this.destroy(),this.init())},h.prototype.resetSearch=function(e){var t=this.$toolbar.find(".search input");t.val(e||""),this.onSearch({currentTarget:t})},h.prototype.expandRow_=function(e,t){var n=this.$body.find(i('> tr[data-index="%s"]',t));n.next().is("tr.detail-view")===!e&&n.find("> td > .detail-icon").click()},h.prototype.expandRow=function(e){this.expandRow_(!0,e)},h.prototype.collapseRow=function(e){this.expandRow_(!1,e)},h.prototype.expandAllRows=function(t){if(t){var n=this.$body.find(i('> tr[data-index="%s"]',0)),o=this,r=null,a=!1,s=-1;if(n.next().is("tr.detail-view")?n.next().next().is("tr.detail-view")||(n.next().find(".detail-icon").click(),a=!0):(n.find("> td > .detail-icon").click(),a=!0),a)try{s=setInterval(function(){r=o.$body.find("tr.detail-view").last().find(".detail-icon"),r.length>0?r.click():clearInterval(s)},1)}catch(e){clearInterval(s)}}else for(var l=this.$body.children(),c=0;c<l.length;c++)this.expandRow_(!0,e(l[c]).data("index"))},h.prototype.collapseAllRows=function(t){if(t)this.expandRow_(!1,0);else for(var i=this.$body.children(),n=0;n<i.length;n++)this.expandRow_(!1,e(i[n]).data("index"))},h.prototype.updateFormatText=function(e,t){this.options[i("format%s",e)]&&("string"==typeof t?this.options[i("format%s",e)]=function(){return t}:"function"==typeof t&&(this.options[i("format%s",e)]=t)),this.initToolbar(),this.initPagination(),this.initBody()};var m=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getHiddenRows","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText"];e.fn.bootstrapTable=function(t){var i,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var o=e(this),r=o.data("bootstrap.table"),a=e.extend({},h.DEFAULTS,o.data(),"object"==typeof t&&t);if("string"==typeof t){if(e.inArray(t,m)<0)throw new Error("Unknown method: "+t);if(!r)return;i=r[t].apply(r,n),"destroy"===t&&o.removeData("bootstrap.table")}r||o.data("bootstrap.table",r=new h(this,a))}),"undefined"==typeof i?this:i},e.fn.bootstrapTable.Constructor=h,e.fn.bootstrapTable.defaults=h.DEFAULTS,e.fn.bootstrapTable.columnDefaults=h.COLUMN_DEFAULTS,e.fn.bootstrapTable.locales=h.LOCALES,e.fn.bootstrapTable.methods=m,e.fn.bootstrapTable.utils={sprintf:i,getFieldIndex:o,compareObjects:l,calculateObjectValue:s,getItemField:d,objectKeys:f,isIEBrowser:p},e(function(){e('[data-toggle="table"]').bootstrapTable()})}(jQuery),define("bootstrap-table",["bootstrap"],function(e){return function(){var t;return t||e.$.fn.bootstrapTable}}(this)),!function(e){"use strict";e.fn.bootstrapTable.locales["zh-CN"]={formatLoadingMessage:function(){return""},formatRecordsPerPage:function(e){return" "+e+" "},formatShowingRows:function(e,t,i){return" "+e+"  "+t+"  "+i+" "},formatSearch:function(){return""},formatNoMatches:function(){return""},formatPaginationSwitch:function(){return"/"},formatRefresh:function(){return""},formatToggle:function(){return""},formatColumns:function(){return""},formatExport:function(){return""},formatClearFilters:function(){return""}},e.extend(e.fn.bootstrapTable.defaults,e.fn.bootstrapTable.locales["zh-CN"])}(jQuery),define("bootstrap-table-lang",["bootstrap-table"],function(e){return function(){var t;return t||e.$.fn.bootstrapTable.defaults}}(this));var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,t,i){e instanceof String&&(e=String(e));for(var n=e.length,o=0;o<n;o++){var r=e[o];if(t.call(i,r,o,e))return{i:o,v:r}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){e!=Array.prototype&&e!=Object.prototype&&(e[t]=i.value)},$jscomp.getGlobal=function(e){return"undefined"!=typeof window&&window===e?e:"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,t,i,n){if(t){for(i=$jscomp.global,e=e.split("."),n=0;n<e.length-1;n++){var o=e[n];o in i||(i[o]={}),i=i[o]}e=e[e.length-1],n=i[e],t=t(n),t!=n&&null!=t&&$jscomp.defineProperty(i,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.find",function(e){return e?e:function(e,t){return $jscomp.findInternal(this,e,t).v}},"es6","es3"),function(e){e.fn.tableExport=function(t){function i(t){var i=[];return o(t,"thead").each(function(){i.push.apply(i,o(e(this),z.theadSelector).toArray())}),i}function n(t){var i=[];return o(t,"tbody").each(function(){i.push.apply(i,o(e(this),z.tbodySelector).toArray())}),z.tfootSelector.length&&o(t,"tfoot").each(function(){i.push.apply(i,o(e(this),z.tfootSelector).toArray())}),i}function o(t,i){var n=t[0].tagName,o=t.parents(n).length;return t.find(i).filter(function(){return o===e(this).closest(n).parents(n).length})}function r(t){var i=[];return e(t).find("thead").first().find("th").each(function(t,n){
void 0!==e(n).attr("data-field")?i[t]=e(n).attr("data-field"):i[t]=t.toString()}),i}function a(t){var i="undefined"!=typeof t[0].rowIndex,n=!1===i&&"undefined"!=typeof t[0].cellIndex,o=n||i?s(t):t.is(":visible"),r=t.attr("data-tableexport-display");return n&&"none"!==r&&"always"!==r&&(t=e(t[0].parentNode),i="undefined"!=typeof t[0].rowIndex,r=t.attr("data-tableexport-display")),i&&"none"!==r&&"always"!==r&&(r=t.closest("table").attr("data-tableexport-display")),"none"!==r&&(!0===o||"always"===r)}function s(e){var t=[];return K&&(t=Q.filter(function(){var t=!1;return this.nodeType===e[0].nodeType&&("undefined"!=typeof this.rowIndex&&this.rowIndex===e[0].rowIndex?t=!0:"undefined"!=typeof this.cellIndex&&this.cellIndex===e[0].cellIndex&&"undefined"!=typeof this.parentNode.rowIndex&&"undefined"!=typeof e[0].parentNode.rowIndex&&this.parentNode.rowIndex===e[0].parentNode.rowIndex&&(t=!0)),t})),!1===K||0===t.length}function l(t,i,n){var o=!1;return a(t)?0<z.ignoreColumn.length&&(-1!==e.inArray(n,z.ignoreColumn)||-1!==e.inArray(n-i,z.ignoreColumn)||X.length>n&&"undefined"!=typeof X[n]&&-1!==e.inArray(X[n],z.ignoreColumn))&&(o=!0):o=!0,o}function c(t,i,n,r,s){if("function"==typeof s){var c=!1;if("function"==typeof z.onIgnoreRow&&(c=z.onIgnoreRow(e(t),n)),!1===c&&(0===z.ignoreRow.length||-1===e.inArray(n,z.ignoreRow)&&-1===e.inArray(n-r,z.ignoreRow))&&a(e(t))){var u=o(e(t),i),d=0;u.each(function(t){var i,o=e(this),r=R(this),a=A(this);if(e.each(J,function(){if(n>=this.s.r&&n<=this.e.r&&d>=this.s.c&&d<=this.e.c)for(i=0;i<=this.e.c-this.s.c;++i)s(null,n,d++)}),!1===l(o,u.length,t)&&((a||r)&&(r=r||1,J.push({s:{r:n,c:d},e:{r:n+(a||1)-1,c:d+r-1}})),s(this,n,d++)),r)for(i=0;i<r-1;++i)s(null,n,d++)}),e.each(J,function(){if(n>=this.s.r&&n<=this.e.r&&d>=this.s.c&&d<=this.e.c)for(fe=0;fe<=this.e.c-this.s.c;++fe)s(null,n,d++)})}}}function u(e,t,i,n){if("undefined"!=typeof n.images&&(i=n.images[i],"undefined"!=typeof i)){t=t.getBoundingClientRect();var o=e.width/e.height,r=t.width/t.height,a=e.width,s=e.height,l=19.049976/25.4,c=0;r<=o?(s=Math.min(e.height,t.height),a=t.width*s/t.height):r>o&&(a=Math.min(e.width,t.width),s=t.height*a/t.width),a*=l,s*=l,s<e.height&&(c=(e.height-s)/2);try{n.doc.addImage(i.src,e.textPos.x,e.y+c,a,s)}catch(e){}e.textPos.x+=a}}function d(e,t){if("string"===z.outputMode)return e.output();if("base64"===z.outputMode)return j(e.output());if("window"===z.outputMode)window.URL=window.URL||window.webkitURL,window.open(window.URL.createObjectURL(e.output("blob")));else try{var i=e.output("blob");saveAs(i,z.fileName+".pdf")}catch(i){$(z.fileName+".pdf","data:application/pdf"+(t?"":";base64")+",",t?e.output("blob"):e.output())}}function p(e,t,i){var n=0;if("undefined"!=typeof i&&(n=i.colspan),0<=n){for(var o=e.width,r=e.textPos.x,a=t.table.columns.indexOf(t.column),s=1;s<n;s++)o+=t.table.columns[a+s].width;return 1<n&&("right"===e.styles.halign?r=e.textPos.x+o-e.width:"center"===e.styles.halign&&(r=e.textPos.x+(o-e.width)/2)),e.width=o,e.textPos.x=r,"undefined"!=typeof i&&1<i.rowspan&&(e.height*=i.rowspan),"middle"!==e.styles.valign&&"bottom"!==e.styles.valign||(i=("string"==typeof e.text?e.text.split(/\r\n|\r|\n/g):e.text).length||1,2<i&&(e.textPos.y-=(2-1.15)/2*t.row.styles.fontSize*(i-2)/3)),!0}return!1}function f(t,i,n){"undefined"!=typeof t&&null!==t&&(t.hasAttribute("data-tableexport-canvas")?(i=(new Date).getTime(),e(t).attr("data-tableexport-canvas",i),n.images[i]={url:'[data-tableexport-canvas="'+i+'"]',src:null}):"undefined"!==i&&null!=i&&i.each(function(){if(e(this).is("img")){var i=L(this.src);n.images[i]={url:this.src,src:this.src}}f(t,e(this).children(),n)}))}function h(t,i){function n(t){if(t.url)if(t.src){var n=new Image;o=++r,n.crossOrigin="Anonymous",n.onerror=n.onload=function(){if(n.complete&&(0===n.src.indexOf("data:image/")&&(n.width=t.width||n.width||0,n.height=t.height||n.height||0),n.width+n.height)){var e=document.createElement("canvas"),a=e.getContext("2d");e.width=n.width,e.height=n.height,a.drawImage(n,0,0),t.src=e.toDataURL("image/png")}--r||i(o)},n.src=t.url}else{var a=e(t.url);a.length&&(o=++r,html2canvas(a[0]).then(function(e){t.src=e.toDataURL("image/png"),--r||i(o)}))}}var o=0,r=0;if("undefined"!=typeof t.images)for(var a in t.images)t.images.hasOwnProperty(a)&&n(t.images[a]);return(t=r)||(i(o),t=void 0),t}function m(t,i,n){i.each(function(){if(e(this).is("div")){var i=C(O(this,"background-color"),[255,255,255]),o=C(O(this,"border-top-color"),[0,0,0]),r=D(this,"border-top-width",z.jspdf.unit),a=this.getBoundingClientRect(),s=this.offsetLeft*n.wScaleFactor,l=this.offsetTop*n.hScaleFactor,c=a.width*n.wScaleFactor;a=a.height*n.hScaleFactor,n.doc.setDrawColor.apply(void 0,o),n.doc.setFillColor.apply(void 0,i),n.doc.setLineWidth(r),n.doc.rect(t.x+s,t.y+l,c,a,r?"FD":"F")}else e(this).is("img")&&(i=L(this.src),u(t,this,i,n));m(t,e(this).children(),n)})}function g(t,i,n){if("function"==typeof n.onAutotableText)n.onAutotableText(n.doc,t,i);else{var o=t.textPos.x,r=t.textPos.y,a={halign:t.styles.halign,valign:t.styles.valign};if(i.length){for(i=i[0];i.previousSibling;)i=i.previousSibling;for(var s=!1,l=!1;i;){var c=i.innerText||i.textContent||"",u=c.length&&" "===c[0]?" ":"",d=1<c.length&&" "===c[c.length-1]?" ":"";if(!0!==z.preserve.leadingWS&&(c=u+v(c)),!0!==z.preserve.trailingWS&&(c=b(c)+d),e(i).is("br")&&(o=t.textPos.x,r+=n.doc.internal.getFontSize()),e(i).is("b")?s=!0:e(i).is("i")&&(l=!0),(s||l)&&n.doc.setFontType(s&&l?"bolditalic":s?"bold":"italic"),u=n.doc.getStringUnitWidth(c)*n.doc.internal.getFontSize()){if("linebreak"===t.styles.overflow&&o>t.textPos.x&&o+u>t.textPos.x+t.width&&(0<=".,!%*;:=-".indexOf(c.charAt(0))&&(d=c.charAt(0),u=n.doc.getStringUnitWidth(d)*n.doc.internal.getFontSize(),o+u<=t.textPos.x+t.width&&(n.doc.autoTableText(d,o,r,a),c=c.substring(1,c.length)),u=n.doc.getStringUnitWidth(c)*n.doc.internal.getFontSize()),o=t.textPos.x,r+=n.doc.internal.getFontSize()),"visible"!==t.styles.overflow)for(;c.length&&o+u>t.textPos.x+t.width;)c=c.substring(0,c.length-1),u=n.doc.getStringUnitWidth(c)*n.doc.internal.getFontSize();n.doc.autoTableText(c,o,r,a),o+=u}(s||l)&&(e(i).is("b")?s=!1:e(i).is("i")&&(l=!1),n.doc.setFontType(s||l?s?"bold":"italic":"normal")),i=i.nextSibling}t.textPos.x=o,t.textPos.y=r}else n.doc.autoTableText(t.text,t.textPos.x,t.textPos.y,a)}}function y(e,t,i){return null==e?"":e.toString().replace(new RegExp(null==t?"":t.toString().replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1"),"g"),i)}function v(e){return null==e?"":e.toString().replace(/^\s+/,"")}function b(e){return null==e?"":e.toString().replace(/\s+$/,"")}function w(e){z.date.pattern.lastIndex=0;var t=z.date.pattern.exec(e);if(null==t)return!1;if(e=+t[z.date.match_y],0>e||8099<e)return!1;var i=1*t[z.date.match_m];if(t=1*t[z.date.match_d],isNaN(t))return!1;var n=new Date(e,i-1,t);return n.getFullYear()===e&&n.getMonth()===i-1&&n.getDate()===t&&n}function x(e){return e=e||"0",""!==z.numbers.html.thousandsSeparator&&(e=y(e,z.numbers.html.thousandsSeparator,"")),"."!==z.numbers.html.decimalMark&&(e=y(e,z.numbers.html.decimalMark,".")),("number"==typeof e||!1!==jQuery.isNumeric(e))&&e}function _(e){return-1<e.indexOf("%")?(e=x(e.replace(/%/g,"")),!1!==e&&(e/=100)):e=!1,e}function S(t,i,n,o){var r="",a="text";if(null!==t){var s=e(t);if(s[0].hasAttribute("data-tableexport-canvas"))var l="";else if(s[0].hasAttribute("data-tableexport-value"))l=(l=s.attr("data-tableexport-value"))?l+"":"";else if(l=s.html(),"function"==typeof z.onCellHtmlData)l=z.onCellHtmlData(s,i,n,l);else if(""!==l){t=e.parseHTML(l);var c=0,u=0;l="",e.each(t,function(){if(e(this).is("input"))l+=s.find("input").eq(c++).val();else if(e(this).is("select"))l+=s.find("select option:selected").eq(u++).text();else if(e(this).is("br"))l+="<br>";else if("undefined"==typeof e(this).html()?l+=e(this).text():(void 0===jQuery().bootstrapTable||!1===e(this).hasClass("fht-cell")&&!1===e(this).hasClass("filterControl")&&0===s.parents(".detail-view").length)&&(l+=e(this).html()),e(this).is("a")){var t=s.find("a").attr("href")||"";r="function"==typeof z.onCellHtmlHyperlink?z.onCellHtmlHyperlink(s,i,n,t,l):"href"===z.htmlHyperlink?t:l,l=""}})}if(l&&""!==l&&!0===z.htmlContent)r=e.trim(l);else if(l&&""!==l)if(""!==s.attr("data-tableexport-cellformat")){var d=l.replace(/\n/g,"\u2028").replace(/(<\s*br([^>]*)>)/gi,""),p=e("<div/>").html(d).contents();if(t=!1,d="",e.each(p.text().split("\u2028"),function(e,t){0<e&&(d+=" "),!0!==z.preserve.leadingWS&&(t=v(t)),d+=!0!==z.preserve.trailingWS?b(t):t}),e.each(d.split(""),function(e,t){0<e&&(r+="\n"),!0!==z.preserve.leadingWS&&(t=v(t)),!0!==z.preserve.trailingWS&&(t=b(t)),r+=t.replace(/\u00AD/g,"")}),r=r.replace(/\u00A0/g," "),"json"===z.type||"excel"===z.type&&"xmlss"===z.mso.fileFormat||!1===z.numbers.output)t=x(r),!1!==t&&(a="number",r=Number(t));else if((z.numbers.html.decimalMark!==z.numbers.output.decimalMark||z.numbers.html.thousandsSeparator!==z.numbers.output.thousandsSeparator)&&(t=x(r),!1!==t)){p=(""+t.substr(0>t?1:0)).split("."),1===p.length&&(p[1]="");var f=3<p[0].length?p[0].length%3:0;a="number",r=(0>t?"-":"")+(z.numbers.output.thousandsSeparator?(f?p[0].substr(0,f)+z.numbers.output.thousandsSeparator:"")+p[0].substr(f).replace(/(\d{3})(?=\d)/g,"$1"+z.numbers.output.thousandsSeparator):p[0])+(p[1].length?z.numbers.output.decimalMark+p[1]:"")}}else r=l;!0===z.escape&&(r=escape(r)),"function"==typeof z.onCellData&&(r=z.onCellData(s,i,n,r,a))}return void 0!==o&&(o.type=a),r}function T(e){return 0<e.length&&!0===z.preventInjection&&0<="=+-@".indexOf(e.charAt(0))?"'"+e:e}function E(e,t,i){return t+"-"+i.toLowerCase()}function C(e,t){return(e=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/.exec(e))&&(t=[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]),t}function k(e){var t=O(e,"text-align"),i=O(e,"font-weight"),n=O(e,"font-style"),o="";return"start"===t&&(t="rtl"===O(e,"direction")?"right":"left"),700<=i&&(o="bold"),"italic"===n&&(o+=n),""===o&&(o="normal"),t={style:{align:t,bcolor:C(O(e,"background-color"),[255,255,255]),color:C(O(e,"color"),[0,0,0]),fstyle:o},colspan:R(e),rowspan:A(e)},null!==e&&(e=e.getBoundingClientRect(),t.rect={width:e.width,height:e.height}),t}function R(t){var i=e(t).attr("data-tableexport-colspan");return"undefined"==typeof i&&e(t).is("[colspan]")&&(i=e(t).attr("colspan")),parseInt(i)||0}function A(t){var i=e(t).attr("data-tableexport-rowspan");return"undefined"==typeof i&&e(t).is("[rowspan]")&&(i=e(t).attr("rowspan")),parseInt(i)||0}function O(e,t){try{return window.getComputedStyle?(t=t.replace(/([a-z])([A-Z])/,E),window.getComputedStyle(e,null).getPropertyValue(t)):e.currentStyle?e.currentStyle[t]:e.style[t]}catch(e){}return""}function D(e,t,i){if(t=O(e,t).match(/\d+/),null!==t){t=t[0],e=e.parentElement;var n=document.createElement("div");return n.style.overflow="hidden",n.style.visibility="hidden",e.appendChild(n),n.style.width=100+i,i=100/n.offsetWidth,e.removeChild(n),t*i}return 0}function I(e){for(var t=new ArrayBuffer(e.length),i=new Uint8Array(t),n=0;n!==e.length;++n)i[n]=255&e.charCodeAt(n);return t}function N(e){var t=e.c,i="";for(++t;t;t=Math.floor((t-1)/26))i=String.fromCharCode((t-1)%26+65)+i;return i+(""+(e.r+1))}function F(e,t){return"undefined"==typeof t||"number"==typeof t?F(e.s,e.e):("string"!=typeof e&&(e=N(e)),"string"!=typeof t&&(t=N(t)),e===t?e:e+":"+t)}function M(e,t){var i=Number(e);if(!isNaN(i))return i;var n=1;return""!==t.thousandsSeparator&&(e=e.replace(new RegExp("([\\d])"+t.thousandsSeparator+"([\\d])","g"),"$1$2")),"."!==t.decimalMark&&(e=e.replace(new RegExp("([\\d])"+t.decimalMark+"([\\d])","g"),"$1.$2")),e=e.replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""}),isNaN(i=Number(e))?(e=e.replace(/[(](.*)[)]/,function(e,t){return n=-n,t}),isNaN(i=Number(e))?i:i/n):i/n}function L(e){var t,i=0;if(0===e.length)return i;var n=0;for(t=e.length;n<t;n++){var o=e.charCodeAt(n);i=(i<<5)-i+o,i|=0}return i}function P(e,t,i,n,o,r){var a=!0;if("function"==typeof z.onBeforeSaveToFile&&(a=z.onBeforeSaveToFile(e,t,i,n,o),"boolean"!=typeof a&&(a=!0)),a)try{H=new Blob([e],{type:i+";charset="+n}),saveAs(H,t,!1===r),"function"==typeof z.onAfterSaveToFile&&z.onAfterSaveToFile(e,t)}catch(a){$(t,"data:"+i+(n.length?";charset="+n:"")+(o.length?";"+o:"")+",",r?"\ufeff"+e:e)}}function $(e,t,i){var n=window.navigator.userAgent;if(!1!==e&&window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(new Blob([i]),e);else if(!1!==e&&(0<n.indexOf("MSIE ")||n.match(/Trident.*rv\:11\./))){if(t=document.createElement("iframe")){switch(document.body.appendChild(t),t.setAttribute("style","display:none"),t.contentDocument.open("txt/plain","replace"),t.contentDocument.write(i),t.contentDocument.close(),t.contentWindow.focus(),e.substr(e.lastIndexOf(".")+1)){case"doc":case"json":case"png":case"pdf":case"xls":case"xlsx":e+=".txt"}t.contentDocument.execCommand("SaveAs",!0,e),document.body.removeChild(t)}}else{var o=document.createElement("a");if(o){var r=null;o.style.display="none",!1!==e?o.download=e:o.target="_blank","object"==typeof i?(window.URL=window.URL||window.webkitURL,n=[],n.push(i),r=window.URL.createObjectURL(new Blob(n,{type:t})),o.href=r):0<=t.toLowerCase().indexOf("base64,")?o.href=t+j(i):o.href=t+encodeURIComponent(i),document.body.appendChild(o),document.createEvent?(null===q&&(q=document.createEvent("MouseEvents")),q.initEvent("click",!0,!1),o.dispatchEvent(q)):document.createEventObject?o.fireEvent("onclick"):"function"==typeof o.onclick&&o.onclick(),setTimeout(function(){r&&window.URL.revokeObjectURL(r),document.body.removeChild(o),"function"==typeof z.onAfterSaveToFile&&z.onAfterSaveToFile(i,e)},100)}}}function j(e){var t,i="",n=0;if("string"==typeof e){e=e.replace(/\x0d\x0a/g,"\n");var o="";for(t=0;t<e.length;t++){var r=e.charCodeAt(t);128>r?o+=String.fromCharCode(r):(127<r&&2048>r?o+=String.fromCharCode(r>>6|192):(o+=String.fromCharCode(r>>12|224),o+=String.fromCharCode(r>>6&63|128)),o+=String.fromCharCode(63&r|128))}e=o}for(;n<e.length;){var a=e.charCodeAt(n++);o=e.charCodeAt(n++),t=e.charCodeAt(n++),r=a>>2,a=(3&a)<<4|o>>4;var s=(15&o)<<2|t>>6,l=63&t;isNaN(o)?s=l=64:isNaN(t)&&(l=64),i=i+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(s)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(l)}return i}var H,z={csvEnclosure:'"',csvSeparator:",",csvUseBOM:!0,date:{html:"dd/mm/yyyy"},displayTableName:!1,escape:!1,exportHiddenCells:!1,fileName:"tableExport",htmlContent:!1,htmlHyperlink:"content",ignoreColumn:[],ignoreRow:[],jsonScope:"all",jspdf:{orientation:"p",unit:"pt",format:"a4",margins:{left:20,right:10,top:10,bottom:10},onDocCreated:null,autotable:{styles:{cellPadding:2,rowHeight:12,fontSize:8,fillColor:255,textColor:50,fontStyle:"normal",overflow:"ellipsize",halign:"inherit",valign:"middle"},headerStyles:{fillColor:[52,73,94],textColor:255,fontStyle:"bold",halign:"inherit",valign:"middle"},alternateRowStyles:{fillColor:245},tableExport:{doc:null,onAfterAutotable:null,onBeforeAutotable:null,onAutotableText:null,onTable:null,outputImages:!0}}},mso:{fileFormat:"xlshtml",onMsoNumberFormat:null,pageFormat:"a4",pageOrientation:"portrait",rtl:!1,styles:[],worksheetName:"",xslx:{formatId:{date:14,numbers:2}}},numbers:{html:{decimalMark:".",thousandsSeparator:","},output:{decimalMark:".",thousandsSeparator:","}},onAfterSaveToFile:null,onBeforeSaveToFile:null,onCellData:null,onCellHtmlData:null,onCellHtmlHyperlink:null,onIgnoreRow:null,outputMode:"file",pdfmake:{enabled:!1,docDefinition:{pageOrientation:"portrait",defaultStyle:{font:"Roboto"}},fonts:{}},preserve:{leadingWS:!1,trailingWS:!1},preventInjection:!0,sql:{tableEnclosure:"`",columnEnclosure:"`"},tbodySelector:"tr",tfootSelector:"tr",theadSelector:"tr",tableName:"Table",type:"csv"},B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]},U=this,q=null,Y=[],W=[],V=0,G="",X=[],J=[],Q=[],K=!1;if(e.extend(!0,z,t),"xlsx"===z.type&&(z.mso.fileFormat=z.type,z.type="excel"),"undefined"!=typeof z.excelFileFormat&&"undefined"===z.mso.fileFormat&&(z.mso.fileFormat=z.excelFileFormat),"undefined"!=typeof z.excelPageFormat&&"undefined"===z.mso.pageFormat&&(z.mso.pageFormat=z.excelPageFormat),"undefined"!=typeof z.excelPageOrientation&&"undefined"===z.mso.pageOrientation&&(z.mso.pageOrientation=z.excelPageOrientation),"undefined"!=typeof z.excelRTL&&"undefined"===z.mso.rtl&&(z.mso.rtl=z.excelRTL),"undefined"!=typeof z.excelstyles&&"undefined"===z.mso.styles&&(z.mso.styles=z.excelstyles),"undefined"!=typeof z.onMsoNumberFormat&&"undefined"===z.mso.onMsoNumberFormat&&(z.mso.onMsoNumberFormat=z.onMsoNumberFormat),"undefined"!=typeof z.worksheetName&&"undefined"===z.mso.worksheetName&&(z.mso.worksheetName=z.worksheetName),z.mso.pageOrientation="l"===z.mso.pageOrientation.substr(0,1)?"landscape":"portrait",z.date.html=z.date.html||"",z.date.html.length){t=[],t.dd="(3[01]|[12][0-9]|0?[1-9])",t.mm="(1[012]|0?[1-9])",t.yyyy="((?:1[6-9]|2[0-2])\\d{2})",t.yy="(\\d{2})";var Z=z.date.html.match(/[^a-zA-Z0-9]/)[0];Z=z.date.html.toLowerCase().split(Z),z.date.regex="^\\s*",z.date.regex+=t[Z[0]],z.date.regex+="(.)",z.date.regex+=t[Z[1]],z.date.regex+="\\2",z.date.regex+=t[Z[2]],z.date.regex+="\\s*$",z.date.pattern=new RegExp(z.date.regex,"g"),t=Z.indexOf("dd")+1,z.date.match_d=t+(1<t?1:0),t=Z.indexOf("mm")+1,z.date.match_m=t+(1<t?1:0),t=(0<=Z.indexOf("yyyy")?Z.indexOf("yyyy"):Z.indexOf("yy"))+1,z.date.match_y=t+(1<t?1:0)}if(X=r(U),"csv"===z.type||"tsv"===z.type||"txt"===z.type){var ee="",te=0;J=[],V=0;var ie=function(t,i,n){return t.each(function(){G="",c(this,i,V,n+t.length,function(e,t,i){var n=G,o="";null!==e&&(e=S(e,t,i),t=null===e||""===e?"":e.toString(),"tsv"===z.type?(e instanceof Date&&e.toLocaleString(),o=y(t,"\t"," ")):e instanceof Date?o=z.csvEnclosure+e.toLocaleString()+z.csvEnclosure:(o=T(t),o=y(o,z.csvEnclosure,z.csvEnclosure+z.csvEnclosure),(0<=o.indexOf(z.csvSeparator)||/[\r\n ]/g.test(o))&&(o=z.csvEnclosure+o+z.csvEnclosure))),G=n+(o+("tsv"===z.type?"\t":z.csvSeparator))}),G=e.trim(G).substring(0,G.length-1),0<G.length&&(0<ee.length&&(ee+="\n"),ee+=G),V++}),t.length};if(te+=ie(e(U).find("thead").first().find(z.theadSelector),"th,td",te),o(e(U),"tbody").each(function(){te+=ie(o(e(this),z.tbodySelector),"td,th",te)}),z.tfootSelector.length&&ie(e(U).find("tfoot").first().find(z.tfootSelector),"td,th",te),ee+="\n","string"===z.outputMode)return ee;if("base64"===z.outputMode)return j(ee);if("window"===z.outputMode)return void $(!1,"data:text/"+("csv"===z.type?"csv":"plain")+";charset=utf-8,",ee);P(ee,z.fileName+"."+z.type,"text/"+("csv"===z.type?"csv":"plain"),"utf-8","","csv"===z.type&&z.csvUseBOM)}else if("sql"===z.type){V=0,J=[];var ne="INSERT INTO "+z.sql.tableEnclosure+z.tableName+z.sql.tableEnclosure+" (";if(Y=i(e(U)),e(Y).each(function(){c(this,"th,td",V,Y.length,function(e,t,i){ne+=z.sql.columnEnclosure+S(e,t,i)+z.sql.columnEnclosure+","}),V++,ne=e.trim(ne).substring(0,ne.length-1)}),ne+=") VALUES ",W=n(e(U)),e(W).each(function(){G="",c(this,"td,th",V,Y.length+W.length,function(e,t,i){G+="'"+S(e,t,i)+"',"}),3<G.length&&(ne+="("+G,ne=e.trim(ne).substring(0,ne.length-1),ne+="),"),V++}),ne=e.trim(ne).substring(0,ne.length-1),ne+=";","string"===z.outputMode)return ne;if("base64"===z.outputMode)return j(ne);P(ne,z.fileName+".sql","application/sql","utf-8","",!1)}else if("json"===z.type){var oe=[];J=[],Y=i(e(U)),e(Y).each(function(){var e=[];c(this,"th,td",V,Y.length,function(t,i,n){e.push(S(t,i,n))}),oe.push(e)});var re=[];if(W=n(e(U)),e(W).each(function(){var t={},i=0;c(this,"td,th",V,Y.length+W.length,function(e,n,o){oe.length?t[oe[oe.length-1][i]]=S(e,n,o):t[i]=S(e,n,o),i++}),!1===e.isEmptyObject(t)&&re.push(t),V++}),t="",t="head"===z.jsonScope?JSON.stringify(oe):"data"===z.jsonScope?JSON.stringify(re):JSON.stringify({header:oe,data:re}),"string"===z.outputMode)return t;if("base64"===z.outputMode)return j(t);P(t,z.fileName+".json","application/json","utf-8","base64",!1)}else if("xml"===z.type){V=0,J=[];var ae='<?xml version="1.0" encoding="utf-8"?>';ae+="<tabledata><fields>",Y=i(e(U)),e(Y).each(function(){c(this,"th,td",V,Y.length,function(e,t,i){ae+="<field>"+S(e,t,i)+"</field>"}),V++}),ae+="</fields><data>";var se=1;if(W=n(e(U)),e(W).each(function(){var e=1;G="",c(this,"td,th",V,Y.length+W.length,function(t,i,n){G+="<column-"+e+">"+S(t,i,n)+"</column-"+e+">",e++}),0<G.length&&"<column-1></column-1>"!==G&&(ae+='<row id="'+se+'">'+G+"</row>",se++),V++}),ae+="</data></tabledata>","string"===z.outputMode)return ae;if("base64"===z.outputMode)return j(ae);P(ae,z.fileName+".xml","application/xml","utf-8","base64",!1)}else if("excel"===z.type&&"xmlss"===z.mso.fileFormat){var le=[],ce=[];e(U).filter(function(){return a(e(this))}).each(function(){function t(t,i,n){var o=[];return e(t).each(function(){var i=0,r=0;G="",c(this,"td,th",V,n+t.length,function(t,n,a){if(null!==t){var s="";if(n=S(t,n,a),a="String",!1!==jQuery.isNumeric(n))a="Number";else{var l=_(n);!1!==l&&(n=l,a="Number",s+=' ss:StyleID="pct1"')}"Number"!==a&&(n=n.replace(/\n/g,"<br>")),l=R(t),t=A(t),e.each(o,function(){if(V>=this.s.r&&V<=this.e.r&&r>=this.s.c&&r<=this.e.c)for(var e=0;e<=this.e.c-this.s.c;++e)r++,i++}),(t||l)&&(t=t||1,l=l||1,o.push({s:{r:V,c:r},e:{r:V+t-1,c:r+l-1}})),1<l&&(s+=' ss:MergeAcross="'+(l-1)+'"',r+=l-1),1<t&&(s+=' ss:MergeDown="'+(t-1)+'" ss:StyleID="rsp1"'),0<i&&(s+=' ss:Index="'+(r+1)+'"',i=0),G+="<Cell"+s+'><Data ss:Type="'+a+'">'+e("<div />").text(n).html()+"</Data></Cell>\r",r++}}),0<G.length&&(ge+='<Row ss:AutoFitHeight="0">\r'+G+"</Row>\r"),V++}),t.length}var o=e(this),a="";"string"==typeof z.mso.worksheetName&&z.mso.worksheetName.length?a=z.mso.worksheetName+" "+(ce.length+1):"undefined"!=typeof z.mso.worksheetName[ce.length]&&(a=z.mso.worksheetName[ce.length]),a.length||(a=o.find("caption").text()||""),a.length||(a="Table "+(ce.length+1)),a=e.trim(a.replace(/[\\\/[\]*:?'"]/g,"").substring(0,31)),ce.push(e("<div />").text(a).html()),!1===z.exportHiddenCells&&(Q=o.find("tr, th, td").filter(":hidden"),K=0<Q.length),V=0,X=r(this),ge="<Table>\r",a=t(i(o),"th,td",0),t(n(o),"td,th",a),ge+="</Table>\r",le.push(ge)}),t={},Z={};for(var ue,de,pe=0,fe=ce.length;pe<fe;pe++)ue=ce[pe],de=t[ue],de=t[ue]=null==de?1:de+1,2===de&&(ce[Z[ue]]=ce[Z[ue]].substring(0,29)+"-1"),1<t[ue]?ce[pe]=ce[pe].substring(0,29)+"-"+t[ue]:Z[ue]=pe;for(t='<?xml version="1.0" encoding="UTF-8"?>\r<?mso-application progid="Excel.Sheet"?>\r<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet"\r xmlns:o="urn:schemas-microsoft-com:office:office"\r xmlns:x="urn:schemas-microsoft-com:office:excel"\r xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet"\r xmlns:html="http://www.w3.org/TR/REC-html40">\r<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">\r  <Created>'+(new Date).toISOString()+'</Created>\r</DocumentProperties>\r<OfficeDocumentSettings xmlns="urn:schemas-microsoft-com:office:office">\r  <AllowPNG/>\r</OfficeDocumentSettings>\r<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">\r  <WindowHeight>9000</WindowHeight>\r  <WindowWidth>13860</WindowWidth>\r  <WindowTopX>0</WindowTopX>\r  <WindowTopY>0</WindowTopY>\r  <ProtectStructure>False</ProtectStructure>\r  <ProtectWindows>False</ProtectWindows>\r</ExcelWorkbook>\r<Styles>\r  <Style ss:ID="Default" ss:Name="Normal">\r    <Alignment ss:Vertical="Bottom"/>\r    <Borders/>\r    <Font/>\r    <Interior/>\r    <NumberFormat/>\r    <Protection/>\r  </Style>\r  <Style ss:ID="rsp1">\r    <Alignment ss:Vertical="Center"/>\r  </Style>\r  <Style ss:ID="pct1">\r    <NumberFormat ss:Format="Percent"/>\r  </Style>\r</Styles>\r',Z=0;Z<le.length;Z++)t+='<Worksheet ss:Name="'+ce[Z]+'" ss:RightToLeft="'+(z.mso.rtl?"1":"0")+'">\r'+le[Z],t=z.mso.rtl?t+'<WorksheetOptions xmlns="urn:schemas-microsoft-com:office:excel">\r<DisplayRightToLeft/>\r</WorksheetOptions>\r':t+'<WorksheetOptions xmlns="urn:schemas-microsoft-com:office:excel"/>\r',t+="</Worksheet>\r";if(t+="</Workbook>\r","string"===z.outputMode)return t;if("base64"===z.outputMode)return j(t);P(t,z.fileName+".xml","application/xml","utf-8","base64",!1)}else if("excel"===z.type&&"xlsx"===z.mso.fileFormat){var he=[],me=XLSX.utils.book_new();e(U).filter(function(){return a(e(this))}).each(function(){for(var t,i,n,o,r,s,c=e(this),u={},d=this.getElementsByTagName("tr"),p={s:{r:0,c:0},e:{r:0,c:0}},f=[],h=[],m=0,g=0,y=XLSX.SSF.get_table();m<d.length&&1e7>g;++m)if(i=d[m],n=!1,"function"==typeof z.onIgnoreRow&&(n=z.onIgnoreRow(e(i),m)),!1===n&&-1===e.inArray(V,z.ignoreRow)&&-1===e.inArray(V-se,z.ignoreRow)&&a(e(i))){var v=i.children,b=0;for(i=0;i<v.length;++i)s=v[i],r=+R(s)||1,b+=r;var x=0;for(i=n=0;i<v.length;++i)if(s=v[i],r=+R(s)||1,t=i+x,!l(e(s),b,t+(t<n?n-t:0))){for(x+=r-1,t=0;t<f.length;++t){var _=f[t];_.s.c==n&&_.s.r<=g&&g<=_.e.r&&(n=_.e.c+1,t=-1)}(0<(o=+A(s))||1<r)&&f.push({s:{r:g,c:n},e:{r:g+(o||1)-1,c:n+r-1}}),t={type:""},_=S(s,m,i+x,t);var T={t:"s",v:_},E="",C=parseInt(e(s).attr("data-tableexport-xlsxformatid")||0);0===C&&"function"==typeof z.mso.xslx.formatId.numbers&&(C=z.mso.xslx.formatId.numbers(e(s),m,i+x)),0===C&&"function"==typeof z.mso.xslx.formatId.date&&(C=z.mso.xslx.formatId.date(e(s),m,i+x)),49===C||"@"===C?E="s":"number"===t.type||0<C&&14>C||36<C&&41>C||48===C?E="n":("date"===t.type||13<C&&37>C||44<C&&48>C||56===C)&&(E="d"),null!=_&&(0===_.length?T.t=E||"z":0!==_.trim().length&&"s"!==E&&("function"===t.type?T={f:_}:"TRUE"===_?T={t:"b",v:!0}:"FALSE"===_?T={t:"b",v:!1}:"n"!==E&&isNaN(M(_,z.numbers.output))?"d"===E||!1!==w(_)?(0===C&&"function"!=typeof z.mso.xslx.formatId.date&&(C=z.mso.xslx.formatId.date),T={t:"d",v:w(_),z:"string"==typeof C?C:C in y?y[C]:"m/d/yy"}):""===E&&e(s).find("a").length&&(_="href"!==z.htmlHyperlink?_:"",T={f:'=HYPERLINK("'+e(s).find("a").attr("href")+(_.length?'","'+_:"")+'")'}):(0===C&&"function"!=typeof z.mso.xslx.formatId.numbers&&(C=z.mso.xslx.formatId.numbers),T={t:"n",v:M(_,z.numbers.output),z:"string"==typeof C?C:C in y?y[C]:"0.00"}))),u[N({c:n,r:g})]=T,p.e.c<n&&(p.e.c=n),n+=r}++g}f.length&&(u["!merges"]=f),h.length&&(u["!rows"]=h),p.e.r=g-1,u["!ref"]=F(p),1e7<=g&&(u["!fullref"]=F((p.e.r=d.length-m+g-1,p))),d="","string"==typeof z.mso.worksheetName&&z.mso.worksheetName.length?d=z.mso.worksheetName+" "+(he.length+1):"undefined"!=typeof z.mso.worksheetName[he.length]&&(d=z.mso.worksheetName[he.length]),d.length||(d=c.find("caption").text()||""),d.length||(d="Table "+(he.length+1)),d=e.trim(d.replace(/[\\\/[\]*:?'"]/g,"").substring(0,31)),he.push(d),XLSX.utils.book_append_sheet(me,u,d)}),t=XLSX.write(me,{type:"binary",bookType:z.mso.fileFormat,bookSST:!1}),P(I(t),z.fileName+"."+z.mso.fileFormat,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","UTF-8","",!1)}else if("excel"===z.type||"xls"===z.type||"word"===z.type||"doc"===z.type){t="excel"===z.type||"xls"===z.type?"excel":"word",Z="excel"===t?"xls":"doc",ue='xmlns:x="urn:schemas-microsoft-com:office:'+t+'"';var ge="",ye="";if(e(U).filter(function(){return a(e(this))}).each(function(){var t=e(this);""===ye&&(ye=z.mso.worksheetName||t.find("caption").text()||"Table",ye=e.trim(ye.replace(/[\\\/[\]*:?'"]/g,"").substring(0,31))),!1===z.exportHiddenCells&&(Q=t.find("tr, th, td").filter(":hidden"),K=0<Q.length),V=0,J=[],X=r(this),ge+="<table><thead>",Y=i(t),e(Y).each(function(){var t=e(this);G="",c(this,"th,td",V,Y.length,function(e,i,n){if(null!==e){var o="";if(G+="<th",z.mso.styles.length){var r,a=document.defaultView.getComputedStyle(e,null),s=document.defaultView.getComputedStyle(t[0],null);for(r in z.mso.styles){var l=a[z.mso.styles[r]];""===l&&(l=s[z.mso.styles[r]]),""!==l&&"0px none rgb(0, 0, 0)"!==l&&"rgba(0, 0, 0, 0)"!==l&&(o+=""===o?'style="':";",o+=z.mso.styles[r]+":"+l)}}""!==o&&(G+=" "+o+'"'),o=R(e),0<o&&(G+=' colspan="'+o+'"'),o=A(e),0<o&&(G+=' rowspan="'+o+'"'),G+=">"+S(e,i,n)+"</th>"}}),0<G.length&&(ge+="<tr>"+G+"</tr>"),V++}),ge+="</thead><tbody>",W=n(t),e(W).each(function(){var t=e(this);G="",c(this,"td,th",V,Y.length+W.length,function(i,n,o){if(null!==i){var r=S(i,n,o),a="",s=e(i).attr("data-tableexport-msonumberformat");if("undefined"==typeof s&&"function"==typeof z.mso.onMsoNumberFormat&&(s=z.mso.onMsoNumberFormat(i,n,o)),"undefined"!=typeof s&&""!==s&&(a="style=\"mso-number-format:'"+s+"'"),z.mso.styles.length){n=document.defaultView.getComputedStyle(i,null),o=document.defaultView.getComputedStyle(t[0],null);for(var l in z.mso.styles)s=n[z.mso.styles[l]],""===s&&(s=o[z.mso.styles[l]]),""!==s&&"0px none rgb(0, 0, 0)"!==s&&"rgba(0, 0, 0, 0)"!==s&&(a+=""===a?'style="':";",a+=z.mso.styles[l]+":"+s)}G+="<td",""!==a&&(G+=" "+a+'"'),a=R(i),0<a&&(G+=' colspan="'+a+'"'),i=A(i),0<i&&(G+=' rowspan="'+i+'"'),"string"==typeof r&&""!==r&&(r=T(r),r=r.replace(/\n/g,"<br>")),G+=">"+r+"</td>"}}),0<G.length&&(ge+="<tr>"+G+"</tr>"),V++}),z.displayTableName&&(ge+="<tr><td></td></tr><tr><td></td></tr><tr><td>"+S(e("<p>"+z.tableName+"</p>"))+"</td></tr>"),ge+="</tbody></table>"}),ue='<html xmlns:o="urn:schemas-microsoft-com:office:office" '+ue+' xmlns="http://www.w3.org/TR/REC-html40">'+('<meta http-equiv="content-type" content="application/vnd.ms-'+t+'; charset=UTF-8">'),ue+="<head>","excel"===t&&(ue+="<!--[if gte mso 9]>",ue+="<xml>",ue+="<x:ExcelWorkbook>",ue+="<x:ExcelWorksheets>",ue+="<x:ExcelWorksheet>",ue+="<x:Name>",ue+=ye,ue+="</x:Name>",ue+="<x:WorksheetOptions>",ue+="<x:DisplayGridlines/>",z.mso.rtl&&(ue+="<x:DisplayRightToLeft/>"),ue+="</x:WorksheetOptions>",ue+="</x:ExcelWorksheet>",ue+="</x:ExcelWorksheets>",ue+="</x:ExcelWorkbook>",ue+="</xml>",ue+="<![endif]-->"),ue+="<style>",ue+="@page { size:"+z.mso.pageOrientation+"; mso-page-orientation:"+z.mso.pageOrientation+"; }",ue+="@page Section1 {size:"+B[z.mso.pageFormat][0]+"pt "+B[z.mso.pageFormat][1]+"pt",ue+="; margin:1.0in 1.25in 1.0in 1.25in;mso-header-margin:.5in;mso-footer-margin:.5in;mso-paper-source:0;}",ue+="div.Section1 {page:Section1;}",ue+="@page Section2 {size:"+B[z.mso.pageFormat][1]+"pt "+B[z.mso.pageFormat][0]+"pt",ue+=";mso-page-orientation:"+z.mso.pageOrientation+";margin:1.25in 1.0in 1.25in 1.0in;mso-header-margin:.5in;mso-footer-margin:.5in;mso-paper-source:0;}",ue+="div.Section2 {page:Section2;}",ue+="br {mso-data-placement:same-cell;}",ue+="</style>",ue+="</head>",ue+="<body>",ue+='<div class="Section'+("landscape"===z.mso.pageOrientation?"2":"1")+'">',ue+=ge,ue+="</div>",ue+="</body>",ue+="</html>","string"===z.outputMode)return ue;if("base64"===z.outputMode)return j(ue);P(ue,z.fileName+"."+Z,"application/vnd.ms-"+t,"","base64",!1)}else if("png"===z.type)html2canvas(e(U)[0]).then(function(e){e=e.toDataURL();for(var t=atob(e.substring(22)),i=new ArrayBuffer(t.length),n=new Uint8Array(i),o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return"string"===z.outputMode?t:"base64"===z.outputMode?j(e):void("window"===z.outputMode?window.open(e):P(i,z.fileName+".png","image/png","","",!1))});else if("pdf"===z.type)if(!0===z.pdfmake.enabled){t=[];var ve=[];for(V=0,J=[],Z=function(t,i,n){var o=0;return e(t).each(function(){var e=[];c(this,i,V,n,function(t,i,n){if("undefined"!=typeof t&&null!==t){var o=R(t),r=A(t);t=S(t,i,n)||" ",1<o||1<r?e.push({colSpan:o||1,rowSpan:r||1,text:t}):e.push(t)}else e.push(" ");
}),e.length&&ve.push(e),o<e.length&&(o=e.length),V++}),o},Y=i(e(this)),ue=Z(Y,"th,td",Y.length),de=t.length;de<ue;de++)t.push("*");W=n(e(this)),Z(W,"th,td",Y.length+W.length),t={content:[{table:{headerRows:Y.length,widths:t,body:ve}}]},e.extend(!0,t,z.pdfmake.docDefinition),pdfMake.fonts={Roboto:{normal:"Roboto-Regular.ttf",bold:"Roboto-Medium.ttf",italics:"Roboto-Italic.ttf",bolditalics:"Roboto-MediumItalic.ttf"}},e.extend(!0,pdfMake.fonts,z.pdfmake.fonts),pdfMake.createPdf(t).getBuffer(function(e){P(e,z.fileName+".pdf","application/pdf","","",!1)})}else if(!1===z.jspdf.autotable){t={dim:{w:D(e(U).first().get(0),"width","mm"),h:D(e(U).first().get(0),"height","mm")},pagesplit:!1};var be=new jsPDF(z.jspdf.orientation,z.jspdf.unit,z.jspdf.format);be.addHTML(e(U).first(),z.jspdf.margins.left,z.jspdf.margins.top,t,function(){d(be,!1)})}else{var we=z.jspdf.autotable.tableExport;if("string"==typeof z.jspdf.format&&"bestfit"===z.jspdf.format.toLowerCase()){var xe="",_e="",Se=0;e(U).each(function(){if(a(e(this))){var t=D(e(this).get(0),"width","pt");if(t>Se){t>B.a0[0]&&(xe="a0",_e="l");for(var i in B)B.hasOwnProperty(i)&&B[i][1]>t&&(xe=i,_e="l",B[i][0]>t&&(_e="p"));Se=t}}}),z.jspdf.format=""===xe?"a4":xe,z.jspdf.orientation=""===_e?"w":_e}null==we.doc&&(we.doc=new jsPDF(z.jspdf.orientation,z.jspdf.unit,z.jspdf.format),we.wScaleFactor=1,we.hScaleFactor=1,"function"==typeof z.jspdf.onDocCreated)&&z.jspdf.onDocCreated(we.doc),!0===we.outputImages&&(we.images={}),"undefined"!=typeof we.images&&(e(U).filter(function(){return a(e(this))}).each(function(){var t=0;J=[],!1===z.exportHiddenCells&&(Q=e(this).find("tr, th, td").filter(":hidden"),K=0<Q.length),Y=i(e(this)),W=n(e(this)),e(W).each(function(){c(this,"td,th",Y.length+t,Y.length+W.length,function(t){f(t,e(t).children(),we)}),t++})}),Y=[],W=[]),h(we,function(){e(U).filter(function(){return a(e(this))}).each(function(){var t;if(V=0,J=[],!1===z.exportHiddenCells&&(Q=e(this).find("tr, th, td").filter(":hidden"),K=0<Q.length),X=r(this),we.columns=[],we.rows=[],we.teCells={},"function"==typeof we.onTable&&!1===we.onTable(e(this),z))return!0;z.jspdf.autotable.tableExport=null;var o=e.extend(!0,{},z.jspdf.autotable);if(z.jspdf.autotable.tableExport=we,o.margin={},e.extend(!0,o.margin,z.jspdf.margins),o.tableExport=we,"function"!=typeof o.beforePageContent&&(o.beforePageContent=function(t){if(1===t.pageCount){var i=t.table.rows.concat(t.table.headerRow);e.each(i,function(){0<this.height&&(this.height+=(2-1.15)/2*this.styles.fontSize,t.table.height+=(2-1.15)/2*this.styles.fontSize)})}}),"function"!=typeof o.createdHeaderCell&&(o.createdHeaderCell=function(t,i){if(t.styles=e.extend({},i.row.styles),"undefined"!=typeof we.columns[i.column.dataKey]){var n=we.columns[i.column.dataKey];if("undefined"!=typeof n.rect){if(t.contentWidth=n.rect.width,"undefined"==typeof we.heightRatio||0===we.heightRatio){var r=i.row.raw[i.column.dataKey].rowspan?i.row.raw[i.column.dataKey].rect.height/i.row.raw[i.column.dataKey].rowspan:i.row.raw[i.column.dataKey].rect.height;we.heightRatio=t.styles.rowHeight/r}r=i.row.raw[i.column.dataKey].rect.height*we.heightRatio,r>t.styles.rowHeight&&(t.styles.rowHeight=r)}t.styles.halign="inherit"===o.headerStyles.halign?"center":o.headerStyles.halign,t.styles.valign=o.headerStyles.valign,"undefined"!=typeof n.style&&!0!==n.style.hidden&&("inherit"===o.headerStyles.halign&&(t.styles.halign=n.style.align),"inherit"===o.styles.fillColor&&(t.styles.fillColor=n.style.bcolor),"inherit"===o.styles.textColor&&(t.styles.textColor=n.style.color),"inherit"===o.styles.fontStyle&&(t.styles.fontStyle=n.style.fstyle))}}),"function"!=typeof o.createdCell&&(o.createdCell=function(e,t){t=we.teCells[t.row.index+":"+t.column.dataKey],e.styles.halign="inherit"===o.styles.halign?"center":o.styles.halign,e.styles.valign=o.styles.valign,"undefined"!=typeof t&&"undefined"!=typeof t.style&&!0!==t.style.hidden&&("inherit"===o.styles.halign&&(e.styles.halign=t.style.align),"inherit"===o.styles.fillColor&&(e.styles.fillColor=t.style.bcolor),"inherit"===o.styles.textColor&&(e.styles.textColor=t.style.color),"inherit"===o.styles.fontStyle&&(e.styles.fontStyle=t.style.fstyle))}),"function"!=typeof o.drawHeaderCell&&(o.drawHeaderCell=function(e,t){var i=we.columns[t.column.dataKey];return(!0!==i.style.hasOwnProperty("hidden")||!0!==i.style.hidden)&&0<=i.rowIndex&&p(e,t,i)}),"function"!=typeof o.drawCell&&(o.drawCell=function(t,i){var n=we.teCells[i.row.index+":"+i.column.dataKey];if(!0!==("undefined"!=typeof n&&n.isCanvas))p(t,i,n)&&(we.doc.rect(t.x,t.y,t.width,t.height,t.styles.fillStyle),"undefined"!=typeof n&&"undefined"!=typeof n.elements&&n.elements.length?(i=t.height/n.rect.height,i>we.hScaleFactor&&(we.hScaleFactor=i),we.wScaleFactor=t.width/n.rect.width,i=t.textPos.y,m(t,n.elements,we),t.textPos.y=i,g(t,n.elements,we)):g(t,{},we));else{n=n.elements[0];var o=e(n).attr("data-tableexport-canvas"),r=n.getBoundingClientRect();t.width=r.width*we.wScaleFactor,t.height=r.height*we.hScaleFactor,i.row.height=t.height,u(t,n,o,we)}return!1}),we.headerrows=[],Y=i(e(this)),e(Y).each(function(){t=0,we.headerrows[V]=[],c(this,"th,td",V,Y.length,function(e,i,n){var o=k(e);o.title=S(e,i,n),o.key=t++,o.rowIndex=V,we.headerrows[V].push(o)}),V++}),0<V)for(var a=V-1;0<=a;)e.each(we.headerrows[a],function(){var e=this;0<a&&null===this.rect&&(e=we.headerrows[a-1][this.key]),null!==e&&0<=e.rowIndex&&(!0!==e.style.hasOwnProperty("hidden")||!0!==e.style.hidden)&&we.columns.push(e)}),a=0<we.columns.length?-1:a-1;var s=0;W=[],W=n(e(this)),e(W).each(function(){var i=[];t=0,c(this,"td,th",V,Y.length+W.length,function(n,o,r){if("undefined"==typeof we.columns[t]){var a={title:"",key:t,style:{hidden:!0}};we.columns.push(a)}"undefined"!=typeof n&&null!==n?(a=k(n),a.isCanvas=n.hasAttribute("data-tableexport-canvas"),a.elements=a.isCanvas?e(n):e(n).children()):(a=e.extend(!0,{},we.teCells[s+":"+(t-1)]),a.colspan=-1),we.teCells[s+":"+t++]=a,i.push(S(n,o,r))}),i.length&&(we.rows.push(i),s++),V++}),"function"==typeof we.onBeforeAutotable&&we.onBeforeAutotable(e(this),we.columns,we.rows,o),we.doc.autoTable(we.columns,we.rows,o),"function"==typeof we.onAfterAutotable&&we.onAfterAutotable(e(this),o),z.jspdf.autotable.startY=we.doc.autoTableEndPosY()+o.margin.top}),d(we.doc,"undefined"!=typeof we.images&&!1===jQuery.isEmptyObject(we.images)),"undefined"!=typeof we.headerrows&&(we.headerrows.length=0),"undefined"!=typeof we.columns&&(we.columns.length=0),"undefined"!=typeof we.rows&&(we.rows.length=0),delete we.doc,we.doc=null})}return this}}(jQuery),define("tableexport",["jquery"],function(e){return function(){var t;return t||e.$.fn.extend}}(this)),!function(e){"use strict";var t=e.fn.bootstrapTable.utils.sprintf,i={json:"JSON",xml:"XML",png:"PNG",csv:"CSV",txt:"TXT",sql:"SQL",doc:"MS-Word",excel:"MS-Excel",xlsx:"MS-Excel (OpenXML)",powerpoint:"MS-Powerpoint",pdf:"PDF"};e.extend(e.fn.bootstrapTable.defaults,{showExport:!1,exportDataType:"basic",exportTypes:["json","xml","csv","txt","sql","excel"],exportOptions:{}}),e.extend(e.fn.bootstrapTable.defaults.icons,{export:"glyphicon-export icon-share"}),e.extend(e.fn.bootstrapTable.locales,{formatExport:function(){return"Export data"}}),e.extend(e.fn.bootstrapTable.defaults,e.fn.bootstrapTable.locales);var n=e.fn.bootstrapTable.Constructor,o=n.prototype.initToolbar;n.prototype.initToolbar=function(){if(this.showToolbar=this.options.showExport,o.apply(this,Array.prototype.slice.apply(arguments)),this.options.showExport){var n=this,r=this.$toolbar.find(">.btn-group"),a=r.find("div.export");if(!a.length){a=e(['<div class="export btn-group">','<button class="btn'+t(" btn-%s",this.options.buttonsClass)+t(" btn-%s",this.options.iconSize)+' dropdown-toggle" aria-label="export type" title="'+this.options.formatExport()+'" data-toggle="dropdown" type="button">',t('<i class="%s %s"></i> ',this.options.iconsPrefix,this.options.icons.export),'<span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">',"</ul>","</div>"].join("")).appendTo(r);var s=a.find(".dropdown-menu"),l=this.options.exportTypes;if("string"==typeof this.options.exportTypes){var c=this.options.exportTypes.slice(1,-1).replace(/ /g,"").split(",");l=[],e.each(c,function(e,t){l.push(t.slice(1,-1))})}e.each(l,function(e,t){i.hasOwnProperty(t)&&s.append(['<li role="menuitem" data-type="'+t+'">','<a href="javascript:void(0)">',i[t],"</a>","</li>"].join(""))}),s.find("li").click(function(){var t=e(this).data("type"),i=function(){n.$el.tableExport(e.extend({},n.options.exportOptions,{type:t,escape:!1}))};if("all"===n.options.exportDataType&&n.options.pagination)n.$el.one("server"===n.options.sidePagination?"post-body.bs.table":"page-change.bs.table",function(){i(),n.togglePagination()}),n.togglePagination();else if("selected"===n.options.exportDataType){var o=n.getData(),r=n.getAllSelections();"server"===n.options.sidePagination&&(o={total:n.options.totalRows},o[n.options.dataField]=n.getData(),r={total:n.options.totalRows},r[n.options.dataField]=n.getAllSelections()),n.load(r),i(),n.load(o)}else i()})}}}}(jQuery),define("bootstrap-table-export",["bootstrap-table","tableexport"],function(e){return function(){var t;return t||e.$.fn.bootstrapTable.defaults}}(this)),!function(e,t){var i=function(){var e={};return t.apply(e,arguments),e.moxie};"function"==typeof define&&define.amd?define("moxie",[],i):"object"==typeof module&&module.exports?module.exports=i():e.moxie=i()}(this||window,function(){!function(e,t){"use strict";function i(e,t){for(var i,n=[],o=0;o<e.length;++o){if(i=s[e[o]]||r(e[o]),!i)throw"module definition dependecy not found: "+e[o];n.push(i)}t.apply(null,n)}function n(e,n,o){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(n===t)throw"invalid module definition, dependencies must be specified";if(o===t)throw"invalid module definition, definition function must be specified";i(n,function(){s[e]=o.apply(null,arguments)})}function o(e){return!!s[e]}function r(t){for(var i=e,n=t.split(/[.\/]/),o=0;o<n.length;++o){if(!i[n[o]])return;i=i[n[o]]}return i}function a(i){for(var n=0;n<i.length;n++){for(var o=e,r=i[n],a=r.split(/[.\/]/),l=0;l<a.length-1;++l)o[a[l]]===t&&(o[a[l]]={}),o=o[a[l]];o[a[a.length-1]]=s[r]}}var s={};n("moxie/core/utils/Basic",[],function(){function e(e){var t;return e===t?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()}function t(){return a(!1,!1,arguments)}function i(){return a(!0,!1,arguments)}function n(){return a(!1,!0,arguments)}function o(){return a(!0,!0,arguments)}function r(i){switch(e(i)){case"array":return Array.prototype.slice.call(i);case"object":return t({},i)}return i}function a(t,i,n){var o,s=n[0];return l(n,function(n,c){c>0&&l(n,function(n,l){var c=-1!==p(e(n),["array","object"]);return!!(n===o||t&&s[l]===o)||(c&&i&&(n=r(n)),void(e(s[l])===e(n)&&c?a(t,i,[s[l],n]):s[l]=n))})}),s}function s(e,t){function i(){this.constructor=e}for(var n in t)({}).hasOwnProperty.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__parent__=t.prototype,e}function l(e,t){var i,n,o,r;if(e){try{i=e.length}catch(e){i=r}if(i===r||"number"!=typeof i){for(n in e)if(e.hasOwnProperty(n)&&t(e[n],n)===!1)return}else for(o=0;i>o;o++)if(t(e[o],o)===!1)return}}function c(t){var i;if(!t||"object"!==e(t))return!0;for(i in t)return!1;return!0}function u(t,i){function n(o){"function"===e(t[o])&&t[o](function(e){++o<r&&!e?n(o):i(e)})}var o=0,r=t.length;"function"!==e(i)&&(i=function(){}),t&&t.length||i(),n(o)}function d(e,t){var i=0,n=e.length,o=new Array(n);l(e,function(e,r){e(function(e){if(e)return t(e);var a=[].slice.call(arguments);a.shift(),o[r]=a,i++,i===n&&(o.unshift(null),t.apply(this,o))})})}function p(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i}return-1}function f(t,i){var n=[];"array"!==e(t)&&(t=[t]),"array"!==e(i)&&(i=[i]);for(var o in t)-1===p(t[o],i)&&n.push(t[o]);return!!n.length&&n}function h(e,t){var i=[];return l(e,function(e){-1!==p(e,t)&&i.push(e)}),i.length?i:null}function m(e){var t,i=[];for(t=0;t<e.length;t++)i[t]=e[t];return i}function g(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e}function y(e){if("string"!=typeof e)return e;var t,i={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9\.]+)([tmgk]?)$/.exec(e.toLowerCase().replace(/[^0-9\.tmkg]/g,"")),t=e[2],e=+e[1],i.hasOwnProperty(t)&&(e*=i[t]),Math.floor(e)}function v(t){var i=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=i.shift();return"undefined"!==e(t)?t:""})}function b(e,t){var i=this;setTimeout(function(){e.call(i)},t||1)}var w=function(){var e=0;return function(t){var i,n=(new Date).getTime().toString(32);for(i=0;5>i;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+n+(e++).toString(32)}}();return{guid:w,typeOf:e,extend:t,extendIf:i,extendImmutable:n,extendImmutableIf:o,inherit:s,each:l,isEmptyObj:c,inSeries:u,inParallel:d,inArray:p,arrayDiff:f,arrayIntersect:h,toArray:m,trim:g,sprintf:v,parseSizeStr:y,delay:b}}),n("moxie/core/utils/Encode",[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))},i=function(e,i){if("function"==typeof window.atob)return i?t(window.atob(e)):window.atob(e);var n,o,r,a,s,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,f=0,h="",m=[];if(!e)return e;e+="";do a=d.indexOf(e.charAt(p++)),s=d.indexOf(e.charAt(p++)),l=d.indexOf(e.charAt(p++)),c=d.indexOf(e.charAt(p++)),u=a<<18|s<<12|l<<6|c,n=255&u>>16,o=255&u>>8,r=255&u,m[f++]=64==l?String.fromCharCode(n):64==c?String.fromCharCode(n,o):String.fromCharCode(n,o,r);while(p<e.length);return h=m.join(""),i?t(h):h},n=function(t,i){if(i&&(t=e(t)),"function"==typeof window.btoa)return window.btoa(t);var n,o,r,a,s,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=0,f=0,h="",m=[];if(!t)return t;do n=t.charCodeAt(p++),o=t.charCodeAt(p++),r=t.charCodeAt(p++),u=n<<16|o<<8|r,a=63&u>>18,s=63&u>>12,l=63&u>>6,c=63&u,m[f++]=d.charAt(a)+d.charAt(s)+d.charAt(l)+d.charAt(c);while(p<t.length);h=m.join("");var g=t.length%3;return(g?h.slice(0,g-3):h)+"===".slice(g||3)};return{utf8_encode:e,utf8_decode:t,atob:i,btoa:n}}),n("moxie/core/utils/Env",["moxie/core/utils/Basic"],function(e){function t(e,t,i){var n=0,o=0,r=0,a={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},s=function(e){return e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},l=function(e){return e?isNaN(e)?a[e]||-7:parseInt(e,10):0};for(e=s(e),t=s(t),o=Math.max(e.length,t.length),n=0;o>n;n++)if(e[n]!=t[n]){if(e[n]=l(e[n]),t[n]=l(t[n]),e[n]<t[n]){r=-1;break}if(e[n]>t[n]){r=1;break}}if(!i)return r;switch(i){case">":case"gt":return r>0;case">=":case"ge":return r>=0;case"<=":case"le":return 0>=r;case"==":case"=":case"eq":return 0===r;case"<>":case"!=":case"ne":return 0!==r;case"":case"<":case"lt":return 0>r;default:return null}}var i=function(e){var t="",i="?",n="function",o="undefined",r="object",a="name",s="version",l={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},c={rgx:function(){for(var t,i,a,s,l,c,u,d=0,p=arguments;d<p.length;d+=2){var f=p[d],h=p[d+1];if(typeof t===o){t={};for(s in h)l=h[s],typeof l===r?t[l[0]]=e:t[l]=e}for(i=a=0;i<f.length;i++)if(c=f[i].exec(this.getUA())){for(s=0;s<h.length;s++)u=c[++a],l=h[s],typeof l===r&&l.length>0?2==l.length?t[l[0]]=typeof l[1]==n?l[1].call(this,u):l[1]:3==l.length?t[l[0]]=typeof l[1]!==n||l[1].exec&&l[1].test?u?u.replace(l[1],l[2]):e:u?l[1].call(this,u,l[2]):e:4==l.length&&(t[l[0]]=u?l[3].call(this,u.replace(l[1],l[2])):e):t[l]=u?u:e;break}if(c)break}return t},str:function(t,n){for(var o in n)if(typeof n[o]===r&&n[o].length>0){for(var a=0;a<n[o].length;a++)if(l.has(n[o][a],t))return o===i?e:o}else if(l.has(n[o],t))return o===i?e:o;return t}},u={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},d={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[a,s],[/\s(opr)\/([\w\.]+)/i],[[a,"Opera"],s],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi)\/([\w\.-]+)/i],[a,s],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[a,"IE"],s],[/(edge)\/((\d+)?[\w\.]+)/i],[a,s],[/(yabrowser)\/([\w\.]+)/i],[[a,"Yandex"],s],[/(comodo_dragon)\/([\w\.]+)/i],[[a,/_/g," "],s],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?([\w\.]+)/i],[a,s],[/(dolfin)\/([\w\.]+)/i],[[a,"Dolphin"],s],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[a,"Chrome"],s],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[s,[a,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[s,[a,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[s,[a,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[s,[a,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[s,a],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[a,[s,c.str,u.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[a,s],[/(navigator|netscape)\/([\w\.-]+)/i],[[a,"Netscape"],s],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[a,s]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[s,[a,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,s],[/rv\:([\w\.]+).*(gecko)/i],[s,a]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[a,s],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[s,c.str,u.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[s,c.str,u.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],s],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[a,s],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],s],[/\((series40);/i],[a],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],s],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,s],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],s],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],s],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,s],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[a,"iOS"],[s,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[a,"Mac OS"],[s,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[a,s]]},p=function(e){var i=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:t);this.getBrowser=function(){return c.rgx.apply(this,d.browser)},this.getEngine=function(){return c.rgx.apply(this,d.engine)},this.getOS=function(){return c.rgx.apply(this,d.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i)};return p}(),n=function(){var t={define_property:function(){return!1}(),create_canvas:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var i=new XMLHttpRequest;if(i.open("get","/"),"responseType"in i)return i.responseType=t,i.responseType===t}}catch(e){}return!1},use_data_uri:function(){var e=new Image;return e.onload=function(){t.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return t.use_data_uri&&("IE"!==r.browser||r.version>=9)},use_data_uri_of:function(e){return t.use_data_uri&&33e3>e||t.use_data_uri_over32kb()},use_fileinput:function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var e=document.createElement("input");return e.setAttribute("type","file"),!e.disabled}};return function(i){var n=[].slice.call(arguments);return n.shift(),"function"===e.typeOf(t[i])?t[i].apply(this,n):!!t[i]}}(),o=(new i).getResult(),r={can:n,uaParser:i,browser:o.browser.name,version:o.browser.version,os:o.os.name,osVersion:o.os.version,verComp:t,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return r.OS=r.os,r}),n("moxie/core/Exceptions",["moxie/core/utils/Basic"],function(e){function t(e,t){var i;for(i in e)if(e[i]===t)return i;return null}return{RuntimeError:function(){function i(e,i){this.code=e,this.name=t(n,e),this.message=this.name+(i||": RuntimeError "+this.code)}var n={NOT_INIT_ERR:1,EXCEPTION_ERR:3,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(i,n),i.prototype=Error.prototype,i}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": ImageError "+this.code}var n={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2,INVALID_META_ERR:3};return e.extend(i,n),i.prototype=Error.prototype,i}(),FileException:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": FileException "+this.code}var n={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(i,n),i.prototype=Error.prototype,i}(),DOMException:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": DOMException "+this.code}var n={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(i,n),i.prototype=Error.prototype,i}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),n("moxie/core/utils/Dom",["moxie/core/utils/Env"],function(e){var t=function(e){return"string"!=typeof e?e:document.getElementById(e)},i=function(e,t){if(!e.className)return!1;var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return i.test(e.className)},n=function(e,t){i(e,t)||(e.className=e.className?e.className.replace(/\s+$/,"")+" "+t:t)},o=function(e,t){if(e.className){var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(i,function(e,t,i){return" "===t&&" "===i?" ":""})}},r=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},a=function(t,i){function n(e){var t,i,n=0,o=0;return e&&(i=e.getBoundingClientRect(),t="CSS1Compat"===c.compatMode?c.documentElement:c.body,n=i.left+t.scrollLeft,o=i.top+t.scrollTop),{x:n,y:o}}var o,r,a,s=0,l=0,c=document;if(t=t,i=i||c.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!c.documentMode||c.documentMode<8))return r=n(t),a=n(i),{x:r.x-a.x,y:r.y-a.y};for(o=t;o&&o!=i&&o.nodeType;)s+=o.offsetLeft||0,l+=o.offsetTop||0,o=o.offsetParent;for(o=t.parentNode;o&&o!=i&&o.nodeType;)s-=o.scrollLeft||0,l-=o.scrollTop||0,o=o.parentNode;return{x:s,y:l}},s=function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}};return{get:t,hasClass:i,addClass:n,removeClass:o,getStyle:r,getPos:a,getSize:s}}),n("moxie/core/EventTarget",["moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Basic"],function(e,t,i){function n(){this.uid=i.guid()}var o={};return i.extend(n.prototype,{init:function(){this.uid||(this.uid=i.guid("uid_"))},addEventListener:function(e,t,n,r){var a,s=this;return this.hasOwnProperty("uid")||(this.uid=i.guid("uid_")),e=i.trim(e),/\s/.test(e)?void i.each(e.split(/\s+/),function(e){s.addEventListener(e,t,n,r)}):(e=e.toLowerCase(),n=parseInt(n,10)||0,a=o[this.uid]&&o[this.uid][e]||[],a.push({fn:t,priority:n,scope:r||this}),o[this.uid]||(o[this.uid]={}),void(o[this.uid][e]=a))},hasEventListener:function(e){var t;return e?(e=e.toLowerCase(),t=o[this.uid]&&o[this.uid][e]):t=o[this.uid],!!t&&t},removeEventListener:function(e,t){var n,r,a=this;if(e=e.toLowerCase(),/\s/.test(e))return void i.each(e.split(/\s+/),function(e){a.removeEventListener(e,t)});if(n=o[this.uid]&&o[this.uid][e]){if(t){for(r=n.length-1;r>=0;r--)if(n[r].fn===t){n.splice(r,1);break}}else n=[];n.length||(delete o[this.uid][e],i.isEmptyObj(o[this.uid])&&delete o[this.uid])}},removeAllEventListeners:function(){o[this.uid]&&delete o[this.uid]},dispatchEvent:function(e){var n,r,a,s,l,c={},u=!0;if("string"!==i.typeOf(e)){if(s=e,"string"!==i.typeOf(s.type))throw new t.EventException(t.EventException.UNSPECIFIED_EVENT_TYPE_ERR);e=s.type,s.total!==l&&s.loaded!==l&&(c.total=s.total,c.loaded=s.loaded),c.async=s.async||!1}if(-1!==e.indexOf("::")?function(t){n=t[0],e=t[1]}(e.split("::")):n=this.uid,e=e.toLowerCase(),r=o[n]&&o[n][e]){r.sort(function(e,t){return t.priority-e.priority}),a=[].slice.call(arguments),a.shift(),c.type=e,a.unshift(c);var d=[];i.each(r,function(e){a[0].target=e.scope,c.async?d.push(function(t){setTimeout(function(){t(e.fn.apply(e.scope,a)===!1)},1)}):d.push(function(t){t(e.fn.apply(e.scope,a)===!1)})}),d.length&&i.inSeries(d,function(e){u=!e})}return u},bindOnce:function(e,t,i,n){var o=this;o.bind.call(this,e,function i(){return o.unbind(e,i),t.apply(this,arguments)},i,n)},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},handleEventProps:function(e){var t=this;this.bind(e.join(" "),function(e){var t="on"+e.type.toLowerCase();"function"===i.typeOf(this[t])&&this[t].apply(this,arguments)}),i.each(e,function(e){e="on"+e.toLowerCase(e),"undefined"===i.typeOf(t[e])&&(t[e]=null)})}}),n.instance=new n,n}),n("moxie/runtime/Runtime",["moxie/core/utils/Env","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/EventTarget"],function(e,t,i,n){function o(e,n,r,s,l){var c,u=this,d=t.guid(n+"_"),p=l||"browser";e=e||{},a[d]=this,r=t.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},r),e.preferred_caps&&(p=o.getMode(s,e.preferred_caps,p)),c=function(){var e={};return{exec:function(t,i,n,o){return c[i]&&(e[t]||(e[t]={context:this,instance:new c[i]}),e[t].instance[n])?e[t].instance[n].apply(this,o):void 0},removeInstance:function(t){delete e[t]},removeAllInstances:function(){var i=this;t.each(e,function(e,n){"function"===t.typeOf(e.instance.destroy)&&e.instance.destroy.call(e.context),i.removeInstance(n)})}}}(),t.extend(this,{initialized:!1,uid:d,type:n,mode:o.getMode(s,e.required_caps,p),shimid:d+"_container",clients:0,options:e,can:function(e,i){var n=arguments[2]||r;if("string"===t.typeOf(e)&&"undefined"===t.typeOf(i)&&(e=o.parseCaps(e)),"object"===t.typeOf(e)){for(var a in e)if(!this.can(a,e[a],n))return!1;return!0}return"function"===t.typeOf(n[e])?n[e].call(this,i):i===n[e]},getShimContainer:function(){var e,n=i.get(this.shimid);return n||(e=i.get(this.options.container)||document.body,n=document.createElement("div"),n.id=this.shimid,n.className="moxie-shim moxie-shim-"+this.type,t.extend(n.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),e.appendChild(n),e=null),n},getShim:function(){return c},shimExec:function(e,t){var i=[].slice.call(arguments,2);return u.getShim().exec.call(this,this.uid,e,t,i)},exec:function(e,t){var i=[].slice.call(arguments,2);return u[e]&&u[e][t]?u[e][t].apply(this,i):u.shimExec.apply(this,arguments)},destroy:function(){if(u){var e=i.get(this.shimid);e&&e.parentNode.removeChild(e),c&&c.removeAllInstances(),this.unbindAll(),delete a[this.uid],this.uid=null,d=u=c=e=null}}}),this.mode&&e.required_caps&&!this.can(e.required_caps)&&(this.mode=!1)}var r={},a={};return o.order="html5,flash,silverlight,html4",o.getRuntime=function(e){return!!a[e]&&a[e]},o.addConstructor=function(e,t){t.prototype=n.instance,r[e]=t},o.getConstructor=function(e){return r[e]||null},o.getInfo=function(e){var t=o.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},o.parseCaps=function(e){var i={};return"string"!==t.typeOf(e)?e||{}:(t.each(e.split(","),function(e){i[e]=!0}),i)},o.can=function(e,t){var i,n,r=o.getConstructor(e);return!!r&&(i=new r({required_caps:t}),n=i.mode,i.destroy(),!!n)},o.thatCan=function(e,t){var i=(t||o.order).split(/\s*,\s*/);for(var n in i)if(o.can(i[n],e))return i[n];return null},o.getMode=function(e,i,n){var o=null;if("undefined"===t.typeOf(n)&&(n="browser"),i&&!t.isEmptyObj(e)){if(t.each(i,function(i,n){if(e.hasOwnProperty(n)){var r=e[n](i);if("string"==typeof r&&(r=[r]),o){if(!(o=t.arrayIntersect(o,r)))return o=!1}else o=r}}),o)return-1!==t.inArray(n,o)?n:o[0];if(o===!1)return!1}return n},o.capTrue=function(){return!0},o.capFalse=function(){return!1},o.capTest=function(e){return function(){return!!e}},o}),n("moxie/runtime/RuntimeClient",["moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/Runtime"],function(e,t,i,n){return function(){var e;i.extend(this,{connectRuntime:function(o){function r(i){var a,l;return i.length?(a=i.shift().toLowerCase(),(l=n.getConstructor(a))?(e=new l(o),e.bind("Init",function(){e.initialized=!0,setTimeout(function(){e.clients++,s.ruid=e.uid,s.trigger("RuntimeInit",e)},1)}),e.bind("Error",function(){e.destroy(),r(i)}),e.bind("Exception",function(e,i){
var n=i.name+"(#"+i.code+")"+(i.message?", from: "+i.message:"");s.trigger("RuntimeError",new t.RuntimeError(t.RuntimeError.EXCEPTION_ERR,n))}),e.mode?void e.init():void e.trigger("Error")):void r(i)):(s.trigger("RuntimeError",new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)),void(e=null))}var a,s=this;if("string"===i.typeOf(o)?a=o:"string"===i.typeOf(o.ruid)&&(a=o.ruid),a){if(e=n.getRuntime(a))return s.ruid=a,e.clients++,e;throw new t.RuntimeError(t.RuntimeError.NOT_INIT_ERR)}r((o.runtime_order||n.order).split(/\s*,\s*/))},disconnectRuntime:function(){e&&--e.clients<=0&&e.destroy(),e=null},getRuntime:function(){return e&&e.uid?e:e=null},exec:function(){return e?e.exec.apply(this,arguments):null},can:function(t){return!!e&&e.can(t)}})}}),n("moxie/file/Blob",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient"],function(e,t,i){function n(r,a){function s(t,i,r){var a,s=o[this.uid];return"string"===e.typeOf(s)&&s.length?(a=new n(null,{type:r,size:i-t}),a.detach(s.substr(t,a.size)),a):null}i.call(this),r&&this.connectRuntime(r),a?"string"===e.typeOf(a)&&(a={data:a}):a={},e.extend(this,{uid:a.uid||e.guid("uid_"),ruid:r,size:a.size||0,type:a.type||"",slice:function(e,t,i){return this.isDetached()?s.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,i)},getSource:function(){return o[this.uid]?o[this.uid]:null},detach:function(e){if(this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy"),this.disconnectRuntime(),this.ruid=null),e=e||"","data:"==e.substr(0,5)){var i=e.indexOf(";base64,");this.type=e.substring(5,i),e=t.atob(e.substring(i+8))}this.size=e.length,o[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(o[this.uid])},destroy:function(){this.detach(),delete o[this.uid]}}),a.data?this.detach(a.data):o[this.uid]=a}var o={};return n}),n("moxie/core/I18n",["moxie/core/utils/Basic"],function(e){var t={};return{addI18n:function(i){return e.extend(t,i)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var i=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=i.shift();return"undefined"!==e.typeOf(t)?t:""})}}}),n("moxie/core/utils/Mime",["moxie/core/utils/Basic","moxie/core/I18n"],function(e,t){var i="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",n={mimes:{},extensions:{},addMimeType:function(e){var t,i,n,o=e.split(/,/);for(t=0;t<o.length;t+=2){for(n=o[t+1].split(/ /),i=0;i<n.length;i++)this.mimes[n[i]]=o[t];this.extensions[o[t]]=n}},extList2mimes:function(t,i){var n,o,r,a,s=this,l=[];for(o=0;o<t.length;o++)for(n=t[o].extensions.split(/\s*,\s*/),r=0;r<n.length;r++){if("*"===n[r])return[];if(a=s.mimes[n[r]],a&&-1===e.inArray(a,l)&&l.push(a),i&&/^\w+$/.test(n[r]))l.push("."+n[r]);else if(!a)return[]}return l},mimes2exts:function(t){var i=this,n=[];return e.each(t,function(t){if("*"===t)return n=[],!1;var o=t.match(/^(\w+)\/(\*|\w+)$/);o&&("*"===o[2]?e.each(i.extensions,function(e,t){new RegExp("^"+o[1]+"/").test(t)&&[].push.apply(n,i.extensions[t])}):i.extensions[t]&&[].push.apply(n,i.extensions[t]))}),n},mimes2extList:function(i){var n=[],o=[];return"string"===e.typeOf(i)&&(i=e.trim(i).split(/\s*,\s*/)),o=this.mimes2exts(i),n.push({title:t.translate("Files"),extensions:o.length?o.join(","):"*"}),n.mimes=i,n},getFileExtension:function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""},getFileMime:function(e){return this.mimes[this.getFileExtension(e)]||""}};return n.addMimeType(i),n}),n("moxie/file/FileInput",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Mime","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/I18n","moxie/runtime/Runtime","moxie/runtime/RuntimeClient"],function(e,t,i,n,o,r,a,s,l){function c(t){var r,c,d;if(-1!==e.inArray(e.typeOf(t),["string","node"])&&(t={browse_button:t}),c=n.get(t.browse_button),!c)throw new o.DOMException(o.DOMException.NOT_FOUND_ERR);d={accept:[{title:a.translate("All Files"),extensions:"*"}],multiple:!1,required_caps:!1,container:c.parentNode||document.body},t=e.extend({},d,t),"string"==typeof t.required_caps&&(t.required_caps=s.parseCaps(t.required_caps)),"string"==typeof t.accept&&(t.accept=i.mimes2extList(t.accept)),r=n.get(t.container),r||(r=document.body),"static"===n.getStyle(r,"position")&&(r.style.position="relative"),r=c=null,l.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){var i=this;i.bind("RuntimeInit",function(o,r){i.ruid=r.uid,i.shimid=r.shimid,i.bind("Ready",function(){i.trigger("Refresh")},999),i.bind("Refresh",function(){var i,o,a,s,l;a=n.get(t.browse_button),s=n.get(r.shimid),a&&(i=n.getPos(a,n.get(t.container)),o=n.getSize(a),l=parseInt(n.getStyle(a,"z-index"),10)||0,s&&e.extend(s.style,{top:i.y+"px",left:i.x+"px",width:o.w+"px",height:o.h+"px",zIndex:l+1})),s=a=null}),r.exec.call(i,"FileInput","init",t)}),i.connectRuntime(e.extend({},t,{required_caps:{select_file:!0}}))},getOption:function(e){return t[e]},setOption:function(e,n){if(t.hasOwnProperty(e)){var r=t[e];switch(e){case"accept":"string"==typeof n&&(n=i.mimes2extList(n));break;case"container":case"required_caps":throw new o.FileException(o.FileException.NO_MODIFICATION_ALLOWED_ERR)}t[e]=n,this.exec("FileInput","setOption",e,n),this.trigger("OptionChanged",e,n,r)}},disable:function(t){var i=this.getRuntime();i&&this.exec("FileInput","disable","undefined"===e.typeOf(t)||t)},refresh:function(){this.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null,this.unbindAll()}}),this.handleEventProps(u)}var u=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return c.prototype=r.instance,c}),n("moxie/file/File",["moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/file/Blob"],function(e,t,i){function n(n,o){o||(o={}),i.apply(this,arguments),this.type||(this.type=t.getFileMime(o.name));var r;if(o.name)r=o.name.replace(/\\/g,"/"),r=r.substr(r.lastIndexOf("/")+1);else if(this.type){var a=this.type.split("/")[0];r=e.guid((""!==a?a:"file")+"_"),t.extensions[this.type]&&(r+="."+t.extensions[this.type][0])}e.extend(this,{name:r||e.guid("file_"),relativePath:"",lastModifiedDate:o.lastModifiedDate||(new Date).toLocaleString()})}return n.prototype=i.prototype,n}),n("moxie/file/FileDrop",["moxie/core/I18n","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/core/utils/Basic","moxie/core/utils/Env","moxie/file/File","moxie/runtime/RuntimeClient","moxie/core/EventTarget","moxie/core/utils/Mime"],function(e,t,i,n,o,r,a,s,l){function c(i){var o,r=this;"string"==typeof i&&(i={drop_zone:i}),o={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},i="object"==typeof i?n.extend({},o,i):o,i.container=t.get(i.drop_zone)||document.body,"static"===t.getStyle(i.container,"position")&&(i.container.style.position="relative"),"string"==typeof i.accept&&(i.accept=l.mimes2extList(i.accept)),a.call(r),n.extend(r,{uid:n.guid("uid_"),ruid:null,files:null,init:function(){r.bind("RuntimeInit",function(e,t){r.ruid=t.uid,t.exec.call(r,"FileDrop","init",i),r.dispatchEvent("ready")}),r.connectRuntime(i)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null,this.unbindAll()}}),this.handleEventProps(u)}var u=["ready","dragenter","dragleave","drop","error"];return c.prototype=s.instance,c}),n("moxie/file/FileReader",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/Exceptions","moxie/core/EventTarget","moxie/file/Blob","moxie/runtime/RuntimeClient"],function(e,t,i,n,o,r){function a(){function n(e,n){if(this.trigger("loadstart"),this.readyState===a.LOADING)return this.trigger("error",new i.DOMException(i.DOMException.INVALID_STATE_ERR)),void this.trigger("loadend");if(!(n instanceof o))return this.trigger("error",new i.DOMException(i.DOMException.NOT_FOUND_ERR)),void this.trigger("loadend");if(this.result=null,this.readyState=a.LOADING,n.isDetached()){var r=n.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=r;break;case"readAsDataURL":this.result="data:"+n.type+";base64,"+t.btoa(r)}this.readyState=a.DONE,this.trigger("load"),this.trigger("loadend")}else this.connectRuntime(n.ruid),this.exec("FileReader","read",e,n)}r.call(this),e.extend(this,{uid:e.guid("uid_"),readyState:a.EMPTY,result:null,error:null,readAsBinaryString:function(e){n.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){n.call(this,"readAsDataURL",e)},readAsText:function(e){n.call(this,"readAsText",e)},abort:function(){this.result=null,-1===e.inArray(this.readyState,[a.EMPTY,a.DONE])&&(this.readyState===a.LOADING&&(this.readyState=a.DONE),this.exec("FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),this.exec("FileReader","destroy"),this.disconnectRuntime(),this.unbindAll()}}),this.handleEventProps(s),this.bind("Error",function(e,t){this.readyState=a.DONE,this.error=t},999),this.bind("Load",function(){this.readyState=a.DONE},999)}var s=["loadstart","progress","load","abort","error","loadend"];return a.EMPTY=0,a.LOADING=1,a.DONE=2,a.prototype=n.instance,a}),n("moxie/core/utils/Url",[],function(){var e=function(t,i){for(var n=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],o=n.length,r={http:80,https:443},a={},s=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,l=s.exec(t||"");o--;)l[o]&&(a[n[o]]=l[o]);if(!a.scheme){i&&"string"!=typeof i||(i=e(i||document.location.href)),a.scheme=i.scheme,a.host=i.host,a.port=i.port;var c="";/^[^\/]/.test(a.path)&&(c=i.path,c=/\/[^\/]*\.[^\/]*$/.test(c)?c.replace(/\/[^\/]+$/,"/"):c.replace(/\/?$/,"/")),a.path=c+(a.path||"")}return a.port||(a.port=r[a.scheme]||80),a.port=parseInt(a.port,10),a.path||(a.path="/"),delete a.source,a},t=function(t){var i={http:80,https:443},n="object"==typeof t?t:e(t);return n.scheme+"://"+n.host+(n.port!==i[n.scheme]?":"+n.port:"")+n.path+(n.query?n.query:"")},i=function(t){function i(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof t&&(t=e(t)),i(e())===i(t)};return{parseUrl:e,resolveUrl:t,hasSameOrigin:i}}),n("moxie/runtime/RuntimeTarget",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,i){function n(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return n.prototype=i.instance,n}),n("moxie/file/FileReaderSync",["moxie/core/utils/Basic","moxie/runtime/RuntimeClient","moxie/core/utils/Encode"],function(e,t,i){return function(){function n(e,t){if(!t.isDetached()){var n=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),n}var o=t.getSource();switch(e){case"readAsBinaryString":return o;case"readAsDataURL":return"data:"+t.type+";base64,"+i.btoa(o);case"readAsText":for(var r="",a=0,s=o.length;s>a;a++)r+=String.fromCharCode(o[a]);return r}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return n.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return n.call(this,"readAsDataURL",e)},readAsText:function(e){return n.call(this,"readAsText",e)}})}}),n("moxie/xhr/FormData",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/file/Blob"],function(e,t,i){function n(){var e,n=[];t.extend(this,{append:function(o,r){var a=this,s=t.typeOf(r);r instanceof i?e={name:o,value:r}:"array"===s?(o+="[]",t.each(r,function(e){a.append(o,e)})):"object"===s?t.each(r,function(e,t){a.append(o+"["+t+"]",e)}):"null"===s||"undefined"===s||"number"===s&&isNaN(r)?a.append(o,"false"):n.push({name:o,value:r.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(i){t.each(n,function(e){i(e.value,e.name)}),e&&i(e.value,e.name)},destroy:function(){e=null,n=[]}})}return n}),n("moxie/xhr/XMLHttpRequest",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/EventTarget","moxie/core/utils/Encode","moxie/core/utils/Url","moxie/runtime/Runtime","moxie/runtime/RuntimeTarget","moxie/file/Blob","moxie/file/FileReaderSync","moxie/xhr/FormData","moxie/core/utils/Env","moxie/core/utils/Mime"],function(e,t,i,n,o,r,a,s,l,c,u,d){function p(){this.uid=e.guid("uid_")}function f(){function i(e,t){return C.hasOwnProperty(e)?1===arguments.length?u.can("define_property")?C[e]:E[e]:void(u.can("define_property")?C[e]=t:E[e]=t):void 0}function l(t){function n(){S&&(S.destroy(),S=null),s.dispatchEvent("loadend"),s=null}function o(o){S.bind("LoadStart",function(e){i("readyState",f.LOADING),s.dispatchEvent("readystatechange"),s.dispatchEvent(e),N&&s.upload.dispatchEvent(e)}),S.bind("Progress",function(e){i("readyState")!==f.LOADING&&(i("readyState",f.LOADING),s.dispatchEvent("readystatechange")),s.dispatchEvent(e)}),S.bind("UploadProgress",function(e){N&&s.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),S.bind("Load",function(t){i("readyState",f.DONE),i("status",Number(o.exec.call(S,"XMLHttpRequest","getStatus")||0)),i("statusText",h[i("status")]||""),i("response",o.exec.call(S,"XMLHttpRequest","getResponse",i("responseType"))),~e.inArray(i("responseType"),["text",""])?i("responseText",i("response")):"document"===i("responseType")&&i("responseXML",i("response")),H=o.exec.call(S,"XMLHttpRequest","getAllResponseHeaders"),s.dispatchEvent("readystatechange"),i("status")>0?(N&&s.upload.dispatchEvent(t),s.dispatchEvent(t)):(M=!0,s.dispatchEvent("error")),n()}),S.bind("Abort",function(e){s.dispatchEvent(e),n()}),S.bind("Error",function(e){M=!0,i("readyState",f.DONE),s.dispatchEvent("readystatechange"),F=!0,s.dispatchEvent(e),n()}),o.exec.call(S,"XMLHttpRequest","send",{url:y,method:v,async:k,user:b,password:w,headers:R,mimeType:O,encoding:A,responseType:s.responseType,withCredentials:s.withCredentials,options:j},t)}var s=this;x=(new Date).getTime(),S=new a,"string"==typeof j.required_caps&&(j.required_caps=r.parseCaps(j.required_caps)),j.required_caps=e.extend({},j.required_caps,{return_response_type:s.responseType}),t instanceof c&&(j.required_caps.send_multipart=!0),e.isEmptyObj(R)||(j.required_caps.send_custom_headers=!0),L||(j.required_caps.do_cors=!0),j.ruid?o(S.connectRuntime(j)):(S.bind("RuntimeInit",function(e,t){o(t)}),S.bind("RuntimeError",function(e,t){s.dispatchEvent("RuntimeError",t)}),S.connectRuntime(j))}function g(){i("responseText",""),i("responseXML",null),i("response",null),i("status",0),i("statusText",""),x=_=null}var y,v,b,w,x,_,S,T,E=this,C={timeout:0,readyState:f.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},k=!0,R={},A=null,O=null,D=!1,I=!1,N=!1,F=!1,M=!1,L=!1,P=null,$=null,j={},H="";e.extend(this,C,{uid:e.guid("uid_"),upload:new p,open:function(r,a,s,l,c){var u;if(!r||!a)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(r)||n.utf8_encode(r)!==r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(r.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(v=r.toUpperCase()),~e.inArray(v,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(a=n.utf8_encode(a),u=o.parseUrl(a),L=o.hasSameOrigin(u),y=o.resolveUrl(a),(l||c)&&!L)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(b=l||u.user,w=c||u.pass,k=s||!0,k===!1&&(i("timeout")||i("withCredentials")||""!==i("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);D=!k,I=!1,R={},g.call(this),i("readyState",f.OPENED),this.dispatchEvent("readystatechange")},setRequestHeader:function(o,r){var a=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(i("readyState")!==f.OPENED||I)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(o)||n.utf8_encode(o)!==o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return o=e.trim(o).toLowerCase(),!~e.inArray(o,a)&&!/^(proxy\-|sec\-)/.test(o)&&(R[o]?R[o]+=", "+r:R[o]=r,!0)},hasRequestHeader:function(e){return e&&R[e.toLowerCase()]||!1},getAllResponseHeaders:function(){return H||""},getResponseHeader:function(t){return t=t.toLowerCase(),M||~e.inArray(t,["set-cookie","set-cookie2"])?null:H&&""!==H&&(T||(T={},e.each(H.split(/\r\n/),function(t){var i=t.split(/:\s+/);2===i.length&&(i[0]=e.trim(i[0]),T[i[0].toLowerCase()]={header:i[0],value:e.trim(i[1])})})),T.hasOwnProperty(t))?T[t].header+": "+T[t].value:null},overrideMimeType:function(n){var o,r;if(~e.inArray(i("readyState"),[f.LOADING,f.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n=e.trim(n.toLowerCase()),/;/.test(n)&&(o=n.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(n=o[1],o[2]&&(r=o[2])),!d.mimes[n])throw new t.DOMException(t.DOMException.SYNTAX_ERR);P=n,$=r},send:function(i,o){if(j="string"===e.typeOf(o)?{ruid:o}:o?o:{},this.readyState!==f.OPENED||I)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(i instanceof s)j.ruid=i.ruid,O=i.type||"application/octet-stream";else if(i instanceof c){if(i.hasBlob()){var r=i.getBlob();j.ruid=r.ruid,O=r.type||"application/octet-stream"}}else"string"==typeof i&&(A="UTF-8",O="text/plain;charset=UTF-8",i=n.utf8_encode(i));this.withCredentials||(this.withCredentials=j.required_caps&&j.required_caps.send_browser_cookies&&!L),N=!D&&this.upload.hasEventListener(),M=!1,F=!i,D||(I=!0),l.call(this,i)},abort:function(){if(M=!0,D=!1,~e.inArray(i("readyState"),[f.UNSENT,f.OPENED,f.DONE]))i("readyState",f.UNSENT);else{if(i("readyState",f.DONE),I=!1,!S)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);S.getRuntime().exec.call(S,"XMLHttpRequest","abort",F),F=!0}},destroy:function(){S&&("function"===e.typeOf(S.destroy)&&S.destroy(),S=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}}),this.handleEventProps(m.concat(["readystatechange"])),this.upload.handleEventProps(m)}var h={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};p.prototype=i.instance;var m=["loadstart","progress","abort","error","load","timeout","loadend"];return f.UNSENT=0,f.OPENED=1,f.HEADERS_RECEIVED=2,f.LOADING=3,f.DONE=4,f.prototype=i.instance,f}),n("moxie/runtime/Transporter",["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/runtime/RuntimeClient","moxie/core/EventTarget"],function(e,t,i,n){function o(){function n(){u=d=0,c=this.result=null}function r(t,i){var n=this;l=i,n.bind("TransportingProgress",function(t){d=t.loaded,u>d&&-1===e.inArray(n.state,[o.IDLE,o.DONE])&&a.call(n)},999),n.bind("TransportingComplete",function(){d=u,n.state=o.DONE,c=null,n.result=l.exec.call(n,"Transporter","getAsBlob",t||"")},999),n.state=o.BUSY,n.trigger("TransportingStarted"),a.call(n)}function a(){var e,i=this,n=u-d;p>n&&(p=n),e=t.btoa(c.substr(d,p)),l.exec.call(i,"Transporter","receive",e,u)}var s,l,c,u,d,p;i.call(this),e.extend(this,{uid:e.guid("uid_"),state:o.IDLE,result:null,transport:function(t,i,o){var a=this;if(o=e.extend({chunk_size:204798},o),(s=o.chunk_size%3)&&(o.chunk_size+=3-s),p=o.chunk_size,n.call(this),c=t,u=t.length,"string"===e.typeOf(o)||o.ruid)r.call(a,i,this.connectRuntime(o));else{var l=function(e,t){a.unbind("RuntimeInit",l),r.call(a,i,t)};this.bind("RuntimeInit",l),this.connectRuntime(o)}},abort:function(){var e=this;e.state=o.IDLE,l&&(l.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),n.call(e)},destroy:function(){this.unbindAll(),l=null,this.disconnectRuntime(),n.call(this)}})}return o.IDLE=0,o.BUSY=1,o.DONE=2,o.prototype=n.instance,o}),n("moxie/image/Image",["moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/file/FileReaderSync","moxie/xhr/XMLHttpRequest","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/runtime/Transporter","moxie/core/utils/Env","moxie/core/EventTarget","moxie/file/Blob","moxie/file/File","moxie/core/utils/Encode"],function(e,t,i,n,o,r,a,s,l,c,u,d,p){function f(){function n(e){try{return e||(e=this.exec("Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&&(this.name=e.name),!0}catch(e){return this.trigger("error",e.code),!1}}function c(t){var n=e.typeOf(t);try{if(t instanceof f){if(!t.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);m.apply(this,arguments)}else if(t instanceof u){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw new i.ImageError(i.ImageError.WRONG_FORMAT);g.apply(this,arguments)}else if(-1!==e.inArray(n,["blob","file"]))c.call(this,new d(null,t),arguments[1]);else if("string"===n)"data:"===t.substr(0,5)?c.call(this,new u(null,{data:t}),arguments[1]):y.apply(this,arguments);else{if("node"!==n||"img"!==t.nodeName.toLowerCase())throw new i.DOMException(i.DOMException.TYPE_MISMATCH_ERR);c.call(this,t.src,arguments[1])}}catch(e){this.trigger("error",e.code)}}function m(t,i){var n=this.connectRuntime(t.ruid);this.ruid=n.uid,n.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(i)||i)}function g(t,i){function n(e){o.ruid=e.uid,e.exec.call(o,"Image","loadFromBlob",t)}var o=this;o.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){n(t)}),i&&"string"==typeof i.required_caps&&(i.required_caps=r.parseCaps(i.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},i))):n(this.connectRuntime(t.ruid))}function y(e,t){var i,n=this;i=new o,i.open("get",e),i.responseType="blob",i.onprogress=function(e){n.trigger(e)},i.onload=function(){g.call(n,i.response,!0)},i.onerror=function(e){n.trigger(e)},i.onloadend=function(){i.destroy()},i.bind("RuntimeError",function(e,t){n.trigger("RuntimeError",t)}),i.send(null,t)}a.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){c.apply(this,arguments)},resize:function(t){var n,o,r=this,a={x:0,y:0,width:r.width,height:r.height},s=e.extendIf({width:r.width,height:r.height,type:r.type||"image/jpeg",quality:90,crop:!1,fit:!0,preserveHeaders:!0,resample:"default",multipass:!0},t);try{if(!r.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);if(r.width>f.MAX_RESIZE_WIDTH||r.height>f.MAX_RESIZE_HEIGHT)throw new i.ImageError(i.ImageError.MAX_RESOLUTION_ERR);if(n=r.meta&&r.meta.tiff&&r.meta.tiff.Orientation||1,-1!==e.inArray(n,[5,6,7,8])){var l=s.width;s.width=s.height,s.height=l}if(s.crop){switch(o=Math.max(s.width/r.width,s.height/r.height),t.fit?(a.width=Math.min(Math.ceil(s.width/o),r.width),a.height=Math.min(Math.ceil(s.height/o),r.height),o=s.width/a.width):(a.width=Math.min(s.width,r.width),a.height=Math.min(s.height,r.height),o=1),"boolean"==typeof s.crop&&(s.crop="cc"),s.crop.toLowerCase().replace(/_/,"-")){case"rb":case"right-bottom":a.x=r.width-a.width,a.y=r.height-a.height;break;case"cb":case"center-bottom":a.x=Math.floor((r.width-a.width)/2),a.y=r.height-a.height;break;case"lb":case"left-bottom":a.x=0,a.y=r.height-a.height;break;case"lt":case"left-top":a.x=0,a.y=0;break;case"ct":case"center-top":a.x=Math.floor((r.width-a.width)/2),a.y=0;break;case"rt":case"right-top":a.x=r.width-a.width,a.y=0;break;case"rc":case"right-center":case"right-middle":a.x=r.width-a.width,a.y=Math.floor((r.height-a.height)/2);break;case"lc":case"left-center":case"left-middle":a.x=0,a.y=Math.floor((r.height-a.height)/2);break;case"cc":case"center-center":case"center-middle":default:a.x=Math.floor((r.width-a.width)/2),a.y=Math.floor((r.height-a.height)/2)}a.x=Math.max(a.x,0),a.y=Math.max(a.y,0)}else o=Math.min(s.width/r.width,s.height/r.height);this.exec("Image","resize",a,o,s)}catch(e){r.trigger("error",e.code)}},downsize:function(t){var i,n={width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90,crop:!1,preserveHeaders:!0,resample:"default"};i="object"==typeof t?e.extend(n,t):e.extend(n,{width:arguments[0],height:arguments[1],crop:arguments[2],preserveHeaders:arguments[3]}),this.resize(i)},crop:function(e,t,i){this.downsize(e,t,!0,i)},getAsCanvas:function(){if(!l.can("create_canvas"))throw new i.RuntimeError(i.RuntimeError.NOT_SUPPORTED_ERR);var e=this.connectRuntime(this.ruid);return e.exec.call(this,"Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsBlob",e||"image/jpeg",t||90)},getAsDataURL:function(e,t){if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);return this.exec("Image","getAsDataURL",e||"image/jpeg",t||90)},getAsBinaryString:function(e,t){var i=this.getAsDataURL(e,t);return p.atob(i.substring(i.indexOf("base64,")+7))},embed:function(n,o){function r(t,o){var r=this;if(l.can("create_canvas")){var u=r.getAsCanvas();if(u)return n.appendChild(u),u=null,r.destroy(),void c.trigger("embedded")}var d=r.getAsDataURL(t,o);if(!d)throw new i.ImageError(i.ImageError.WRONG_FORMAT);if(l.can("use_data_uri_of",d.length))n.innerHTML='<img src="'+d+'" width="'+r.width+'" height="'+r.height+'" />',r.destroy(),c.trigger("embedded");else{var f=new s;f.bind("TransportingComplete",function(){a=c.connectRuntime(this.result.ruid),c.bind("Embedded",function(){e.extend(a.getShimContainer().style,{top:"0px",left:"0px",width:r.width+"px",height:r.height+"px"}),a=null},999),a.exec.call(c,"ImageView","display",this.result.uid,width,height),r.destroy()}),f.transport(p.atob(d.substring(d.indexOf("base64,")+7)),t,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:n})}}var a,c=this,u=e.extend({width:this.width,height:this.height,type:this.type||"image/jpeg",quality:90},o);try{if(!(n=t.get(n)))throw new i.DOMException(i.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);this.width>f.MAX_RESIZE_WIDTH||this.height>f.MAX_RESIZE_HEIGHT;var d=new f;return d.bind("Resize",function(){r.call(this,u.type,u.quality)}),d.bind("Load",function(){d.downsize(u)}),this.meta.thumb&&this.meta.thumb.width>=u.width&&this.meta.thumb.height>=u.height?d.load(this.meta.thumb.data):d.clone(this,!1),d}catch(e){this.trigger("error",e.code)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.unbindAll()}}),this.handleEventProps(h),this.bind("Load Resize",function(){return n.call(this)},999)}var h=["progress","load","error","resize","embedded"];return f.MAX_RESIZE_WIDTH=8192,f.MAX_RESIZE_HEIGHT=8192,f.prototype=c.instance,f}),n("moxie/runtime/html5/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,i,n){function r(t){var r=this,l=i.capTest,c=i.capTrue,u=e.extend({access_binary:l(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return r.can("access_binary")&&!!s.Image},display_media:l((n.can("create_canvas")||n.can("use_data_uri_over32kb"))&&o("moxie/image/Image")),do_cors:l(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:l(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==n.browser||n.verComp(n.version,9,">"))}()),filter_by_extension:l(function(){return!("Chrome"===n.browser&&n.verComp(n.version,28,"<")||"IE"===n.browser&&n.verComp(n.version,10,"<")||"Safari"===n.browser&&n.verComp(n.version,7,"<")||"Firefox"===n.browser&&n.verComp(n.version,37,"<"))}()),return_response_headers:c,return_response_type:function(e){return!("json"!==e||!window.JSON)||n.can("return_response_type",e)},return_status_code:c,report_upload_progress:l(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return r.can("access_binary")&&n.can("create_canvas")},select_file:function(){return n.can("use_fileinput")&&window.File},select_folder:function(){return r.can("select_file")&&("Chrome"===n.browser&&n.verComp(n.version,21,">=")||"Firefox"===n.browser&&n.verComp(n.version,42,">="))},select_multiple:function(){return!(!r.can("select_file")||"Safari"===n.browser&&"Windows"===n.os||"iOS"===n.os&&n.verComp(n.osVersion,"7.0.0",">")&&n.verComp(n.osVersion,"8.0.0","<"))},send_binary_string:l(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:l(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||r.can("send_binary_string")},slice_blob:l(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return r.can("slice_blob")&&r.can("send_multipart")},summon_file_dialog:function(){return r.can("select_file")&&("Firefox"===n.browser&&n.verComp(n.version,4,">=")||"Opera"===n.browser&&n.verComp(n.version,12,">=")||"IE"===n.browser&&n.verComp(n.version,10,">=")||!!~e.inArray(n.browser,["Chrome","Safari","Edge"]))},upload_filesize:c,use_http_method:c},arguments[2]);i.call(this,t,arguments[1]||a,u),
e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),s)}var a="html5",s={};return i.addConstructor(a,r),s}),n("moxie/runtime/html5/file/Blob",["moxie/runtime/html5/Runtime","moxie/file/Blob"],function(e,t){function i(){function e(e,t,i){var n;if(!window.File.prototype.slice)return(n=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?n.call(e,t,i):null;try{return e.slice(),e.slice(t,i)}catch(n){return e.slice(t,i-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))}}return e.Blob=i}),n("moxie/core/utils/Events",["moxie/core/utils/Basic"],function(e){function t(){this.returnValue=!1}function i(){this.cancelBubble=!0}var n={},o="moxie_"+e.guid(),r=function(r,a,s,l){var c,u;a=a.toLowerCase(),r.addEventListener?(c=s,r.addEventListener(a,c,!1)):r.attachEvent&&(c=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=i,s(e)},r.attachEvent("on"+a,c)),r[o]||(r[o]=e.guid()),n.hasOwnProperty(r[o])||(n[r[o]]={}),u=n[r[o]],u.hasOwnProperty(a)||(u[a]=[]),u[a].push({func:c,orig:s,key:l})},a=function(t,i,r){var a,s;if(i=i.toLowerCase(),t[o]&&n[t[o]]&&n[t[o]][i]){a=n[t[o]][i];for(var l=a.length-1;l>=0&&(a[l].orig!==r&&a[l].key!==r||(t.removeEventListener?t.removeEventListener(i,a[l].func,!1):t.detachEvent&&t.detachEvent("on"+i,a[l].func),a[l].orig=null,a[l].func=null,a.splice(l,1),r===s));l--);if(a.length||delete n[t[o]][i],e.isEmptyObj(n[t[o]])){delete n[t[o]];try{delete t[o]}catch(e){t[o]=s}}}},s=function(t,i){t&&t[o]&&e.each(n[t[o]],function(e,n){a(t,n,i)})};return{addEvent:r,removeEvent:a,removeAllEvents:s}}),n("moxie/runtime/html5/file/FileInput",["moxie/runtime/html5/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,i,n,o,r,a){function s(){var e,s;i.extend(this,{init:function(l){var c,u,d,p,f,h,m=this,g=m.getRuntime();e=l,d=e.accept.mimes||r.extList2mimes(e.accept,g.can("filter_by_extension")),u=g.getShimContainer(),u.innerHTML='<input id="'+g.uid+'" type="file" style="font-size:999px;opacity:0;"'+(e.multiple&&g.can("select_multiple")?"multiple":"")+(e.directory&&g.can("select_folder")?"webkitdirectory directory":"")+(d?' accept="'+d.join(",")+'"':"")+" />",c=n.get(g.uid),i.extend(c.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),p=n.get(e.browse_button),s=n.getStyle(p,"z-index")||"auto",g.can("summon_file_dialog")&&("static"===n.getStyle(p,"position")&&(p.style.position="relative"),o.addEvent(p,"click",function(e){var t=n.get(g.uid);t&&!t.disabled&&t.click(),e.preventDefault()},m.uid),m.bind("Refresh",function(){f=parseInt(s,10)||1,n.get(e.browse_button).style.zIndex=f,this.getRuntime().getShimContainer().style.zIndex=f-1})),h=g.can("summon_file_dialog")?p:u,o.addEvent(h,"mouseover",function(){m.trigger("mouseenter")},m.uid),o.addEvent(h,"mouseout",function(){m.trigger("mouseleave")},m.uid),o.addEvent(h,"mousedown",function(){m.trigger("mousedown")},m.uid),o.addEvent(n.get(e.container),"mouseup",function(){m.trigger("mouseup")},m.uid),c.onchange=function n(){if(m.files=[],i.each(this.files,function(i){var n="";return!(!e.directory||"."!=i.name)||(i.webkitRelativePath&&(n="/"+i.webkitRelativePath.replace(/^\//,"")),i=new t(g.uid,i),i.relativePath=n,void m.files.push(i))}),"IE"!==a.browser&&"IEMobile"!==a.browser)this.value="";else{var o=this.cloneNode(!0);this.parentNode.replaceChild(o,this),o.onchange=n}m.files.length&&m.trigger("change")},m.trigger({type:"ready",async:!0}),u=null},setOption:function(e,t){var i=this.getRuntime(),o=n.get(i.uid);switch(e){case"accept":if(t){var a=t.mimes||r.extList2mimes(t,i.can("filter_by_extension"));o.setAttribute("accept",a.join(","))}else o.removeAttribute("accept");break;case"directory":t&&i.can("select_folder")?(o.setAttribute("directory",""),o.setAttribute("webkitdirectory","")):(o.removeAttribute("directory"),o.removeAttribute("webkitdirectory"));break;case"multiple":t&&i.can("select_multiple")?o.setAttribute("multiple",""):o.removeAttribute("multiple")}},disable:function(e){var t,i=this.getRuntime();(t=n.get(i.uid))&&(t.disabled=!!e)},destroy:function(){var t=this.getRuntime(),i=t.getShim(),r=t.getShimContainer(),a=e&&n.get(e.container),l=e&&n.get(e.browse_button);a&&o.removeAllEvents(a,this.uid),l&&(o.removeAllEvents(l,this.uid),l.style.zIndex=s),r&&(o.removeAllEvents(r,this.uid),r.innerHTML=""),i.removeInstance(this.uid),e=r=a=l=i=null}})}return e.FileInput=s}),n("moxie/runtime/html5/file/FileDrop",["moxie/runtime/html5/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime"],function(e,t,i,n,o,r){function a(){function e(e){if(!e.dataTransfer||!e.dataTransfer.types)return!1;var t=i.toArray(e.dataTransfer.types||[]);return-1!==i.inArray("Files",t)||-1!==i.inArray("public.file-url",t)||-1!==i.inArray("application/x-moz-file",t)}function a(e,i){if(l(e)){var n=new t(h,e);n.relativePath=i||"",m.push(n)}}function s(e){for(var t=[],n=0;n<e.length;n++)[].push.apply(t,e[n].extensions.split(/\s*,\s*/));return-1===i.inArray("*",t)?t:[]}function l(e){if(!g.length)return!0;var t=r.getFileExtension(e.name);return!t||-1!==i.inArray(t,g)}function c(e,t){var n=[];i.each(e,function(e){var t=e.webkitGetAsEntry();t&&(t.isFile?a(e.getAsFile(),t.fullPath):n.push(t))}),n.length?u(n,t):t()}function u(e,t){var n=[];i.each(e,function(e){n.push(function(t){d(e,t)})}),i.inSeries(n,function(){t()})}function d(e,t){e.isFile?e.file(function(i){a(i,e.fullPath),t()},function(){t()}):e.isDirectory?p(e,t):t()}function p(e,t){function i(e){o.readEntries(function(t){t.length?([].push.apply(n,t),i(e)):e()},e)}var n=[],o=e.createReader();i(function(){u(n,t)})}var f,h,m=[],g=[];i.extend(this,{init:function(t){var n,r=this;f=t,h=r.ruid,g=s(f.accept),n=f.container,o.addEvent(n,"dragover",function(t){e(t)&&(t.preventDefault(),t.dataTransfer.dropEffect="copy")},r.uid),o.addEvent(n,"drop",function(t){e(t)&&(t.preventDefault(),m=[],t.dataTransfer.items&&t.dataTransfer.items[0].webkitGetAsEntry?c(t.dataTransfer.items,function(){r.files=m,r.trigger("drop")}):(i.each(t.dataTransfer.files,function(e){a(e)}),r.files=m,r.trigger("drop")))},r.uid),o.addEvent(n,"dragenter",function(){r.trigger("dragenter")},r.uid),o.addEvent(n,"dragleave",function(){r.trigger("dragleave")},r.uid)},destroy:function(){o.removeAllEvents(f&&n.get(f.container),this.uid),h=m=g=f=null}})}return e.FileDrop=a}),n("moxie/runtime/html5/file/FileReader",["moxie/runtime/html5/Runtime","moxie/core/utils/Encode","moxie/core/utils/Basic"],function(e,t,i){function n(){function e(e){return t.atob(e.substring(e.indexOf("base64,")+7))}var n,o=!1;i.extend(this,{read:function(t,r){var a=this;a.result="",n=new window.FileReader,n.addEventListener("progress",function(e){a.trigger(e)}),n.addEventListener("load",function(t){a.result=o?e(n.result):n.result,a.trigger(t)}),n.addEventListener("error",function(e){a.trigger(e,n.error)}),n.addEventListener("loadend",function(e){n=null,a.trigger(e)}),"function"===i.typeOf(n[t])?(o=!1,n[t](r.getSource())):"readAsBinaryString"===t&&(o=!0,n.readAsDataURL(r.getSource()))},abort:function(){n&&n.abort()},destroy:function(){n=null}})}return e.FileReader=n}),n("moxie/runtime/html5/xhr/XMLHttpRequest",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/utils/Mime","moxie/core/utils/Url","moxie/file/File","moxie/file/Blob","moxie/xhr/FormData","moxie/core/Exceptions","moxie/core/utils/Env"],function(e,t,i,n,o,r,a,s,l){function c(){function e(e,t){var i,n,o=this;i=t.getBlob().getSource(),n=new window.FileReader,n.onload=function(){t.append(t.getBlobName(),new r(null,{type:i.type,data:n.result})),h.send.call(o,e,t)},n.readAsBinaryString(i)}function c(){return!window.XMLHttpRequest||"IE"===l.browser&&l.verComp(l.version,8,"<")?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(e){}}():new window.XMLHttpRequest}function u(e){var t=e.responseXML,i=e.responseText;return"IE"===l.browser&&i&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&(t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.validateOnParse=!1,t.loadXML(i)),t&&("IE"===l.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}function d(e){var t="----moxieboundary"+(new Date).getTime(),i="--",n="\r\n",o="",a=this.getRuntime();if(!a.can("send_binary_string"))throw new s.RuntimeError(s.RuntimeError.NOT_SUPPORTED_ERR);return p.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),e.each(function(e,a){o+=e instanceof r?i+t+n+'Content-Disposition: form-data; name="'+a+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+n+"Content-Type: "+(e.type||"application/octet-stream")+n+n+e.getSource()+n:i+t+n+'Content-Disposition: form-data; name="'+a+'"'+n+n+unescape(encodeURIComponent(e))+n}),o+=i+t+i+n}var p,f,h=this;t.extend(this,{send:function(i,o){var s=this,u="Mozilla"===l.browser&&l.verComp(l.version,4,">=")&&l.verComp(l.version,7,"<"),h="Android Browser"===l.browser,m=!1;if(f=i.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),p=c(),p.open(i.method,i.url,i.async,i.user,i.password),o instanceof r)o.isDetached()&&(m=!0),o=o.getSource();else if(o instanceof a){if(o.hasBlob())if(o.getBlob().isDetached())o=d.call(s,o),m=!0;else if((u||h)&&"blob"===t.typeOf(o.getBlob().getSource())&&window.FileReader)return void e.call(s,i,o);if(o instanceof a){var g=new window.FormData;o.each(function(e,t){e instanceof r?g.append(t,e.getSource()):g.append(t,e)}),o=g}}p.upload?(i.withCredentials&&(p.withCredentials=!0),p.addEventListener("load",function(e){s.trigger(e)}),p.addEventListener("error",function(e){s.trigger(e)}),p.addEventListener("progress",function(e){s.trigger(e)}),p.upload.addEventListener("progress",function(e){s.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):p.onreadystatechange=function(){switch(p.readyState){case 1:break;case 2:break;case 3:var e,t;try{n.hasSameOrigin(i.url)&&(e=p.getResponseHeader("Content-Length")||0),p.responseText&&(t=p.responseText.length)}catch(i){e=t=0}s.trigger({type:"progress",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case 4:p.onreadystatechange=function(){},0===p.status?s.trigger("error"):s.trigger("load")}},t.isEmptyObj(i.headers)||t.each(i.headers,function(e,t){p.setRequestHeader(t,e)}),""!==i.responseType&&"responseType"in p&&(p.responseType="json"!==i.responseType||l.can("return_response_type","json")?i.responseType:"text"),m?p.sendAsBinary?p.sendAsBinary(o):function(){for(var e=new Uint8Array(o.length),t=0;t<o.length;t++)e[t]=255&o.charCodeAt(t);p.send(e.buffer)}():p.send(o),s.trigger("loadstart")},getStatus:function(){try{if(p)return p.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case"blob":var n=new o(t.uid,p.response),r=p.getResponseHeader("Content-Disposition");if(r){var a=r.match(/filename=([\'\"'])([^\1]+)\1/);a&&(f=a[2])}return n.name=f,n.type||(n.type=i.getFileMime(f)),n;case"json":return l.can("return_response_type","json")?p.response:200===p.status&&window.JSON?JSON.parse(p.responseText):null;case"document":return u(p);default:return""!==p.responseText?p.responseText:null}}catch(e){return null}},getAllResponseHeaders:function(){try{return p.getAllResponseHeaders()}catch(e){}return""},abort:function(){p&&p.abort()},destroy:function(){h=f=null}})}return e.XMLHttpRequest=c}),n("moxie/runtime/html5/utils/BinaryReader",["moxie/core/utils/Basic"],function(e){function t(e){e instanceof ArrayBuffer?i.apply(this,arguments):n.apply(this,arguments)}function i(t){var i=new DataView(t);e.extend(this,{readByteAt:function(e){return i.getUint8(e)},writeByteAt:function(e,t){i.setUint8(e,t)},SEGMENT:function(e,n,o){switch(arguments.length){case 2:return t.slice(e,e+n);case 1:return t.slice(e);case 3:if(null===o&&(o=new ArrayBuffer),o instanceof ArrayBuffer){var r=new Uint8Array(this.length()-n+o.byteLength);e>0&&r.set(new Uint8Array(t.slice(0,e)),0),r.set(new Uint8Array(o),e),r.set(new Uint8Array(t.slice(e+n)),e+o.byteLength),this.clear(),t=r.buffer,i=new DataView(t);break}default:return t}},length:function(){return t?t.byteLength:0},clear:function(){i=t=null}})}function n(t){function i(e,i,n){n=3===arguments.length?n:t.length-i-1,t=t.substr(0,i)+e+t.substr(n+i)}e.extend(this,{readByteAt:function(e){return t.charCodeAt(e)},writeByteAt:function(e,t){i(String.fromCharCode(t),e,1)},SEGMENT:function(e,n,o){switch(arguments.length){case 1:return t.substr(e);case 2:return t.substr(e,n);case 3:i(null!==o?o:"",e,n);break;default:return t}},length:function(){return t?t.length:0},clear:function(){t=null}})}return e.extend(t.prototype,{littleEndian:!1,read:function(e,t){var i,n,o;if(e+t>this.length())throw new Error("You are trying to read outside the source boundaries.");for(n=this.littleEndian?0:-8*(t-1),o=0,i=0;t>o;o++)i|=this.readByteAt(e+o)<<Math.abs(n+8*o);return i},write:function(e,t,i){var n,o;if(e>this.length())throw new Error("You are trying to write outside the source boundaries.");for(n=this.littleEndian?0:-8*(i-1),o=0;i>o;o++)this.writeByteAt(e+o,255&t>>Math.abs(n+8*o))},BYTE:function(e){return this.read(e,1)},SHORT:function(e){return this.read(e,2)},LONG:function(e){return this.read(e,4)},SLONG:function(e){var t=this.read(e,4);return t>2147483647?t-4294967296:t},CHAR:function(e){return String.fromCharCode(this.read(e,1))},STRING:function(e,t){return this.asArray("CHAR",e,t).join("")},asArray:function(e,t,i){for(var n=[],o=0;i>o;o++)n[o]=this[e](t+o);return n}}),t}),n("moxie/runtime/html5/image/JPEGHeaders",["moxie/runtime/html5/utils/BinaryReader","moxie/core/Exceptions"],function(e,t){return function i(n){var o,r,a,s=[],l=0;if(o=new e(n),65496!==o.SHORT(0))throw o.clear(),new t.ImageError(t.ImageError.WRONG_FORMAT);for(r=2;r<=o.length();)if(a=o.SHORT(r),a>=65488&&65495>=a)r+=2;else{if(65498===a||65497===a)break;l=o.SHORT(r+2)+2,a>=65505&&65519>=a&&s.push({hex:a,name:"APP"+(15&a),start:r,length:l,segment:o.SEGMENT(r,l)}),r+=l}return o.clear(),{headers:s,restore:function(t){var i,n,o;for(o=new e(t),r=65504==o.SHORT(2)?4+o.SHORT(4):2,n=0,i=s.length;i>n;n++)o.SEGMENT(r,0,s[n].segment),r+=s[n].length;return t=o.SEGMENT(),o.clear(),t},strip:function(t){var n,o,r,a;for(r=new i(t),o=r.headers,r.purge(),n=new e(t),a=o.length;a--;)n.SEGMENT(o[a].start,o[a].length,"");return t=n.SEGMENT(),n.clear(),t},get:function(e){for(var t=[],i=0,n=s.length;n>i;i++)s[i].name===e.toUpperCase()&&t.push(s[i].segment);return t},set:function(e,t){var i,n,o,r=[];for("string"==typeof t?r.push(t):r=t,i=n=0,o=s.length;o>i&&(s[i].name===e.toUpperCase()&&(s[i].segment=r[n],s[i].length=r[n].length,n++),!(n>=r.length));i++);},purge:function(){this.headers=s=[]}}}}),n("moxie/runtime/html5/image/ExifParser",["moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader","moxie/core/Exceptions"],function(e,i,n){function o(r){function a(i,o){var r,a,s,l,c,p,f,h,m=this,g=[],y={},v={1:"BYTE",7:"UNDEFINED",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",9:"SLONG",10:"SRATIONAL"},b={BYTE:1,UNDEFINED:1,ASCII:1,SHORT:2,LONG:4,RATIONAL:8,SLONG:4,SRATIONAL:8};for(r=m.SHORT(i),a=0;r>a;a++)if(g=[],f=i+2+12*a,s=o[m.SHORT(f)],s!==t){if(l=v[m.SHORT(f+=2)],c=m.LONG(f+=2),p=b[l],!p)throw new n.ImageError(n.ImageError.INVALID_META_ERR);if(f+=4,p*c>4&&(f=m.LONG(f)+d.tiffHeader),f+p*c>=this.length())throw new n.ImageError(n.ImageError.INVALID_META_ERR);"ASCII"!==l?(g=m.asArray(l,f,c),h=1==c?g[0]:g,y[s]=u.hasOwnProperty(s)&&"object"!=typeof h?u[s][h]:h):y[s]=e.trim(m.STRING(f,c).replace(/\0$/,""))}return y}function s(e,t,i){var n,o,r,a=0;if("string"==typeof t){var s=c[e.toLowerCase()];for(var l in s)if(s[l]===t){t=l;break}}n=d[e.toLowerCase()+"IFD"],o=this.SHORT(n);for(var u=0;o>u;u++)if(r=n+12*u+2,this.SHORT(r)==t){a=r+8;break}if(!a)return!1;try{this.write(a,i,4)}catch(e){return!1}return!0}var l,c,u,d,p,f;if(i.call(this,r),c={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"},thumb:{513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength"}},u={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},d={tiffHeader:10},p=d.tiffHeader,l={clear:this.clear},e.extend(this,{read:function(){try{return o.prototype.read.apply(this,arguments)}catch(e){throw new n.ImageError(n.ImageError.INVALID_META_ERR)}},write:function(){try{return o.prototype.write.apply(this,arguments)}catch(e){throw new n.ImageError(n.ImageError.INVALID_META_ERR)}},UNDEFINED:function(){return this.BYTE.apply(this,arguments)},RATIONAL:function(e){return this.LONG(e)/this.LONG(e+4)},SRATIONAL:function(e){return this.SLONG(e)/this.SLONG(e+4)},ASCII:function(e){return this.CHAR(e)},TIFF:function(){return f||null},EXIF:function(){var t=null;if(d.exifIFD){try{t=a.call(this,d.exifIFD,c.exif)}catch(e){return null}if(t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var i=0,n="";i<t.ExifVersion.length;i++)n+=String.fromCharCode(t.ExifVersion[i]);t.ExifVersion=n}}return t},GPS:function(){var t=null;if(d.gpsIFD){try{t=a.call(this,d.gpsIFD,c.gps)}catch(e){return null}t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join("."))}return t},thumb:function(){if(d.IFD1)try{var e=a.call(this,d.IFD1,c.thumb);if("JPEGInterchangeFormat"in e)return this.SEGMENT(d.tiffHeader+e.JPEGInterchangeFormat,e.JPEGInterchangeFormatLength)}catch(e){}return null},setExif:function(e,t){return("PixelXDimension"===e||"PixelYDimension"===e)&&s.call(this,"exif",e,t)},clear:function(){l.clear(),r=c=u=f=d=l=null}}),65505!==this.SHORT(0)||"EXIF\0"!==this.STRING(4,5).toUpperCase())throw new n.ImageError(n.ImageError.INVALID_META_ERR);if(this.littleEndian=18761==this.SHORT(p),42!==this.SHORT(p+=2))throw new n.ImageError(n.ImageError.INVALID_META_ERR);d.IFD0=d.tiffHeader+this.LONG(p+=2),f=a.call(this,d.IFD0,c.tiff),"ExifIFDPointer"in f&&(d.exifIFD=d.tiffHeader+f.ExifIFDPointer,delete f.ExifIFDPointer),"GPSInfoIFDPointer"in f&&(d.gpsIFD=d.tiffHeader+f.GPSInfoIFDPointer,delete f.GPSInfoIFDPointer),e.isEmptyObj(f)&&(f=null);var h=this.LONG(d.IFD0+12*this.SHORT(d.IFD0)+2);h&&(d.IFD1=d.tiffHeader+h)}return o.prototype=i.prototype,o}),n("moxie/runtime/html5/image/JPEG",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEGHeaders","moxie/runtime/html5/utils/BinaryReader","moxie/runtime/html5/image/ExifParser"],function(e,t,i,n,o){function r(r){function a(e){var t,i,n=0;for(e||(e=c);n<=e.length();){if(t=e.SHORT(n+=2),t>=65472&&65475>=t)return n+=5,{height:e.SHORT(n),width:e.SHORT(n+=2)};i=e.SHORT(n+=2),n+=i-2}return null}function s(){var e,t,i=d.thumb();return i&&(e=new n(i),t=a(e),e.clear(),t)?(t.data=i,t):null}function l(){d&&u&&c&&(d.clear(),u.purge(),c.clear(),p=u=d=c=null)}var c,u,d,p;if(c=new n(r),65496!==c.SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);u=new i(r);try{d=new o(u.get("app1")[0])}catch(e){}p=a.call(this),e.extend(this,{type:"image/jpeg",size:c.length(),width:p&&p.width||0,height:p&&p.height||0,setExif:function(t,i){return!!d&&("object"===e.typeOf(t)?e.each(t,function(e,t){d.setExif(t,e)}):d.setExif(t,i),void u.set("app1",d.SEGMENT()))},writeHeaders:function(){return arguments.length?u.restore(arguments[0]):u.restore(r)},stripHeaders:function(e){return u.strip(e)},purge:function(){l.call(this)}}),d&&(this.meta={tiff:d.TIFF(),exif:d.EXIF(),gps:d.GPS(),thumb:s()})}return r}),n("moxie/runtime/html5/image/PNG",["moxie/core/Exceptions","moxie/core/utils/Basic","moxie/runtime/html5/utils/BinaryReader"],function(e,t,i){function n(n){function o(){var e,t;return e=a.call(this,8),"IHDR"==e.type?(t=e.start,{width:s.LONG(t),height:s.LONG(t+=4)}):null}function r(){s&&(s.clear(),n=u=l=c=s=null)}function a(e){var t,i,n,o;return t=s.LONG(e),i=s.STRING(e+=4,4),n=e+=4,o=s.LONG(e+t),{length:t,type:i,start:n,CRC:o}}var s,l,c,u;s=new i(n),function(){var t=0,i=0,n=[35152,20039,3338,6666];for(i=0;i<n.length;i++,t+=2)if(n[i]!=s.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),u=o.call(this),t.extend(this,{type:"image/png",size:s.length(),width:u.width,height:u.height,purge:function(){r.call(this)}}),r.call(this)}return n}),n("moxie/runtime/html5/image/ImageInfo",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/html5/image/JPEG","moxie/runtime/html5/image/PNG"],function(e,t,i,n){return function(o){var r,a=[i,n];r=function(){for(var e=0;e<a.length;e++)try{return new a[e](o)}catch(e){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){o=null}}),e.extend(this,r),this.purge=function(){r.purge(),r=null}}}),n("moxie/runtime/html5/image/ResizerCanvas",[],function(){function e(i,n){var o=i.width,r=Math.floor(o*n),a=!1;(.5>n||n>2)&&(n=.5>n?.5:2,a=!0);var s=t(i,n);return a?e(s,r/s.width):s}function t(e,t){var i=e.width,n=e.height,o=Math.floor(i*t),r=Math.floor(n*t),a=document.createElement("canvas");return a.width=o,a.height=r,a.getContext("2d").drawImage(e,0,0,i,n,0,0,o,r),e=null,a}return{scale:e}}),n("moxie/runtime/html5/image/Image",["moxie/runtime/html5/Runtime","moxie/core/utils/Basic","moxie/core/Exceptions","moxie/core/utils/Encode","moxie/file/Blob","moxie/file/File","moxie/runtime/html5/image/ImageInfo","moxie/runtime/html5/image/ResizerCanvas","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,i,n,o,r,a,s,l){function c(){function e(){if(!v&&!g)throw new i.ImageError(i.DOMException.INVALID_STATE_ERR);return v||g}function c(){var t=e();return"canvas"==t.nodeName.toLowerCase()?t:(v=document.createElement("canvas"),v.width=t.width,v.height=t.height,v.getContext("2d").drawImage(t,0,0),v)}function u(e){return n.atob(e.substring(e.indexOf("base64,")+7))}function d(e,t){return"data:"+(t||"")+";base64,"+n.btoa(e)}function p(e){var t=this;g=new Image,g.onerror=function(){m.call(this),t.trigger("error",i.ImageError.WRONG_FORMAT)},g.onload=function(){t.trigger("load")},g.src="data:"==e.substr(0,5)?e:d(e,w.type)}function f(e,t){var n,o=this;return window.FileReader?(n=new FileReader,n.onload=function(){t(this.result)},n.onerror=function(){o.trigger("error",i.ImageError.WRONG_FORMAT)},void n.readAsDataURL(e)):t(e.getAsDataURL())}function h(e,i){var n=Math.PI/180,o=document.createElement("canvas"),r=o.getContext("2d"),a=e.width,s=e.height;switch(t.inArray(i,[5,6,7,8])>-1?(o.width=s,o.height=a):(o.width=a,o.height=s),i){case 2:r.translate(a,0),r.scale(-1,1);break;case 3:r.translate(a,s),r.rotate(180*n);break;case 4:r.translate(0,s),r.scale(1,-1);break;case 5:r.rotate(90*n),r.scale(1,-1);break;case 6:r.rotate(90*n),r.translate(0,-s);break;case 7:r.rotate(90*n),r.translate(a,-s),r.scale(-1,1);break;case 8:r.rotate(-90*n),r.translate(-a,0)}return r.drawImage(e,0,0,a,s),o}function m(){y&&(y.purge(),y=null),b=g=v=w=null,_=!1}var g,y,v,b,w,x=this,_=!1,S=!0;t.extend(this,{loadFromBlob:function(e){var t=this,n=t.getRuntime(),o=!(arguments.length>1)||arguments[1];if(!n.can("access_binary"))throw new i.RuntimeError(i.RuntimeError.NOT_SUPPORTED_ERR);return w=e,e.isDetached()?(b=e.getSource(),void p.call(this,b)):void f.call(this,e.getSource(),function(e){o&&(b=u(e)),p.call(t,e)})},loadFromImage:function(e,t){this.meta=e.meta,w=new r(null,{name:e.name,size:e.size,type:e.type}),p.call(this,t?b=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t,i=this.getRuntime();return!y&&b&&i.can("access_image_binary")&&(y=new a(b)),t={width:e().width||0,height:e().height||0,type:w.type||l.getFileMime(w.name),size:b&&b.length||w.size||0,name:w.name||"",meta:null},S&&(t.meta=y&&y.meta||this.meta||{},!t.meta||!t.meta.thumb||t.meta.thumb.data instanceof o||(t.meta.thumb.data=new o(null,{type:"image/jpeg",data:t.meta.thumb.data}))),t},resize:function(t,i,n){var o=document.createElement("canvas");if(o.width=t.width,o.height=t.height,o.getContext("2d").drawImage(e(),t.x,t.y,t.width,t.height,0,0,o.width,o.height),v=s.scale(o,i),S=n.preserveHeaders,!S){var r=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1;v=h(v,r)}this.width=v.width,this.height=v.height,_=!0,this.trigger("Resize")},getAsCanvas:function(){return v||(v=c()),v.id=this.uid+"_canvas",v},getAsBlob:function(e,t){return e!==this.type?(_=!0,new r(null,{name:w.name||"",type:e,data:x.getAsDataURL(e,t)})):new r(null,{name:w.name||"",type:e,data:x.getAsBinaryString(e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!_)return g.src;if(c(),"image/jpeg"!==e)return v.toDataURL("image/png");try{return v.toDataURL("image/jpeg",t/100)}catch(e){return v.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!_)return b||(b=u(x.getAsDataURL(e,t))),b;if("image/jpeg"!==e)b=u(x.getAsDataURL(e,t));else{var i;t||(t=90),c();try{i=v.toDataURL("image/jpeg",t/100)}catch(e){i=v.toDataURL("image/jpeg")}b=u(i),y&&(b=y.stripHeaders(b),S&&(y.meta&&y.meta.exif&&y.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),b=y.writeHeaders(b)),y.purge(),y=null)}return _=!1,b},destroy:function(){x=null,m.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return e.Image=c}),n("moxie/runtime/flash/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,i,n,r){function a(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(t){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}function s(e){var n=i.get(e);n&&"OBJECT"==n.nodeName&&("IE"===t.browser?(n.style.display="none",function t(){4==n.readyState?l(e):setTimeout(t,10)}()):n.parentNode.removeChild(n))}function l(e){var t=i.get(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function c(l){var c,p=this;l=e.extend({swf_url:t.swf_url},l),r.call(this,l,u,{access_binary:function(e){return e&&"browser"===p.mode},access_image_binary:function(e){return e&&"browser"===p.mode},display_media:r.capTest(o("moxie/image/Image")),do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===p.mode},resize_image:r.capTrue,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||(!e.arrayDiff(t,["","text","document"])||"browser"===p.mode)},return_status_code:function(t){return"browser"===p.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:function(e){return e&&"browser"===p.mode},send_browser_cookies:function(e){return e&&"browser"===p.mode},send_custom_headers:function(e){return e&&"browser"===p.mode},send_multipart:r.capTrue,slice_blob:function(e){return e&&"browser"===p.mode},stream_upload:function(e){return e&&"browser"===p.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===p.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},slice_blob:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),a()<11.3&&(this.mode=!1),e.extend(this,{getShim:function(){return i.get(this.uid)},shimExec:function(e,t){var i=[].slice.call(arguments,2);return p.getShim().exec(this.uid,e,t,i)},init:function(){var i,o,r;r=this.getShimContainer(),e.extend(r.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),i='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+l.swf_url+'" ',"IE"===t.browser&&(i+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),i+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+l.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+t.global_event_dispatcher+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',"IE"===t.browser?(o=document.createElement("div"),r.appendChild(o),o.outerHTML=i,o=r=null):r.innerHTML=i,c=setTimeout(function(){p&&!p.initialized&&p.trigger("Error",new n.RuntimeError(n.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){s(p.uid),e.call(p),clearTimeout(c),l=c=e=p=null}}(this.destroy)},d)}var u="flash",d={};return r.addConstructor(u,c),d}),n("moxie/runtime/flash/file/Blob",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var i={slice:function(e,i,n,o){var r=this.getRuntime();return 0>i?i=Math.max(e.size+i,0):i>0&&(i=Math.min(i,e.size)),
0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),e=r.shimExec.call(this,"Blob","slice",i,n,o||""),e&&(e=new t(r.uid,e)),e}};return e.Blob=i}),n("moxie/runtime/flash/file/FileInput",["moxie/runtime/flash/Runtime","moxie/file/File","moxie/core/utils/Basic"],function(e,t,i){var n={init:function(e){var n=this,o=this.getRuntime();this.bind("Change",function(){var e=o.shimExec.call(n,"FileInput","getFiles");n.files=[],i.each(e,function(e){n.files.push(new t(o.uid,e))})},999),this.getRuntime().shimExec.call(this,"FileInput","init",{accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=n}),n("moxie/runtime/flash/file/FileReader",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function i(e,i){switch(i){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var n={read:function(e,t){var n=this;return n.result="","readAsDataURL"===e&&(n.result="data:"+(t.type||"")+";base64,"),n.bind("Progress",function(t,o){o&&(n.result+=i(o,e))},999),n.getRuntime().shimExec.call(this,"FileReader","readAsBase64",t.uid)}};return e.FileReader=n}),n("moxie/runtime/flash/file/FileReaderSync",["moxie/runtime/flash/Runtime","moxie/core/utils/Encode"],function(e,t){function i(e,i){switch(i){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var n={read:function(e,t){var n,o=this.getRuntime();return(n=o.shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(n="data:"+(t.type||"")+";base64,"+n),i(n,e,t.type)):null}};return e.FileReaderSync=n}),n("moxie/runtime/flash/runtime/Transporter",["moxie/runtime/flash/Runtime","moxie/file/Blob"],function(e,t){var i={getAsBlob:function(e){var i=this.getRuntime(),n=i.shimExec.call(this,"Transporter","getAsBlob",e);return n?new t(i.uid,n):null}};return e.Transporter=i}),n("moxie/runtime/flash/xhr/XMLHttpRequest",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/file/File","moxie/file/FileReaderSync","moxie/runtime/flash/file/FileReaderSync","moxie/xhr/FormData","moxie/runtime/Transporter","moxie/runtime/flash/runtime/Transporter"],function(e,t,i,n,o,r,a,s){var l={send:function(e,n){function o(){e.transport=u.mode,u.shimExec.call(c,"XMLHttpRequest","send",e,n)}function r(e,t){u.shimExec.call(c,"XMLHttpRequest","appendBlob",e,t.uid),n=null,o()}function l(e,t){var i=new s;i.bind("TransportingComplete",function(){t(this.result)}),i.transport(e.getSource(),e.type,{ruid:u.uid})}var c=this,u=c.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){u.shimExec.call(c,"XMLHttpRequest","setRequestHeader",t,e.toString())}),n instanceof a){var d;if(n.each(function(e,t){e instanceof i?d=t:u.shimExec.call(c,"XMLHttpRequest","append",t,e)}),n.hasBlob()){var p=n.getBlob();p.isDetached()?l(p,function(e){p.destroy(),r(d,e)}):r(d,p)}else n=null,o()}else n instanceof i?n.isDetached()?l(n,function(e){n.destroy(),n=e.uid,o()}):(n=n.uid,o()):o()},getResponse:function(e){var i,r,a=this.getRuntime();if(r=a.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(r=new n(a.uid,r),"blob"===e)return r;try{if(i=new o,~t.inArray(e,["","text"]))return i.readAsText(r);if("json"===e&&window.JSON)return JSON.parse(i.readAsText(r))}finally{r.destroy()}}return null},abort:function(){var e=this.getRuntime();e.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=l}),n("moxie/runtime/flash/image/Image",["moxie/runtime/flash/Runtime","moxie/core/utils/Basic","moxie/runtime/Transporter","moxie/file/Blob","moxie/file/FileReaderSync"],function(e,t,i,n,o){var r={loadFromBlob:function(e){function t(e){o.shimExec.call(n,"Image","loadFromBlob",e.uid),n=o=null}var n=this,o=n.getRuntime();if(e.isDetached()){var r=new i;r.bind("TransportingComplete",function(){t(r.result.getSource())}),r.transport(e.getSource(),e.type,{ruid:o.uid})}else t(e.getSource())},loadFromImage:function(e){var t=this.getRuntime();return t.shimExec.call(this,"Image","loadFromImage",e.uid)},getInfo:function(){var e=this.getRuntime(),t=e.shimExec.call(this,"Image","getInfo");return!t.meta||!t.meta.thumb||t.meta.thumb.data instanceof n||(t.meta.thumb.data=new n(e.uid,t.meta.thumb.data)),t},getAsBlob:function(e,t){var i=this.getRuntime(),o=i.shimExec.call(this,"Image","getAsBlob",e,t);return o?new n(i.uid,o):null},getAsDataURL:function(){var e,t=this.getRuntime(),i=t.Image.getAsBlob.apply(this,arguments);return i?(e=new o,e.readAsDataURL(i)):null}};return e.Image=r}),n("moxie/runtime/silverlight/Runtime",["moxie/core/utils/Basic","moxie/core/utils/Env","moxie/core/utils/Dom","moxie/core/Exceptions","moxie/runtime/Runtime"],function(e,t,i,n,r){function a(e){var t,i,n,o,r,a=!1,s=null,l=0;try{try{s=new ActiveXObject("AgControl.AgControl"),s.IsVersionSupported(e)&&(a=!0),s=null}catch(s){var c=navigator.plugins["Silverlight Plug-In"];if(c){for(t=c.description,"1.0.30226.2"===t&&(t="2.0.30226.2"),i=t.split(".");i.length>3;)i.pop();for(;i.length<4;)i.push(0);for(n=e.split(".");n.length>4;)n.pop();do o=parseInt(n[l],10),r=parseInt(i[l],10),l++;while(l<n.length&&o===r);r>=o&&!isNaN(o)&&(a=!0)}}}catch(e){a=!1}return a}function s(s){var u,d=this;s=e.extend({xap_url:t.xap_url},s),r.call(this,s,l,{access_binary:r.capTrue,access_image_binary:r.capTrue,display_media:r.capTest(o("moxie/image/Image")),do_cors:r.capTrue,drag_and_drop:!1,report_upload_progress:r.capTrue,resize_image:r.capTrue,return_response_headers:function(e){return e&&"client"===d.mode},return_response_type:function(e){return"json"!==e||!!window.JSON},return_status_code:function(t){return"client"===d.mode||!e.arrayDiff(t,[200,404])},select_file:r.capTrue,select_multiple:r.capTrue,send_binary_string:r.capTrue,send_browser_cookies:function(e){return e&&"browser"===d.mode},send_custom_headers:function(e){return e&&"client"===d.mode},send_multipart:r.capTrue,slice_blob:r.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:r.capTrue,use_http_method:function(t){return"client"===d.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),a("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return i.get(this.uid).content.Moxie},shimExec:function(e,t){var i=[].slice.call(arguments,2);return d.getShim().exec(this.uid,e,t,i)},init:function(){var e;e=this.getShimContainer(),e.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+s.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+t.global_event_dispatcher+'"/></object>',u=setTimeout(function(){d&&!d.initialized&&d.trigger("Error",new n.RuntimeError(n.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(d),clearTimeout(u),s=u=e=d=null}}(this.destroy)},c)}var l="silverlight",c={};return r.addConstructor(l,s),c}),n("moxie/runtime/silverlight/file/Blob",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/Blob"],function(e,t,i){return e.Blob=t.extend({},i)}),n("moxie/runtime/silverlight/file/FileInput",["moxie/runtime/silverlight/Runtime","moxie/file/File","moxie/core/utils/Basic"],function(e,t,i){function n(e){for(var t="",i=0;i<e.length;i++)t+=(""!==t?"|":"")+e[i].title+" | *."+e[i].extensions.replace(/,/g,";*.");return t}var o={init:function(e){var o=this,r=this.getRuntime();this.bind("Change",function(){var e=r.shimExec.call(o,"FileInput","getFiles");o.files=[],i.each(e,function(e){o.files.push(new t(r.uid,e))})},999),r.shimExec.call(this,"FileInput","init",n(e.accept),e.multiple),this.trigger("ready")},setOption:function(e,t){"accept"==e&&(t=n(t)),this.getRuntime().shimExec.call(this,"FileInput","setOption",e,t)}};return e.FileInput=o}),n("moxie/runtime/silverlight/file/FileDrop",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Dom","moxie/core/utils/Events"],function(e,t,i){var n={init:function(){var e,n=this,o=n.getRuntime();return e=o.getShimContainer(),i.addEvent(e,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},n.uid),i.addEvent(e,"dragenter",function(e){e.preventDefault();var i=t.get(o.uid).dragEnter(e);i&&e.stopPropagation()},n.uid),i.addEvent(e,"drop",function(e){e.preventDefault();var i=t.get(o.uid).dragDrop(e);i&&e.stopPropagation()},n.uid),o.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=n}),n("moxie/runtime/silverlight/file/FileReader",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReader"],function(e,t,i){return e.FileReader=t.extend({},i)}),n("moxie/runtime/silverlight/file/FileReaderSync",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/file/FileReaderSync"],function(e,t,i){return e.FileReaderSync=t.extend({},i)}),n("moxie/runtime/silverlight/runtime/Transporter",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/runtime/Transporter"],function(e,t,i){return e.Transporter=t.extend({},i)}),n("moxie/runtime/silverlight/xhr/XMLHttpRequest",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/runtime/flash/xhr/XMLHttpRequest","moxie/runtime/silverlight/file/FileReaderSync","moxie/runtime/silverlight/runtime/Transporter"],function(e,t,i){return e.XMLHttpRequest=t.extend({},i)}),n("moxie/runtime/silverlight/image/Image",["moxie/runtime/silverlight/Runtime","moxie/core/utils/Basic","moxie/file/Blob","moxie/runtime/flash/image/Image"],function(e,t,i,n){return e.Image=t.extend({},n,{getInfo:function(){var e=this.getRuntime(),n=["tiff","exif","gps","thumb"],o={meta:{}},r=e.shimExec.call(this,"Image","getInfo");return r.meta&&(t.each(n,function(e){var t,i,n,a,s=r.meta[e];if(s&&s.keys)for(o.meta[e]={},i=0,n=s.keys.length;n>i;i++)t=s.keys[i],a=s[t],a&&(/^(\d|[1-9]\d+)$/.test(a)?a=parseInt(a,10):/^\d*\.\d+$/.test(a)&&(a=parseFloat(a)),o.meta[e][t]=a)}),!o.meta||!o.meta.thumb||o.meta.thumb.data instanceof i||(o.meta.thumb.data=new i(e.uid,o.meta.thumb.data))),o.width=parseInt(r.width,10),o.height=parseInt(r.height,10),o.size=parseInt(r.size,10),o.type=r.type,o.name=r.name,o},resize:function(e,t,i){this.getRuntime().shimExec.call(this,"Image","resize",e.x,e.y,e.width,e.height,t,i.preserveHeaders,i.resample)}})}),n("moxie/runtime/html4/Runtime",["moxie/core/utils/Basic","moxie/core/Exceptions","moxie/runtime/Runtime","moxie/core/utils/Env"],function(e,t,i,n){function r(t){var r=this,l=i.capTest,c=i.capTrue;i.call(this,t,a,{access_binary:l(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:l((n.can("create_canvas")||n.can("use_data_uri_over32kb"))&&o("moxie/image/Image")),do_cors:!1,drag_and_drop:!1,filter_by_extension:l(function(){return!("Chrome"===n.browser&&n.verComp(n.version,28,"<")||"IE"===n.browser&&n.verComp(n.version,10,"<")||"Safari"===n.browser&&n.verComp(n.version,7,"<")||"Firefox"===n.browser&&n.verComp(n.version,37,"<"))}()),resize_image:function(){return s.Image&&r.can("access_binary")&&n.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return!("json"!==t||!window.JSON)||!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return n.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return r.can("select_file")},summon_file_dialog:function(){return r.can("select_file")&&("Firefox"===n.browser&&n.verComp(n.version,4,">=")||"Opera"===n.browser&&n.verComp(n.version,12,">=")||"IE"===n.browser&&n.verComp(n.version,10,">=")||!!~e.inArray(n.browser,["Chrome","Safari"]))},upload_filesize:c,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(r),e=r=null}}(this.destroy)}),e.extend(this.getShim(),s)}var a="html4",s={};return i.addConstructor(a,r),s}),n("moxie/runtime/html4/file/FileInput",["moxie/runtime/html4/Runtime","moxie/file/File","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Events","moxie/core/utils/Mime","moxie/core/utils/Env"],function(e,t,i,n,o,r,a){function s(){function e(){var r,c,d,p,f,h,m=this,g=m.getRuntime();h=i.guid("uid_"),r=g.getShimContainer(),s&&(d=n.get(s+"_form"),d&&i.extend(d.style,{top:"100%"})),p=document.createElement("form"),p.setAttribute("id",h+"_form"),p.setAttribute("method","post"),p.setAttribute("enctype","multipart/form-data"),p.setAttribute("encoding","multipart/form-data"),i.extend(p.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),f=document.createElement("input"),f.setAttribute("id",h),f.setAttribute("type","file"),f.setAttribute("accept",u.join(",")),i.extend(f.style,{fontSize:"999px",opacity:0}),p.appendChild(f),r.appendChild(p),i.extend(f.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===a.browser&&a.verComp(a.version,10,"<")&&i.extend(f.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),f.onchange=function(){var i;if(this.value){if(this.files){if(i=this.files[0],0===i.size)return void p.parentNode.removeChild(p)}else i={name:this.value};i=new t(g.uid,i),this.onchange=function(){},e.call(m),m.files=[i],f.setAttribute("id",i.uid),p.setAttribute("id",i.uid+"_form"),m.trigger("change"),f=p=null}},g.can("summon_file_dialog")&&(c=n.get(l.browse_button),o.removeEvent(c,"click",m.uid),o.addEvent(c,"click",function(e){f&&!f.disabled&&f.click(),e.preventDefault()},m.uid)),s=h,r=d=c=null}var s,l,c,u=[];i.extend(this,{init:function(t){var i,a=this,s=a.getRuntime();l=t,u=t.accept.mimes||r.extList2mimes(t.accept,s.can("filter_by_extension")),i=s.getShimContainer(),function(){var e,r,u;e=n.get(t.browse_button),c=n.getStyle(e,"z-index")||"auto",s.can("summon_file_dialog")&&("static"===n.getStyle(e,"position")&&(e.style.position="relative"),a.bind("Refresh",function(){r=parseInt(c,10)||1,n.get(l.browse_button).style.zIndex=r,this.getRuntime().getShimContainer().style.zIndex=r-1})),u=s.can("summon_file_dialog")?e:i,o.addEvent(u,"mouseover",function(){a.trigger("mouseenter")},a.uid),o.addEvent(u,"mouseout",function(){a.trigger("mouseleave")},a.uid),o.addEvent(u,"mousedown",function(){a.trigger("mousedown")},a.uid),o.addEvent(n.get(t.container),"mouseup",function(){a.trigger("mouseup")},a.uid),e=null}(),e.call(this),i=null,a.trigger({type:"ready",async:!0})},setOption:function(e,t){var i,o=this.getRuntime();"accept"==e&&(u=t.mimes||r.extList2mimes(t,o.can("filter_by_extension"))),i=n.get(s),i&&i.setAttribute("accept",u.join(","))},disable:function(e){var t;(t=n.get(s))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),i=e.getShimContainer(),r=l&&n.get(l.container),a=l&&n.get(l.browse_button);r&&o.removeAllEvents(r,this.uid),a&&(o.removeAllEvents(a,this.uid),a.style.zIndex=c),i&&(o.removeAllEvents(i,this.uid),i.innerHTML=""),t.removeInstance(this.uid),s=u=l=i=r=a=t=null}})}return e.FileInput=s}),n("moxie/runtime/html4/file/FileReader",["moxie/runtime/html4/Runtime","moxie/runtime/html5/file/FileReader"],function(e,t){return e.FileReader=t}),n("moxie/runtime/html4/xhr/XMLHttpRequest",["moxie/runtime/html4/Runtime","moxie/core/utils/Basic","moxie/core/utils/Dom","moxie/core/utils/Url","moxie/core/Exceptions","moxie/core/utils/Events","moxie/file/Blob","moxie/xhr/FormData"],function(e,t,i,n,o,r,a,s){function l(){function e(e){var t,n,o,a,s=this,l=!1;if(u){if(t=u.id.replace(/_iframe$/,""),n=i.get(t+"_form")){for(o=n.getElementsByTagName("input"),a=o.length;a--;)switch(o[a].getAttribute("type")){case"hidden":o[a].parentNode.removeChild(o[a]);break;case"file":l=!0}o=[],l||n.parentNode.removeChild(n),n=null}setTimeout(function(){r.removeEvent(u,"load",s.uid),u.parentNode&&u.parentNode.removeChild(u);var t=s.getRuntime().getShimContainer();t.children.length||t.parentNode.removeChild(t),t=u=null,e()},1)}}var l,c,u;t.extend(this,{send:function(d,p){function f(){var i=b.getShimContainer()||document.body,o=document.createElement("div");o.innerHTML='<iframe id="'+h+'_iframe" name="'+h+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',u=o.firstChild,i.appendChild(u),r.addEvent(u,"load",function(){var i;try{i=u.contentWindow.document||u.contentDocument||window.frames[u.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(i.title)?l=i.title.replace(/^(\d+).*$/,"$1"):(l=200,c=t.trim(i.body.innerHTML),v.trigger({type:"progress",loaded:c.length,total:c.length}),y&&v.trigger({type:"uploadprogress",loaded:y.size||1025,total:y.size||1025}))}catch(t){if(!n.hasSameOrigin(d.url))return void e.call(v,function(){v.trigger("error")});l=404}e.call(v,function(){v.trigger("load")})},v.uid)}var h,m,g,y,v=this,b=v.getRuntime();if(l=c=null,p instanceof s&&p.hasBlob()){if(y=p.getBlob(),h=y.uid,g=i.get(h),m=i.get(h+"_form"),!m)throw new o.DOMException(o.DOMException.NOT_FOUND_ERR)}else h=t.guid("uid_"),m=document.createElement("form"),m.setAttribute("id",h+"_form"),m.setAttribute("method",d.method),m.setAttribute("enctype","multipart/form-data"),m.setAttribute("encoding","multipart/form-data"),b.getShimContainer().appendChild(m);m.setAttribute("target",h+"_iframe"),p instanceof s&&p.each(function(e,i){if(e instanceof a)g&&g.setAttribute("name",i);else{var n=document.createElement("input");t.extend(n,{type:"hidden",name:i,value:e}),g?m.insertBefore(n,g):m.appendChild(n)}}),m.setAttribute("action",d.url),f(),m.submit(),v.trigger("loadstart")},getStatus:function(){return l},getResponse:function(e){if("json"===e&&"string"===t.typeOf(c)&&window.JSON)try{return JSON.parse(c.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(e){return null}return c},abort:function(){var t=this;u&&u.contentWindow&&(u.contentWindow.stop?u.contentWindow.stop():u.contentWindow.document.execCommand?u.contentWindow.document.execCommand("Stop"):u.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})}})}return e.XMLHttpRequest=l}),n("moxie/runtime/html4/image/Image",["moxie/runtime/html4/Runtime","moxie/runtime/html5/image/Image"],function(e,t){return e.Image=t}),a(["moxie/core/utils/Basic","moxie/core/utils/Encode","moxie/core/utils/Env","moxie/core/Exceptions","moxie/core/utils/Dom","moxie/core/EventTarget","moxie/runtime/Runtime","moxie/runtime/RuntimeClient","moxie/file/Blob","moxie/core/I18n","moxie/core/utils/Mime","moxie/file/FileInput","moxie/file/File","moxie/file/FileDrop","moxie/file/FileReader","moxie/core/utils/Url","moxie/runtime/RuntimeTarget","moxie/xhr/FormData","moxie/xhr/XMLHttpRequest","moxie/runtime/Transporter","moxie/image/Image","moxie/core/utils/Events","moxie/runtime/html5/image/ResizerCanvas"])}(this)}),define("../libs/plupload/js/moxie.min",function(){}),!function(e,t){var i=function(){var e={};return t.apply(e,arguments),e.plupload};"function"==typeof define&&define.amd?define("plupload",["./moxie"],i):"object"==typeof module&&module.exports?module.exports=i(require("./moxie")):e.plupload=i(e.moxie)}(this||window,function(e){!function(e,t,i){function n(e){function t(e,t,i){var o={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",urlstream_upload:"send_binary_string",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};o[e]?n[o[e]]=t:i||(n[e]=t)}var i=e.required_features,n={};return"string"==typeof i?l.each(i.split(/\s*,\s*/),function(e){t(e,!0)}):"object"==typeof i?l.each(i,function(e,i){t(i,e)}):i===!0&&(e.chunk_size>0&&(n.slice_blob=!0),l.isEmptyObj(e.resize)&&e.multipart||(n.send_binary_string=!0),l.each(e,function(e,i){t(i,!!e,!0)})),n}var o=window.setTimeout,r={},a=t.core.utils,s=t.runtime.Runtime,l={VERSION:"2.2.1",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:a.Mime.mimes,ua:a.Env,typeOf:a.Basic.typeOf,extend:a.Basic.extend,guid:a.Basic.guid,getAll:function(e){var t,i=[];"array"!==l.typeOf(e)&&(e=[e]);for(var n=e.length;n--;)t=l.get(e[n]),t&&i.push(t);return i.length?i:null},get:a.Dom.get,each:a.Basic.each,getPos:a.Dom.getPos,getSize:a.Dom.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},i=/[<>&\"\']/g;return e?(""+e).replace(i,function(e){return t[e]?"&"+t[e]+";":e}):e},toArray:a.Basic.toArray,inArray:a.Basic.inArray,inSeries:a.Basic.inSeries,addI18n:t.core.I18n.addI18n,translate:t.core.I18n.translate,sprintf:a.Basic.sprintf,isEmptyObj:a.Basic.isEmptyObj,hasClass:a.Dom.hasClass,addClass:a.Dom.addClass,removeClass:a.Dom.removeClass,getStyle:a.Dom.getStyle,addEvent:a.Events.addEvent,removeEvent:a.Events.removeEvent,removeAllEvents:a.Events.removeAllEvents,cleanName:function(e){var t,i;for(i=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<i.length;t+=2)e=e.replace(i[t],i[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},buildUrl:function(e,t){var i="";return l.each(t,function(e,t){i+=(i?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),i&&(e+=(e.indexOf("?")>0?"&":"?")+i),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===i||/\D/.test(e))return l.translate("N/A");var n=Math.pow(1024,4);return e>n?t(e/n,1)+" "+l.translate("tb"):e>(n/=1024)?t(e/n,1)+" "+l.translate("gb"):e>(n/=1024)?t(e/n,1)+" "+l.translate("mb"):e>1024?Math.round(e/1024)+" "+l.translate("kb"):e+" "+l.translate("b")},parseSize:a.Basic.parseSizeStr,predictRuntime:function(e,t){var i,n;return i=new l.Uploader(e),n=s.thatCan(i.getOption().required_features,t||e.runtimes),i.destroy(),n},addFileFilter:function(e,t){r[e]=t}};l.addFileFilter("mime_types",function(e,t,i){e.length&&!e.regexp.test(t.name)?(this.trigger("Error",{code:l.FILE_EXTENSION_ERROR,message:l.translate("File extension error."),file:t}),i(!1)):i(!0)}),l.addFileFilter("max_file_size",function(e,t,i){var n;e=l.parseSize(e),t.size!==n&&e&&t.size>e?(this.trigger("Error",{code:l.FILE_SIZE_ERROR,message:l.translate("File size error."),file:t}),i(!1)):i(!0)}),l.addFileFilter("prevent_duplicates",function(e,t,i){if(e)for(var n=this.files.length;n--;)if(t.name===this.files[n].name&&t.size===this.files[n].size)return this.trigger("Error",{code:l.FILE_DUPLICATE_ERROR,message:l.translate("Duplicate file error."),file:t}),void i(!1);i(!0)}),l.Uploader=function(e){function a(){var e,t,i=0;if(this.state==l.STARTED){for(t=0;t<O.length;t++)e||O[t].status!=l.QUEUED?i++:(e=O[t],this.trigger("BeforeUpload",e)&&(e.status=l.UPLOADING,this.trigger("UploadFile",e)));i==O.length&&(this.state!==l.STOPPED&&(this.state=l.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",O))}}function c(e){e.percent=e.size>0?Math.ceil(100*(e.loaded/e.size)):100,u()}function u(){var e,t;for(k.reset(),e=0;e<O.length;e++)t=O[e],t.size!==i?(k.size+=t.origSize,k.loaded+=t.loaded*t.origSize/t.size):k.size=i,t.status==l.DONE?k.uploaded++:t.status==l.FAILED?k.failed++:k.queued++;k.size===i?k.percent=O.length>0?Math.ceil(100*(k.uploaded/O.length)):0:(k.bytesPerSec=Math.ceil(k.loaded/((+new Date-C||1)/1e3)),k.percent=k.size>0?Math.ceil(100*(k.loaded/k.size)):0)}function d(){var e=I[0]||N[0];return!!e&&e.getRuntime().uid}function p(e,t){if(e.ruid){var i=s.getInfo(e.ruid);if(i)return i.can(t)}return!1}function f(){this.bind("FilesAdded FilesRemoved",function(e){e.trigger("QueueChanged"),e.refresh()}),this.bind("CancelUpload",x),this.bind("BeforeUpload",y),this.bind("UploadFile",v),this.bind("UploadProgress",b),this.bind("StateChanged",w),this.bind("QueueChanged",u),this.bind("Error",S),this.bind("FileUploaded",_),this.bind("Destroy",T)}function h(e,i){var n=this,o=0,r=[],a={runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:D,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};l.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&&(a[t]=e[t])}),e.browse_button&&l.each(e.browse_button,function(i){r.push(function(r){var c=new t.file.FileInput(l.extend({},a,{accept:e.filters.mime_types,name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:i}));c.onready=function(){var e=s.getInfo(this.ruid);l.extend(n.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),o++,I.push(this),r()},c.onchange=function(){n.addFile(this.files)},c.bind("mouseenter mouseleave mousedown mouseup",function(t){F||(e.browse_button_hover&&("mouseenter"===t.type?l.addClass(i,e.browse_button_hover):"mouseleave"===t.type&&l.removeClass(i,e.browse_button_hover)),e.browse_button_active&&("mousedown"===t.type?l.addClass(i,e.browse_button_active):"mouseup"===t.type&&l.removeClass(i,e.browse_button_active)))}),c.bind("mousedown",function(){n.trigger("Browse")}),c.bind("error runtimeerror",function(){c=null,r()}),c.init()})}),e.drop_element&&l.each(e.drop_element,function(e){r.push(function(i){var r=new t.file.FileDrop(l.extend({},a,{drop_zone:e}));r.onready=function(){var e=s.getInfo(this.ruid);l.extend(n.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),dragdrop:e.can("drag_and_drop")}),o++,N.push(this),i()},r.ondrop=function(){n.addFile(this.files)},r.bind("error runtimeerror",function(){r=null,i()}),r.init()})}),l.inSeries(r,function(){"function"==typeof i&&i(o)})}function m(e,n,o){var r=new t.image.Image;try{r.onload=function(){return n.width>this.width&&n.height>this.height&&n.quality===i&&n.preserve_headers&&!n.crop?(this.destroy(),o(e)):void r.downsize(n.width,n.height,n.crop,n.preserve_headers)},r.onresize=function(){o(this.getAsBlob(e.type,n.quality)),this.destroy()},r.onerror=function(){o(e)},r.load(e)}catch(t){o(e)}}function g(e,i,o){function r(e,i,n){var o=E[e];switch(e){case"max_file_size":"max_file_size"===e&&(E.max_file_size=E.filters.max_file_size=i);break;case"chunk_size":(i=l.parseSize(i))&&(E[e]=i,E.send_file_name=!0);break;case"multipart":E[e]=i,i||(E.send_file_name=!0);break;case"unique_names":E[e]=i,i&&(E.send_file_name=!0);break;case"filters":"array"===l.typeOf(i)&&(i={mime_types:i}),n?l.extend(E.filters,i):E.filters=i,i.mime_types&&("string"===l.typeOf(i.mime_types)&&(i.mime_types=t.core.utils.Mime.mimes2extList(i.mime_types)),i.mime_types.regexp=function(e){var t=[];return l.each(e,function(e){l.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+t.join("|")+")$","i")}(i.mime_types),E.filters.mime_types=i.mime_types);break;case"resize":E.resize=!!i&&l.extend({preserve_headers:!0,crop:!1},i);break;case"prevent_duplicates":E.prevent_duplicates=E.filters.prevent_duplicates=!!i;break;case"container":case"browse_button":case"drop_element":i="container"===e?l.get(i):l.getAll(i);case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":E[e]=i,n||(c=!0);break;default:E[e]=i}n||a.trigger("OptionChanged",e,i,o)}var a=this,c=!1;"object"==typeof e?l.each(e,function(e,t){r(t,e,o)}):r(e,i,o),o?(E.required_features=n(l.extend({},E)),D=n(l.extend({},E,{required_features:!0}))):c&&(a.trigger("Destroy"),h.call(a,E,function(e){e?(a.runtime=s.getInfo(d()).type,a.trigger("Init",{runtime:a.runtime}),a.trigger("PostInit")):a.trigger("Error",{code:l.INIT_ERROR,message:l.translate("Init error.")})}))}function y(e,t){if(e.settings.unique_names){var i=t.name.match(/\.([^.]+)$/),n="part";i&&(n=i[1]),t.target_name=t.id+"."+n}}function v(e,i){function n(){u-- >0?o(r,1e3):(i.loaded=f,e.trigger("Error",{code:l.HTTP_ERROR,message:l.translate("HTTP Error."),file:i,response:R.responseText,status:R.status,responseHeaders:R.getAllResponseHeaders()}))}function r(){var p,h,m,g={};i.status===l.UPLOADING&&e.state!==l.STOPPED&&(e.settings.send_file_name&&(g.name=i.target_name||i.name),c&&d.chunks&&a.size>c?(m=Math.min(c,a.size-f),p=a.slice(f,f+m)):(m=a.size,p=a),c&&d.chunks&&(e.settings.send_chunk_number?(g.chunk=Math.ceil(f/c),g.chunks=Math.ceil(a.size/c)):(g.offset=f,g.total=a.size)),R=new t.xhr.XMLHttpRequest,R.upload&&(R.upload.onprogress=function(t){i.loaded=Math.min(i.size,f+t.loaded),e.trigger("UploadProgress",i)}),R.onload=function(){return R.status>=400?void n():(u=e.settings.max_retries,m<a.size?(p.destroy(),f+=m,i.loaded=Math.min(f,a.size),e.trigger("ChunkUploaded",i,{offset:i.loaded,total:a.size,response:R.responseText,status:R.status,responseHeaders:R.getAllResponseHeaders()}),"Android Browser"===l.ua.browser&&e.trigger("UploadProgress",i)):i.loaded=i.size,p=h=null,void(!f||f>=a.size?(i.size!=i.origSize&&(a.destroy(),a=null),e.trigger("UploadProgress",i),i.status=l.DONE,e.trigger("FileUploaded",i,{response:R.responseText,status:R.status,responseHeaders:R.getAllResponseHeaders()})):o(r,1)))},R.onerror=function(){n()},R.onloadend=function(){this.destroy(),R=null},e.settings.multipart&&d.multipart?(R.open("post",s,!0),l.each(e.settings.headers,function(e,t){R.setRequestHeader(t,e)}),h=new t.xhr.FormData,l.each(l.extend(g,e.settings.multipart_params),function(e,t){h.append(t,e)}),h.append(e.settings.file_data_name,p),R.send(h,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:D,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})):(s=l.buildUrl(e.settings.url,l.extend(g,e.settings.multipart_params)),R.open("post",s,!0),l.each(e.settings.headers,function(e,t){R.setRequestHeader(t,e)}),R.hasRequestHeader("Content-Type")||R.setRequestHeader("Content-Type","application/octet-stream"),R.send(p,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:D,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})))}var a,s=e.settings.url,c=e.settings.chunk_size,u=e.settings.max_retries,d=e.features,f=0;i.loaded&&(f=i.loaded=c?c*Math.floor(i.loaded/c):0),a=i.getSource(),!l.isEmptyObj(e.settings.resize)&&p(a,"send_binary_string")&&-1!==l.inArray(a.type,["image/jpeg","image/png"])?m.call(this,a,e.settings.resize,function(e){a=e,i.size=e.size,r()}):r()}function b(e,t){c(t)}function w(e){if(e.state==l.STARTED)C=+new Date;else if(e.state==l.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==l.UPLOADING&&(e.files[t].status=l.QUEUED,u())}function x(){R&&R.abort()}function _(e){u(),o(function(){a.call(e)},1)}function S(e,t){t.code===l.INIT_ERROR?e.destroy():t.code===l.HTTP_ERROR&&(t.file.status=l.FAILED,c(t.file),e.state==l.STARTED&&(e.trigger("CancelUpload"),o(function(){a.call(e)},1)))}function T(e){e.stop(),l.each(O,function(e){e.destroy()}),O=[],I.length&&(l.each(I,function(e){e.destroy()}),I=[]),N.length&&(l.each(N,function(e){e.destroy()}),N=[]),D={},F=!1,C=R=null,k.reset()}var E,C,k,R,A=l.guid(),O=[],D={},I=[],N=[],F=!1;E={runtimes:s.order,max_retries:0,chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",flash_swf_url:"js/Moxie.swf",
silverlight_xap_url:"js/Moxie.xap",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},resize:!1,send_file_name:!0,send_chunk_number:!0},g.call(this,e,null,!0),k=new l.QueueProgress,l.extend(this,{id:A,uid:A,state:l.STOPPED,features:{},runtime:null,files:O,settings:E,total:k,init:function(){var e,t,i=this;return e=i.getOption("preinit"),"function"==typeof e?e(i):l.each(e,function(e,t){i.bind(t,e)}),f.call(i),l.each(["container","browse_button","drop_element"],function(e){return null===i.getOption(e)?(t={code:l.INIT_ERROR,message:l.sprintf(l.translate("%s specified, but cannot be found."),e)},!1):void 0}),t?i.trigger("Error",t):E.browse_button||E.drop_element?void h.call(i,E,function(e){var t=i.getOption("init");"function"==typeof t?t(i):l.each(t,function(e,t){i.bind(t,e)}),e?(i.runtime=s.getInfo(d()).type,i.trigger("Init",{runtime:i.runtime}),i.trigger("PostInit")):i.trigger("Error",{code:l.INIT_ERROR,message:l.translate("Init error.")})}):i.trigger("Error",{code:l.INIT_ERROR,message:l.translate("You must specify either browse_button or drop_element.")})},setOption:function(e,t){g.call(this,e,t,!this.runtime)},getOption:function(e){return e?E[e]:E},refresh:function(){I.length&&l.each(I,function(e){e.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=l.STARTED&&(this.state=l.STARTED,this.trigger("StateChanged"),a.call(this))},stop:function(){this.state!=l.STOPPED&&(this.state=l.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){F=arguments[0]===i||arguments[0],I.length&&l.each(I,function(e){e.disable(F)}),this.trigger("DisableBrowse",F)},getFile:function(e){var t;for(t=O.length-1;t>=0;t--)if(O[t].id===e)return O[t]},addFile:function(e,i){function n(e,t){var i=[];l.each(c.settings.filters,function(t,n){r[n]&&i.push(function(i){r[n].call(c,t,e,function(e){i(!e)})})}),l.inSeries(i,t)}function a(e){var r=l.typeOf(e);if(e instanceof t.file.File){if(!e.ruid&&!e.isDetached()){if(!s)return!1;e.ruid=s,e.connectRuntime(s)}a(new l.File(e))}else e instanceof t.file.Blob?(a(e.getSource()),e.destroy()):e instanceof l.File?(i&&(e.name=i),u.push(function(t){n(e,function(i){i||(O.push(e),p.push(e),c.trigger("FileFiltered",e)),o(t,1)})})):-1!==l.inArray(r,["file","blob"])?a(new t.file.File(null,e)):"node"===r&&"filelist"===l.typeOf(e.files)?l.each(e.files,a):"array"===r&&(i=null,l.each(e,a))}var s,c=this,u=[],p=[];s=d(),a(e),u.length&&l.inSeries(u,function(){p.length&&c.trigger("FilesAdded",p)})},removeFile:function(e){for(var t="string"==typeof e?e:e.id,i=O.length-1;i>=0;i--)if(O[i].id===t)return this.splice(i,1)[0]},splice:function(e,t){var n=O.splice(e===i?0:e,t===i?O.length:t),o=!1;return this.state==l.STARTED&&(l.each(n,function(e){return e.status===l.UPLOADING?(o=!0,!1):void 0}),o&&this.stop()),this.trigger("FilesRemoved",n),l.each(n,function(e){e.destroy()}),o&&this.start(),n},dispatchEvent:function(e){var t,i;if(e=e.toLowerCase(),t=this.hasEventListener(e)){t.sort(function(e,t){return t.priority-e.priority}),i=[].slice.call(arguments),i.shift(),i.unshift(this);for(var n=0;n<t.length;n++)if(t[n].fn.apply(t[n].scope,i)===!1)return!1}return!0},bind:function(e,t,i,n){l.Uploader.prototype.bind.call(this,e,t,n,i)},destroy:function(){this.trigger("Destroy"),E=k=null,this.unbindAll()}})},l.Uploader.prototype=t.core.EventTarget.instance,l.File=function(){function e(e){l.extend(this,{id:l.guid(),name:e.name||e.fileName,type:e.type||"",size:e.size||e.fileSize,origSize:e.size||e.fileSize,loaded:0,percent:0,status:l.QUEUED,lastModifiedDate:e.lastModifiedDate||(new Date).toLocaleString(),getNative:function(){var e=this.getSource().getSource();return-1!==l.inArray(l.typeOf(e),["blob","file"])?e:null},getSource:function(){return t[this.id]?t[this.id]:null},destroy:function(){var e=this.getSource();e&&(e.destroy(),delete t[this.id])}}),t[this.id]=e}var t={};return e}(),l.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=l}(this,e)}),define("upload",["jquery","bootstrap","plupload","template"],function(e,t,i,n){var o={list:{},config:{container:document.body,classname:".plupload:not([initialized])",previewtpl:'<li class="col-xs-3"><a href="<%=fullurl%>" data-url="<%=url%>" target="_blank" class="thumbnail"><img src="<%=fullurl%>" onerror="this.src=\''+Fast.api.fixurl("ajax/icon")+'?suffix=\'+\'<%=fullurl%>\'.split(\'.\').pop();this.onerror=null;" class="img-responsive"></a><a href="javascript:;" class="btn btn-danger btn-xs btn-trash"><i class="fa fa-trash"></i></a></li>'},events:{onInit:function(t){var i=e("input[type=file]",t.settings.container);i&&i.prop("accept")&&i.prop("accept").match(/image\//)&&i.prop("accept","image/jpg,"+i.prop("accept"))},onPostInit:function(e){},onFileAdded:function(t,i){var n=t.settings.button;e(n).data("bakup-html",e(n).html());var o=e(n).data("maxcount"),r=e(n).data("input-id")?e(n).data("input-id"):"";if(o="undefined"!=typeof o?o:0,o>0&&r){var a=e("#"+r);if(a.size()>0){var s=e.trim(a.val()),l=""===s?0:s.split(/\,/).length,c=o-l;if(i.length>c){for(var u=0;u<i.length;u++)t.removeFile(i[u]);return Toastr.error(__("You can upload up to %d file%s",c)),!1}}}setTimeout(function(){t.start()},1)},onUploadProgress:function(e,t){},onBeforeUpload:function(e,t){},onUploadSuccess:function(t,i){var n=t.settings.button,r=t.settings.onUploadSuccess,a="undefined"!=typeof i.data?i.data:null;if(n){var s=e(n).data("input-id")?e(n).data("input-id"):"";if(s){var l=[],c=e("#"+s);e(n).data("multiple")&&""!==c.val()&&l.push(c.val()),l.push(a.url),c.val(l.join(",")).trigger("change").trigger("validate")}var u=e(n).data("upload-success");if(u&&("function"!=typeof u&&"function"==typeof o.api.custom[u]&&(u=o.api.custom[u]),"function"==typeof u)){var d=u.call(n,a,i);if(d===!1)return}}if("function"==typeof r){var d=r.call(n,a,i);if(d===!1)return}},onUploadError:function(t,i){var n=t.settings.button,r=t.settings.onUploadError,a="undefined"!=typeof i.data?i.data:null;if(n){var s=e(n).data("upload-error");if(s&&("function"!=typeof s&&"function"==typeof o.api.custom[s]&&(s=o.api.custom[s]),"function"==typeof s)){var l=s.call(n,a,i);if(l===!1)return}}if("function"==typeof r){var l=r.call(n,a,i);if(l===!1)return}Toastr.error(i.msg+"(code:"+i.code+")")},onUploadResponse:function(t){try{var i="object"==typeof t?t:JSON.parse(t);i.hasOwnProperty("code")||e.extend(i,{code:-2,msg:t,data:null})}catch(e){var i={code:-1,msg:e.message,data:null}}return i},onUploadComplete:function(t,i){var n=t.settings.button,r=t.settings.onUploadComplete;if(n){var a=e(n).data("upload-complete");if(a&&("function"!=typeof a&&"function"==typeof o.api.custom[a]&&(a=o.api.custom[a]),"function"==typeof a)){var s=a.call(n,i);if(s===!1)return}}if("function"==typeof r){var s=r.call(n,i);if(s===!1)return}}},api:{plupload:function(t,r,a,s){t="undefined"==typeof t?o.config.classname:t,e(t,o.config.container).each(function(){if(e(this).attr("initialized"))return!0;e(this).attr("initialized",!0);var t=this,l=e(this).prop("id"),c=e(this).data("url"),u=e(this).data("maxsize"),d=e(this).data("mimetype"),p=e(this).data("multipart"),f=e(this).data("multiple"),h=e(t).data("input-id")?e(t).data("input-id"):"",m=e(t).data("preview-id")?e(t).data("preview-id"):"";c=c?c:Config.upload.uploadurl,c=Fast.api.fixurl(c),u="undefined"!=typeof u?u:Config.upload.maxsize,d="undefined"!=typeof d?d:Config.upload.mimetype,p="undefined"!=typeof p?p:Config.upload.multipart,f="undefined"!=typeof f?f:Config.upload.multiple;var g=new Array;if(d&&"*"!==d&&d.indexOf("/")===-1){for(var y=d.split(","),v=0;v<y.length;v++)g.push({title:__("Files"),extensions:y[v]});d=g}o.list[l]=new i.Uploader({runtimes:"html5,flash,silverlight,html4",multi_selection:f,browse_button:l,container:e(this).parent().get(0),flash_swf_url:"/assets/libs/plupload/js/Moxie.swf",silverlight_xap_url:"/assets/libs/plupload/js/Moxie.xap",drop_element:[l,e(this).data("input-id")],filters:{max_file_size:u,mime_types:d},url:c,multipart_params:e.isArray(p)?{}:p,init:{Init:o.events.onInit,PostInit:o.events.onPostInit,FilesAdded:o.events.onFileAdded,BeforeUpload:o.events.onBeforeUpload,UploadProgress:function(t,i){var n=t.settings.button;e(n).prop("disabled",!0).html("<i class='fa fa-upload'></i> "+__("Upload")+i.percent+"%"),o.events.onUploadProgress(t,i)},FileUploaded:function(t,i,n){var r=t.settings.button;e(r).prop("disabled",!1).html(e(r).data("bakup-html"));var a=o.events.onUploadResponse(n.response,n,t,i);i.ret=a,1===a.code?o.events.onUploadSuccess(t,a,i):o.events.onUploadError(t,a,i)},UploadComplete:o.events.onUploadComplete,Error:function(t,i){var n=t.settings.button;e(n).prop("disabled",!1).html(e(n).data("bakup-html"));var r={code:i.code,msg:i.message,data:null};o.events.onUploadError(t,r)}},onUploadSuccess:r,onUploadError:a,onUploadComplete:s,button:t}),m&&f&&require(["dragsort"],function(){e("#"+m).dragsort({dragSelector:"li a:not(.btn-trash)",dragEnd:function(){e("#"+m).trigger("fa.preview.change")},placeHolderTemplate:'<li class="col-xs-3"></li>'})});var b=function(t){var i={},n=e("textarea[name='"+t+"']"),o=n.prev("ul");e.each(e("input,select,textarea",o).serializeArray(),function(e,t){var n=/\[?(\w+)\]?\[(\w+)\]$/g,o=n.exec(t.name);return!o||void(isNaN(o[2])?(o[1]="x"+parseInt(o[1]),"undefined"==typeof i[o[1]]&&(i[o[1]]={}),i[o[1]][o[2]]=t.value):i[e]=t.value)});var r=[];e.each(i,function(e,t){r.push(t)}),n.val(JSON.stringify(r))};m&&h&&(e(document.body).on("keyup change","#"+h,function(i){var r=e("#"+h).val(),a=r.split(/\,/);e("#"+m).empty();var s=e("#"+m).data("template")?e("#"+m).data("template"):"",l=e("#"+m).next().is("textarea")?e("#"+m).next("textarea").val():"{}",c={};try{c=JSON.parse(l)}catch(e){}e.each(a,function(i,r){if(!r)return!0;var a={url:r,fullurl:Fast.api.cdnurl(r),data:e(t).data(),key:i,index:i,value:c&&"undefined"!=typeof c[i]?c[i]:null},l=s?n(s,a):n.render(o.config.previewtpl,a);e("#"+m).append(l)})}),e("#"+h).trigger("change")),m&&(e("#"+m).on("change keyup","input,textarea,select",function(){b(e(this).closest("ul").data("name"))}),e(document.body).on("fa.preview.change","#"+m,function(){var t=[];e("#"+m+" [data-url]").each(function(i,n){t.push(e(this).data("url"))}),h&&e("#"+h).val(t.join(",")),b(e("#"+m).data("name"))}),e(document.body).on("click","#"+m+" .btn-trash",function(){e(this).closest("li").remove(),e("#"+m).trigger("fa.preview.change")})),h&&(e("body").on("paste","#"+h,function(t){var i,n,r=this;if(n=t.originalEvent,n.clipboardData&&n.clipboardData.items&&(i=o.api.getImageFromClipboard(n))){t.preventDefault();var a=e(".plupload[data-input-id='"+e(r).attr("id")+"']");o.api.send(i,function(t){var i=[];a&&a.data("multiple")&&""!==e(r).val()&&i.push(e(r).val()),i.push(t.url),e(r).val(i.join(",")).trigger("change").trigger("validate")})}}),e("body").on("drop","#"+h,function(t){var i,n,r=this;if(n=t.originalEvent,n.dataTransfer&&n.dataTransfer.files&&(i=o.api.getImageFromDrop(n),i.length>0)){t.preventDefault();var a=e(".plupload[data-input-id='"+e(r).attr("id")+"']");e.each(i,function(t,i){o.api.send(i,function(t){var i=[];a&&a.data("multiple")&&""!==e(r).val()&&i.push(e(r).val()),i.push(t.url),e(r).val(i.join(",")).trigger("change").trigger("validate")})})}})),o.list[l].init()})},send:function(t,n,r,a){var s=Layer.msg(__("Uploading"),{offset:"t",time:0}),l=i.guid(),c=o.events.onPostInit;o.events.onPostInit=function(){o.list[l].addFile(t)},e('<button type="button" id="'+l+'" class="btn btn-danger hidden plupload" />').appendTo("body"),e("#"+l).data("upload-complete",function(e){o.events.onPostInit=c,Layer.close(s)}),o.api.plupload("#"+l,n,r,a)},custom:{afteruploadcallback:function(e){console.log(this,e),alert("Custom Callback,Response URL:"+e.url)}},getImageFromClipboard:function(e){var t,i;for(t=0;t<e.clipboardData.items.length;){if(i=e.clipboardData.items[t],i.type.indexOf("image")!==-1)return i.getAsFile()||!1;t++}return!1},getImageFromDrop:function(e){var t,i,n;for(t=0,n=[];t<e.dataTransfer.files.length;)i=e.dataTransfer.files[t],i.type.indexOf("image")!==-1&&n.push(i),t++;return n}}};return o}),!function(e){"object"==typeof module&&module.exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define("validator-core",["jquery"],e):e(jQuery)}(function(e,t){"use strict";function i(t,n){function o(){r.$el=e(t),r.$el.length?r._init(r.$el[0],n):Y(t)&&(X[t]=n)}var r=this;return r instanceof i?void(i.pending?e(window).on("validatorready",o):o()):new i(t,n)}function n(t){function i(){var t=this.options;for(var i in t)i in Q&&(this[i]=t[i]);e.extend(this,{_valHook:function(){return"true"===this.element.contentEditable?"text":"val"},getValue:function(){var t=this.element;return"number"===t.type&&t.validity&&t.validity.badInput?"NaN":e(t)[this._valHook()]()},setValue:function(t){e(this.element)[this._valHook()](this.value=t)},getRangeMsg:function(e,t,i){function n(e,t){return l?e>t:e>=t}if(t){var o,r=this,a=r.messages[r._r]||"",s=t[0].split("~"),l="false"===t[1],c=s[0],u=s[1],d="rg",p=[""],f=U(e)&&+e===+e;return 2===s.length?c&&u?(f&&n(e,+c)&&n(+u,e)&&(o=!0),p=p.concat(s),d=l?"gtlt":"rg"):c&&!u?(f&&n(e,+c)&&(o=!0),p.push(c),d=l?"gt":"gte"):!c&&u&&(f&&n(+u,e)&&(o=!0),p.push(u),d=l?"lt":"lte"):(e===+c&&(o=!0),p.push(c),d="eq"),a&&(i&&a[d+i]&&(d+=i),p[0]=a[d]),o||r._rules&&(r._rules[r._i].msg=r.renderMsg.apply(null,p))}},renderMsg:function(){var e=arguments,t=e[0],i=e.length;if(t){for(;--i;)t=t.replace("{"+i+"}",e[i]);return t}}})}function n(i,n,o){this.key=i,this.validator=t,e.extend(this,o,n)}return i.prototype=t,n.prototype=new i,n}function o(e,t){if(W(e)){var i,n=t?t===!0?this:t:o.prototype;for(i in e)f(i)&&(n[i]=a(e[i]))}}function r(e,t){if(W(e)){var i,n=t?t===!0?this:t:r.prototype;for(i in e)n[i]=e[i]}}function a(t){switch(e.type(t)){case"function":return t;case"array":var i=function(){return t[0].test(this.value)||t[1]||!1};return i.msg=t[1],i;case"regexp":return function(){return t.test(this.value)}}}function s(t){var i,n,o;if(t&&t.tagName){switch(t.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":i=t.form||e(t).closest("."+x);break;case"FORM":i=t;break;default:i=e(t).closest("."+x)}for(n in X)if(e(i).is(n)){o=X[n];break}return e(i).data(g)||e(i)[g](o).data(g)}}function l(e,t){var i=U(G(e,T+"-"+t));if(i&&(i=new Function("return "+i)()))return a(i)}function c(e,t,i){var n=t.msg,o=t._r;return W(n)&&(n=n[o]),Y(n)||(n=G(e,E+"-"+o)||G(e,E)||(i?Y(i)?i:i[o]:"")),n}function u(e){var t;return e&&(t=$.exec(e)),t&&t[0]}function d(e){return"INPUT"===e.tagName&&"checkbox"===e.type||"radio"===e.type}function p(e){return Date.parse(e.replace(/\.|\-/g,"/"))}function f(e){return/^\w+$/.test(e)}function h(e){var t="#"===e.charAt(0);return e=e.replace(/([:.{(|)}\/\[\]])/g,"\\$1"),t?e:'[name="'+e+'"]:first'}var m,g="validator",y="."+g,v=".rule",b=".field",w=".form",x="nice-"+g,_="msg-box",S="aria-invalid",T="data-rule",E="data-msg",C="data-tip",k="data-ok",R="data-timely",A="data-target",O="data-display",D="data-must",I="novalidate",N=":verifiable",F=/(&)?(!)?\b(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\|)?/g,M=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,L=/(?:([^:;\(\[]*):)?(.*)/,P=/[^\x00-\xff]/g,$=/top|right|bottom|left/,j=/(?:(cors|jsonp):)?(?:(post|get):)?(.+)/i,H=/[<>'"`\\]|&#x?\d+[A-F]?;?|%3[A-F]/gim,z=e.noop,B=e.proxy,U=e.trim,q=e.isFunction,Y=function(e){return"string"==typeof e},W=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},V=document.documentMode||+(navigator.userAgent.match(/MSIE (\d+)/)&&RegExp.$1),G=function(e,i,n){return e&&e.tagName?n===t?e.getAttribute(i):void(null===n?e.removeAttribute(i):e.setAttribute(i,""+n)):null},X={},J={debug:0,theme:"default",ignore:"",focusInvalid:!0,focusCleanup:!1,stopOnError:!1,beforeSubmit:null,valid:null,invalid:null,validation:null,formClass:"n-default",validClass:"n-valid",invalidClass:"n-invalid",bindClassTo:null},Q={timely:1,display:null,target:null,ignoreBlank:!1,showOk:!0,dataFilter:function(e){if(Y(e)||W(e)&&("error"in e||"ok"in e))return e},msgMaker:function(t){var i;return i='<span role="alert" class="msg-wrap n-'+t.type+'">'+t.arrow,t.result?e.each(t.result,function(e,n){i+='<span class="n-'+n.type+'">'+t.icon+'<span class="n-msg">'+n.msg+"</span></span>"}):i+=t.icon+'<span class="n-msg">'+t.msg+"</span>",i+="</span>"},msgWrapper:"span",msgArrow:"",msgIcon:'<span class="n-icon"></span>',msgClass:"n-right",msgStyle:"",msgShow:null,msgHide:null},K={};return e.fn.validator=function(t){var n=this,o=arguments;return n.is(N)?n:(n.is("form")||(n=this.find("form")),n.length||(n=this),n.each(function(){var n=e(this).data(g);if(n)if(Y(t)){if("_"===t.charAt(0))return;n[t].apply(n,[].slice.call(o,1))}else t&&(n._reset(!0),n._init(this,t));else new i(this,t)}),this)},e.fn.isValid=function(e,i){var n,o,r=s(this[0]),a=q(e);return!r||(a||i!==t||(i=e),r.checkOnly=!!i,o=r.options,n=r._multiValidate(this.is(N)?this:this.find(N),function(t){t||!o.focusInvalid||r.checkOnly||r.$el.find("["+S+"]:first").focus(),a&&(e.length?e(t):t&&e()),r.checkOnly=!1}),a?this:n)},e.extend(e.expr.pseudos||e.expr[":"],{verifiable:function(e){var t=e.nodeName.toLowerCase();return("input"===t&&!{submit:1,button:1,reset:1,image:1}[e.type]||"select"===t||"textarea"===t||"true"===e.contentEditable)&&!e.disabled},filled:function(t){return!!U(e(t).val())}}),i.prototype={_init:function(t,i){var a,s,l,c=this;q(i)&&(i={valid:i}),i=c._opt=i||{},l=G(t,"data-"+g+"-option"),l=c._dataOpt=l&&"{"===l.charAt(0)?new Function("return "+l)():{},s=c._themeOpt=K[i.theme||l.theme||J.theme],a=c.options=e.extend({},J,Q,s,c.options,i,l),c.rules=new o(a.rules,!0),c.messages=new r(a.messages,!0),c.Field=n(c),c.elements=c.elements||{},c.deferred={},c.errors={},c.fields={},c._initFields(a.fields),c.$el.data(g)||(c.$el.data(g,c).addClass(x+" "+a.formClass).on("form-submit-validate",function(e,t,i,n,o){c.vetoed=o.veto=!c.isValid,c.ajaxFormOptions=n}).on("submit"+y+" validate"+y,B(c,"_submit")).on("reset"+y,B(c,"_reset")).on("showmsg"+y,B(c,"_showmsg")).on("hidemsg"+y,B(c,"_hidemsg")).on("focusin"+y+" click"+y,N,B(c,"_focusin")).on("focusout"+y+" validate"+y,N,B(c,"_focusout")).on("keyup"+y+" input"+y+" compositionstart compositionend",N,B(c,"_focusout")).on("click"+y,":radio,:checkbox","click",B(c,"_focusout")).on("change"+y,'select,input[type="file"]',"change",B(c,"_focusout")),c._NOVALIDATE=G(t,I),G(t,I,I)),Y(a.target)&&c.$el.find(a.target).addClass("msg-container")},_guessAjax:function(t){function i(t,i,n){return!!(t&&t[i]&&e.map(t[i],function(e){return~e.namespace.indexOf(n)?1:null}).length)}var n=this;if(!(n.isAjaxSubmit=!!n.options.valid)){var o=(e._data||e.data)(t,"events");n.isAjaxSubmit=i(o,"valid","form")||i(o,"submit","form-plugin")}},_initFields:function(e){function t(e,t){if(null===t||a){var i=r.elements[e];i&&r._resetElement(i,!0),delete r.fields[e]}else r.fields[e]=new r.Field(e,Y(t)?{rule:t}:t,r.fields[e])}var i,n,o,r=this,a=null===e;if(a&&(e=r.fields),W(e))for(i in e)if(~i.indexOf(","))for(n=i.split(","),o=n.length;o--;)t(U(n[o]),e[i]);else t(i,e[i]);r.$el.find(N).each(function(){r._parse(this)})},_parse:function(e){var t,i,n,o=this,r=e.name,a=G(e,T);return a&&G(e,T,null),e.id&&("#"+e.id in o.fields||!r||null!==a&&(t=o.fields[r])&&a!==t.rule&&e.id!==t.key)&&(r="#"+e.id),r||(r="#"+(e.id="N"+String(Math.random()).slice(-12))),t=o.getField(r,!0),t.rule=a||t.rule,(i=G(e,O))&&(t.display=i),t.rule&&((null!==G(e,D)||/\b(?:match|checked)\b/.test(t.rule))&&(t.must=!0),/\brequired\b/.test(t.rule)&&(t.required=!0),(n=G(e,R))?t.timely=+n:t.timely>3&&G(e,R,t.timely),o._parseRule(t),t.old={}),Y(t.target)&&G(e,A,t.target),Y(t.tip)&&G(e,C,t.tip),o.fields[r]=t},_parseRule:function(i){var n=L.exec(i.rule);n&&(i._i=0,n[1]&&(i.display=n[1]),n[2]&&(i._rules=[],n[2].replace(F,function(){var n=arguments;n[4]=n[4]||n[5],i._rules.push({and:"&"===n[1],not:"!"===n[2],or:"|"===n[6],method:n[3],params:n[4]?e.map(n[4].split(", "),U):t})})))},_multiValidate:function(i,n){var o=this,r=o.options;return o.hasError=!1,r.ignore&&(i=i.not(r.ignore)),i.each(function(){if(o._validate(this),o.hasError&&r.stopOnError)return!1}),n&&(o.validating=!0,e.when.apply(null,e.map(o.deferred,function(e){return e})).done(function(){n.call(o,!o.hasError),o.validating=!1})),e.isEmptyObject(o.deferred)?!o.hasError:t},_submit:function(i){var n=this,o=n.options,r=i.target,a="submit"===i.type&&"FORM"===r.tagName&&!i.isDefaultPrevented();i.preventDefault(),m&&~(m=!1)||n.submiting||"validate"===i.type&&n.$el[0]!==r||q(o.beforeSubmit)&&o.beforeSubmit.call(n,r)===!1||(n.isAjaxSubmit===t&&n._guessAjax(r),n._debug("log","\n<<< event: "+i.type),n._reset(),n.submiting=!0,n._multiValidate(n.$el.find(N),function(t){var i,s=t||2===o.debug?"valid":"invalid";t||(o.focusInvalid&&n.$el.find("["+S+"]:first").focus(),i=e.map(n.errors,function(e){return e})),n.submiting=!1,n.isValid=t,q(o[s])&&o[s].call(n,r,i),n.$el.trigger(s+w,[r,i]),n._debug("log",">>> "+s),t&&(n.vetoed?e(r).ajaxSubmit(n.ajaxFormOptions):a&&!n.isAjaxSubmit&&document.createElement("form").submit.call(r))}))},_reset:function(e){var t=this;t.errors={},e&&(t.reseting=!0,t.$el.find(N).each(function(){t._resetElement(this)}),delete t.reseting)},_resetElement:function(e,t){this._setClass(e,null),this.hideMsg(e)},_focusin:function(e){var t,i,n=this,o=n.options,r=e.target;n.validating||"click"===e.type&&document.activeElement===r||(o.focusCleanup&&"true"===G(r,S)&&(n._setClass(r,null),n.hideMsg(r)),i=G(r,C),i?n.showMsg(r,{type:"tip",msg:i}):(G(r,T)&&n._parse(r),(t=G(r,R))&&(8!==t&&9!==t||n._focusout(e))))},_focusout:function(t){var i,n,o,r,a,s,l,c,u,p=this,f=p.options,h=t.target,m=t.type,g="focusin"===m,y="validate"===m,v=0;if("compositionstart"===m&&(p.pauseValidate=!0),"compositionend"===m&&(p.pauseValidate=!1),!p.pauseValidate&&(n=h.name&&d(h)?p.$el.find('input[name="'+h.name+'"]').get(0):h,(o=p.getField(n))&&o.rule)){if(i=o._e,o._e=m,u=o.timely,!y){if(!u||d(h)&&"click"!==m)return;if(a=o.getValue(),o.ignoreBlank&&!a&&!g)return void p.hideMsg(h);if("focusout"===m){if("change"===i)return;if(2===u||8===u){if(r=o.old,!a||!r)return;o.isValid&&!r.showOk?p.hideMsg(h):p._makeMsg(h,o,r)}}else{if(u<2&&!t.data)return;if(s=+new Date,s-(h._ts||0)<100)return;if(h._ts=s,"keyup"===m){if("input"===i)return;if(l=t.keyCode,c={8:1,9:1,16:1,32:1,46:1},9===l&&!a)return;if(l<48&&!c[l])return}g||(v=u<100?"click"===m||"SELECT"===h.tagName?0:400:u)}}f.ignore&&e(h).is(f.ignore)||(clearTimeout(o._t),v?o._t=setTimeout(function(){p._validate(h,o)},v):(y&&(o.old={}),p._validate(h,o)))}},_setClass:function(t,i){var n=e(t),o=this.options;o.bindClassTo&&(n=n.closest(o.bindClassTo)),n.removeClass(o.invalidClass+" "+o.validClass),null!==i&&n.addClass(i?o.validClass:o.invalidClass)},_showmsg:function(e,t,i){var n=this,o=e.target;n.$el.is(o)?W(t)?n.showMsg(t):"tip"===t&&n.$el.find(N+"["+C+"]",o).each(function(){n.showMsg(this,{type:t,msg:i})}):n.showMsg(o,{type:t,msg:i})},_hidemsg:function(t){var i=e(t.target);i.is(N)&&this.hideMsg(i)},_validatedField:function(t,i,n){var o=this,r=o.options,a=i.isValid=n.isValid=!!n.isValid,s=a?"valid":"invalid";n.key=i.key,n.ruleName=i._r,n.id=t.id,n.value=i.value,o.elements[i.key]=n.element=t,o.isValid=o.$el[0].isValid=a?o.isFormValid():a,a?n.type="ok":(o.submiting&&(o.errors[i.key]=n.msg),o.hasError=!0),i.old=n,q(i[s])&&i[s].call(o,t,n),q(r.validation)&&r.validation.call(o,t,n),e(t).attr(S,!a||null).trigger(s+b,[n,o]),o.$el.triggerHandler("validation",[n,o]),o.checkOnly||(o._setClass(t,n.skip||"tip"===n.type?null:a),o._makeMsg.apply(o,arguments))},_makeMsg:function(t,i,n){i.msgMaker&&(n=e.extend({},n),"focusin"===i._e&&(n.type="tip"),this[n.showOk||n.msg||"tip"===n.type?"showMsg":"hideMsg"](t,n,i))},_validatedRule:function(i,n,o,r){n=n||d.getField(i),r=r||{};var a,s,l,u,d=this,p=n._r,f=n.timely,h=9===f||8===f,m=!1;if(null===o)return d._validatedField(i,n,{isValid:!0,skip:!0}),void(n._i=0);if(o===t?l=!0:o===!0||""===o?m=!0:Y(o)?a=o:W(o)?o.error?a=o.error:(a=o.ok,m=!0):m=!!o,s=n._rules[n._i],s.not&&(a=t,m="required"===p||!m),s.or)if(m)for(;n._i<n._rules.length&&n._rules[n._i].or;)n._i++;else l=!0;else s.and&&(n.isValid||(l=!0));l?m=!0:(m&&n.showOk!==!1&&(u=G(i,k),a=null===u?Y(n.ok)?n.ok:a:u,!Y(a)&&Y(n.showOk)&&(a=n.showOk),Y(a)&&(r.showOk=m)),m&&!h||(a=(c(i,n,a||s.msg||d.messages[p])||d.messages.fallback).replace(/\{0\|?([^\}]*)\}/,function(e,t){return d._getDisplay(i,n.display)||t||d.messages[0]})),m||(n.isValid=m),r.msg=a,e(i).trigger((m?"valid":"invalid")+v,[p,a])),!h||l&&!s.and||(m||n._m||(n._m=a),n._v=n._v||[],n._v.push({type:m?l?"tip":"ok":"error",msg:a||s.msg})),d._debug("log","   "+n._i+": "+p+" => "+(m||a)),(m||h)&&n._i<n._rules.length-1?(n._i++,d._checkRule(i,n)):(n._i=0,h?(r.isValid=n.isValid,r.result=n._v,r.msg=n._m||"",n.value||"focusin"!==n._e||(r.type="tip")):r.isValid=m,d._validatedField(i,n,r),delete n._m,delete n._v)},_checkRule:function(i,n){var o,r,a,s=this,c=n.key,u=n._rules[n._i],d=u.method,p=u.params;s.submiting&&s.deferred[c]||(a=n.old,n._r=d,a&&!n.must&&!u.must&&u.result!==t&&a.ruleName===d&&a.id===i.id&&n.value&&a.value===n.value?o=u.result:(r=l(i,d)||s.rules[d]||z,o=r.call(n,i,p,n),r.msg&&(u.msg=r.msg)),W(o)&&q(o.then)?(s.deferred[c]=o,n.isValid=t,!s.checkOnly&&s.showMsg(i,{type:"loading",msg:s.messages.loading},n),o.then(function(o,r,a){var l,c=U(a.responseText),d=n.dataFilter;/jsonp?/.test(this.dataType)?c=o:"{"===c.charAt(0)&&(c=e.parseJSON(c)),l=d.call(this,c,n),l===t&&(l=d.call(this,c.data,n)),u.data=this.data,u.result=n.old?l:t,s._validatedRule(i,n,l)},function(e,t){s._validatedRule(i,n,s.messages[t]||t)}).always(function(){delete s.deferred[c]})):s._validatedRule(i,n,o))},_validate:function(e,t){var i=this;if(!e.disabled&&null===G(e,I)&&(t=t||i.getField(e),t&&(t._rules||i._parse(e),t._rules)))return i._debug("info",t.key),t.isValid=!0,t.element=e,t.value=t.getValue(),t.required||t.must||t.value||d(e)?(i._checkRule(e,t),t.isValid):(i._validatedField(e,t,{isValid:!0}),!0)},_debug:function(e,t){window.console&&this.options.debug&&console[e](t)},test:function(e,i){var n,o,r,a,s=this,l=M.exec(i);return l&&(r=l[1],r in s.rules&&(a=l[2]||l[3],a=a?a.split(", "):t,o=s.getField(e,!0),o._r=r,o.value=o.getValue(),n=s.rules[r].call(o,e,a))),n===!0||n===t||null===n},_getDisplay:function(e,t){return Y(t)?t:q(t)?t.call(this,e):""},_getMsgOpt:function(t,i){var n=i?i:this.options;return e.extend({type:"error",pos:u(n.msgClass),target:n.target,wrapper:n.msgWrapper,style:n.msgStyle,cls:n.msgClass,arrow:n.msgArrow,icon:n.msgIcon},Y(t)?{msg:t}:t)},_getMsgDOM:function(i,n){var o,r,a,s,l=e(i);if(l.is(N)?(a=n.target||G(i,A),a&&(a=q(a)?a.call(this,i):"#"===a.charAt(0)?e(a):this.$el.find(a),a.length&&(a.is(N)?(l=a,i=a.get(0)):a.hasClass(_)?o=a:s=a)),o||(r=d(i)&&i.name||!i.id?i.name:i.id,o=(s||this.$el).find(n.wrapper+"."+_+'[for="'+r+'"]'))):o=l,!n.hide&&!o.length)if(o=e("<"+n.wrapper+">").attr({class:_+(n.cls?" "+n.cls:""),style:n.style||t,for:r}),s)o.appendTo(s);else if(d(i)){var c=l.parent();o.appendTo(c.is("label")?c.parent():c)}else o[n.pos&&"right"!==n.pos?"insertBefore":"insertAfter"](l);return o},showMsg:function(t,i,n){if(t){var o,r,a,s,l=this,c=l.options;if(W(t)&&!t.jquery&&!i)return void e.each(t,function(e,t){var i=l.elements[e]||l.$el.find(h(e))[0];l.showMsg(i,t)});e(t).is(N)&&(n=n||l.getField(t)),(r=(n||c).msgMaker)&&(i=l._getMsgOpt(i,n),t=(t.name&&d(t)?l.$el.find('input[name="'+t.name+'"]'):e(t)).get(0),i.msg||"error"===i.type||(a=G(t,"data-"+i.type),null!==a&&(i.msg=a)),Y(i.msg)&&(s=l._getMsgDOM(t,i),!$.test(s[0].className)&&s.addClass(i.cls),6===V&&"bottom"===i.pos&&(s[0].style.marginTop=e(t).outerHeight()+"px"),s.html(r.call(l,i))[0].style.display="",q(o=n&&n.msgShow||c.msgShow)&&o.call(l,s,i.type)))}},hideMsg:function(t,i,n){var o,r,a=this,s=a.options;t=e(t).get(0),e(t).is(N)&&(n=n||a.getField(t),n&&(n.isValid||a.reseting)&&G(t,S,null)),i=a._getMsgOpt(i,n),i.hide=!0,r=a._getMsgDOM(t,i),r.length&&(q(o=n&&n.msgHide||s.msgHide)?o.call(a,r,i.type):(r[0].style.display="none",r[0].innerHTML=""))},getField:function(e,i){var n,o,r=this;if(Y(e))n=e,e=t;else{if(G(e,T))return r._parse(e);n=e.id&&"#"+e.id in r.fields||!e.name?"#"+e.id:e.name}return((o=r.fields[n])||i&&(o=new r.Field(n)))&&(o.element=e),o},setField:function(e,t){var i={};e&&(Y(e)?i[e]=t:i=e,this._initFields(i))},isFormValid:function(){var e,t,i=this.fields;for(e in i)if(t=i[e],t._rules&&(t.required||t.must||t.value)&&!t.isValid)return!1;return!0},holdSubmit:function(e){this.submiting=e===t||e},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1),this.$el.off(y).removeData(g),G(this.$el[0],I,this._NOVALIDATE)}},e(window).on("beforeunload",function(){this.focus()}),e(document).on("click",":submit",function(){var e,t=this;t.form&&(e=t.getAttributeNode("formnovalidate"),(e&&null!==e.nodeValue||null!==G(t,I))&&(m=!0))}).on("focusin submit validate","form,."+x,function(t){if(null===G(this,I)){var i,n=e(this);!n.data(g)&&(i=s(this))&&(e.isEmptyObject(i.fields)?(G(this,I,I),n.off(y).removeData(g)):"focusin"===t.type?i._focusin(t):i._submit(t))}}),new r({fallback:"This field is not valid.",loading:"Validating..."}),new o({required:function(t,i){var n=this,o=U(n.value),r=!0;if(i)if(1===i.length){if(f(i[0])){if(n.rules[i[0]]&&!o&&!n.test(t,i[0]))return null}else if(!o&&!e(i[0],n.$el).length)return null}else if("not"===i[0])e.each(i.slice(1),function(){return r=o!==U(this)});else if("from"===i[0]){var a,s=n.$el.find(i[1]),l="_validated_";return r=s.filter(function(){var e=n.getField(this);return e&&!!U(e.getValue())}).length>=(i[2]||1),r?o||(a=null):a=c(s[0],n)||!1,e(t).data(l)||s.data(l,1).each(function(){t!==this&&n._validate(this)}).removeData(l),a}return r&&!!o},integer:function(e,t){var i,n="0|",o="[1-9]\\d*",r=t?t[0]:"*";switch(r){case"+":i=o;break;case"-":i="-"+o;break;case"+0":i=n+o;break;case"-0":i=n+"-"+o;break;default:i=n+"-?"+o}return i="^(?:"+i+")$",new RegExp(i).test(this.value)||this.messages.integer&&this.messages.integer[r]},match:function(t,i){if(i){var n,o,r,a,s,l,c,u=this,d=!0,f="eq";if(1===i.length?r=i[0]:(f=i[0],r=i[1]),s=h(r),l=u.$el.find(s)[0]){if(c=u.getField(l),n=u.value,o=c.getValue(),u._match||(u.$el.on("valid"+b+y,s,function(){e(t).trigger("validate")}),u._match=c._match=1),!u.required&&""===n&&""===o)return null;if(a=i[2],a&&(/^date(time)?$/i.test(a)?(n=p(n),o=p(o)):"time"===a&&(n=+n.replace(/:/g,""),o=+o.replace(/:/g,""))),"eq"!==f&&!isNaN(+n)&&isNaN(+o))return!0;switch(f){case"lt":d=+n<+o;break;case"lte":d=+n<=+o;break;case"gte":d=+n>=+o;break;case"gt":d=+n>+o;break;case"neq":d=n!==o;break;default:d=n===o}return d||W(u.messages.match)&&u.messages.match[f].replace("{1}",u._getDisplay(l,c.display||r))}}},range:function(e,t){return this.getRangeMsg(this.value,t)},checked:function(e,t){if(d(e)){var i,n,o=this;return e.name?n=o.$el.find('input[name="'+e.name+'"]').filter(function(){var e=this;return!i&&d(e)&&(i=e),!e.disabled&&e.checked}).length:(i=e,n=i.checked),t?o.getRangeMsg(n,t):!!n||c(i,o,"")||o.messages.required||!1}},length:function(e,t){var i=this.value,n=("true"===t[1]?i.replace(P,"xx"):i).length;return this.getRangeMsg(n,t,t[1]?"_2":"")},remote:function(t,i){if(i){var n,o=this,r=j.exec(i[0]),a=o._rules[o._i],s={},l="",c=r[3],u=r[2]||"POST",d=(r[1]||"").toLowerCase();return a.must=!0,s[t.name]=o.value,i[1]&&e.map(i.slice(1),function(e){var t,i;~e.indexOf("=")?l+="&"+e:(t=e.split(":"),e=U(t[0]),i=U(t[1])||e,s[e]=o.$el.find(h(i)).val())}),s=e.param(s)+l,!o.must&&a.data&&a.data===s?a.result:("cors"!==d&&/^https?:/.test(c)&&!~c.indexOf(location.host)&&(n="jsonp"),e.ajax({url:c,type:u,data:s,dataType:n}))}},filter:function(e,t){var i=this.value,n=i.replace(t?new RegExp("["+t[0]+"]","gm"):H,"");n!==i&&this.setValue(n)}}),i.config=function(t,i){function n(e,t){"rules"===e?new o(t):"messages"===e?new r(t):e in Q?Q[e]=t:J[e]=t}W(t)?e.each(t,n):Y(t)&&n(t,i)},i.setTheme=function(t,i){W(t)?e.extend(!0,K,t):Y(t)&&W(i)&&(K[t]=e.extend(K[t],i))},i.load=function(t){
if(t){var n,o,r,a=document,s={},l=a.scripts[0];t.replace(/([^?=&]+)=([^&#]*)/g,function(e,t,i){s[t]=i}),n=s.dir||i.dir,i.css||""===s.css||(o=a.createElement("link"),o.rel="stylesheet",o.href=i.css=n+"jquery.validator.css",l.parentNode.insertBefore(o,l)),!i.local&&~t.indexOf("local")&&""!==s.local&&(i.local=(s.local||a.documentElement.lang||"en").replace("_","-"),i.pending=1,o=a.createElement("script"),o.src=n+"local/"+i.local+".js",r="onload"in o?"onload":"onreadystatechange",o[r]=function(){o.readyState&&!/loaded|complete/.test(o.readyState)||(o=o[r]=null,delete i.pending,e(window).triggerHandler("validatorready"))},l.parentNode.insertBefore(o,l))}},function(){for(var e,t,n=document.scripts,o=n.length,r=/(.*validator(?:\.min)?.js)(\?.*(?:local|css|dir)(?:=[\w\-]*)?)?/;o--&&!t;)e=n[o],t=(e.hasAttribute?e.src:e.getAttribute("src",4)||"").match(r);t&&(i.dir=t[1].split("/").slice(0,-1).join("/")+"/",i.load(t[2]))}(),e[g]=i}),function(e){"object"==typeof module&&module.exports?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define("validator-lang",["jquery"],e):e(jQuery)}(function(e){e.validator.config({rules:{digits:[/^\d+$/,""],letters:[/^[a-z]+$/i,""],date:[/^\d{4}-\d{2}-\d{2}$/,":yyyy-mm-dd"],time:[/^([01]\d|2[0-3])(:[0-5]\d){1,2}$/,"00:0023:59"],email:[/^[\w\+\-]+(\.[\w\+\-]+)*@[a-z\d\-]+(\.[a-z\d\-]+)*\.([a-z]{2,4})$/i,""],url:[/^(https?|s?ftp):\/\/\S+$/i,""],qq:[/^[1-9]\d{4,}$/,"QQ"],IDcard:[/^\d{6}(19|2\d)?\d{2}(0[1-9]|1[012])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)?$/,""],tel:[/^(?:(?:0\d{2,3}[\- ]?[1-9]\d{6,7})|(?:[48]00[\- ]?[1-9]\d{6}))$/,""],mobile:[/^1[3-9]\d{9}$/,""],zipcode:[/^\d{6}$/,""],chinese:[/^[\u0391-\uFFE5]+$/,""],username:[/^\w{3,12}$/,"3-12"],password:[/^[\S]{6,16}$/,"6-16"],accept:function(t,i){if(!i)return!0;var n=i[0],o=e(t).val();return"*"===n||new RegExp(".(?:"+n+")$","i").test(o)||this.renderMsg("{1}",n.replace(/\|/g,","))}},messages:{0:"",fallback:"{0}",loading:"...",error:"",timeout:"",required:"{0}",remote:"{0}",integer:{"*":"","+":"","+0":"0","-":"","-0":"0"},match:{eq:"{0}{1}",neq:"{0}{1}",lt:"{0}{1}",gt:"{0}{1}",lte:"{0}{1}",gte:"{0}{1}"},range:{rg:"{1}{2}",gte:"{1}",lte:"{1}",gtlt:"{1}{2}",gt:"{1}",lt:"{1}"},checked:{eq:"{1}",rg:"{1}{2}",gte:"{1}",lte:"{1}"},length:{eq:"{1}",rg:"{1}{2}",gte:"{1}",lte:"{1}",eq_2:"",rg_2:"",gte_2:"",lte_2:""}}});var t='<span class="n-arrow"><b></b><i></i></span>';e.validator.setTheme({simple_right:{formClass:"n-simple",msgClass:"n-right"},simple_bottom:{formClass:"n-simple",msgClass:"n-bottom"},yellow_top:{formClass:"n-yellow",msgClass:"n-top",msgArrow:t},yellow_right:{formClass:"n-yellow",msgClass:"n-right",msgArrow:t},yellow_right_effect:{formClass:"n-yellow",msgClass:"n-right",msgArrow:t,msgShow:function(e,t){var i=e.children();i.is(":animated")||("error"===t?i.css({left:"20px",opacity:0}).delay(100).show().stop().animate({left:"-4px",opacity:1},150).animate({left:"3px"},80).animate({left:0},80):i.css({left:0,opacity:1}).fadeIn(200))},msgHide:function(e,t){var i=e.children();i.stop().delay(100).show().animate({left:"20px",opacity:0},300,function(){e.hide()})}}})}),define("validator",["validator-core","validator-lang"],function(e,t){return e}),define("form",["jquery","bootstrap","upload","validator"],function(e,t,i,n){var o={config:{fieldlisttpl:'<dd class="form-inline"><input type="text" name="<%=name%>[<%=index%>][key]" class="form-control" value="<%=row.key%>" size="10" /> <input type="text" name="<%=name%>[<%=index%>][value]" class="form-control" value="<%=row.value%>" /> <span class="btn btn-sm btn-danger btn-remove"><i class="fa fa-times"></i></span> <span class="btn btn-sm btn-primary btn-dragsort"><i class="fa fa-arrows"></i></span></dd>'},events:{validator:function(t,i,n,r){t.is("form")&&(t.validator(e.extend({validClass:"has-success",invalidClass:"has-error",bindClassTo:".form-group",formClass:"n-default n-bootstrap",msgClass:"n-right",stopOnError:!0,display:function(t){return e(t).closest(".form-group").find(".control-label").text().replace(/\:/,"")},dataFilter:function(e){return 1===e.code?e.msg?{ok:e.msg}:"":e.msg},target:function(t){var i=e(t).data("target");if(i&&e(i).size()>0)return e(i);var n=e(t).closest(".form-group"),o=n.find("span.msg-box");return o.length?o:[]},valid:function(a){var s=this,l=e(".layer-footer [type=submit]",t);s.holdSubmit(!0),l.addClass("disabled");var c=o.api.submit(e(a),function(t,n){if(s.holdSubmit(!1),l.removeClass("disabled"),!1===e(this).triggerHandler("success.form",[t,n]))return!1;if("function"==typeof i&&!1===i.call(e(this),t,n))return!1;var o=n.hasOwnProperty("msg")&&""!==n.msg?n.msg:__("Operation completed");parent.Toastr.success(o),parent.$(".btn-refresh").trigger("click");var r=parent.Layer.getFrameIndex(window.name);return parent.Layer.close(r),!1},function(t,i){return s.holdSubmit(!1),!1!==e(this).triggerHandler("error.form",[t,i])&&(l.removeClass("disabled"),("function"!=typeof n||!1!==n.call(e(this),t,i))&&void 0)},r);return c||(s.holdSubmit(!1),l.removeClass("disabled")),!1}},t.data("validator-options")||{})),e(".layer-footer [type=submit],.fixed-footer [type=submit],.normal-footer [type=submit]",t).removeClass("disabled"))},selectpicker:function(t){e(".selectpicker",t).size()>0&&require(["bootstrap-select","bootstrap-select-lang"],function(){e(".selectpicker",t).selectpicker(),e(t).on("reset",function(){setTimeout(function(){e(".selectpicker").selectpicker("refresh").trigger("change")},1)})})},selectpage:function(t){e(".selectpage",t).size()>0&&(require(["selectpage"],function(){e(".selectpage",t).selectPage({eAjaxSuccess:function(e){return e.list="undefined"!=typeof e.rows?e.rows:"undefined"!=typeof e.list?e.list:[],e.totalRow="undefined"!=typeof e.total?e.total:"undefined"!=typeof e.totalRow?e.totalRow:e.list.length,e}})}),e(document).on("change",".sp_hidden",function(){e(this).trigger("validate")}),e(document).on("change",".sp_input",function(){e(this).closest(".sp_container").find(".sp_hidden").trigger("change")}),e(t).on("reset",function(){setTimeout(function(){e(".selectpage",t).selectPageClear()},1)}))},cxselect:function(t){e("[data-toggle='cxselect']",t).size()>0&&require(["cxselect"],function(){e.cxSelect.defaults.jsonName="name",e.cxSelect.defaults.jsonValue="value",e.cxSelect.defaults.jsonSpace="data",e("[data-toggle='cxselect']",t).cxSelect()})},citypicker:function(t){e("[data-toggle='city-picker']",t).size()>0&&require(["citypicker"],function(){e(t).on("reset",function(){setTimeout(function(){e("[data-toggle='city-picker']").citypicker("refresh")},1)})})},datetimepicker:function(t){e(".datetimepicker",t).size()>0&&require(["bootstrap-datetimepicker"],function(){var i={format:"YYYY-MM-DD HH:mm:ss",icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-history",clear:"fa fa-trash",close:"fa fa-remove"},showTodayButton:!0,showClose:!0};e(".datetimepicker",t).parent().css("position","relative"),e(".datetimepicker",t).datetimepicker(i).on("dp.change",function(t){e(this,document).trigger("changed")})})},daterangepicker:function(t){e(".datetimerange",t).size()>0&&require(["bootstrap-daterangepicker"],function(){var i={};i[__("Today")]=[Moment().startOf("day"),Moment().endOf("day")],i[__("Yesterday")]=[Moment().subtract(1,"days").startOf("day"),Moment().subtract(1,"days").endOf("day")],i[__("Last 7 Days")]=[Moment().subtract(6,"days").startOf("day"),Moment().endOf("day")],i[__("Last 30 Days")]=[Moment().subtract(29,"days").startOf("day"),Moment().endOf("day")],i[__("This Month")]=[Moment().startOf("month"),Moment().endOf("month")],i[__("Last Month")]=[Moment().subtract(1,"month").startOf("month"),Moment().subtract(1,"month").endOf("month")];var n={timePicker:!1,autoUpdateInput:!1,timePickerSeconds:!0,timePicker24Hour:!0,autoApply:!0,locale:{format:"YYYY-MM-DD HH:mm:ss",customRangeLabel:__("Custom Range"),applyLabel:__("Apply"),cancelLabel:__("Clear")},ranges:i},o=function(t,i){e(this.element).val(t.format(this.locale.format)+" - "+i.format(this.locale.format)),e(this.element).trigger("blur")};e(".datetimerange",t).each(function(){var t="function"==typeof e(this).data("callback")?e(this).data("callback"):o;e(this).on("apply.daterangepicker",function(e,i){t.call(i,i.startDate,i.endDate)}),e(this).on("cancel.daterangepicker",function(t,i){e(this).val("").trigger("blur")}),e(this).daterangepicker(e.extend(!0,n,e(this).data()),t)})})},plupload:function(t){e(".plupload",t).size()>0&&i.api.plupload(e(".plupload",t))},faselect:function(t){e(".fachoose",t).size()>0&&e(".fachoose",t).on("click",function(){var t=this,i=!!e(this).data("multiple")&&e(this).data("multiple"),n=e(this).data("mimetype")?e(this).data("mimetype"):"",o=e(this).data("admin-id")?e(this).data("admin-id"):"",r=e(this).data("user-id")?e(this).data("user-id"):"";return parent.Fast.api.open("general/attachment/select?element_id="+e(this).attr("id")+"&multiple="+i+"&mimetype="+n+"&admin_id="+o+"&user_id="+r,__("Choose"),{callback:function(i){var n=e("#"+e(t).attr("id")),o=e(n).data("maxcount"),r=e(n).data("input-id")?e(n).data("input-id"):"";if(o="undefined"!=typeof o?o:0,r&&i.multiple){var a=[],s=e("#"+r),l=e.trim(s.val());""!==l&&a.push(s.val()),a.push(i.url);var c=a.join(",");if(o>0){var u=""===l?0:l.split(/\,/).length,d=""!==i.url?i.url.split(/\,/):[],p=o-u;if(d.length>p)return Toastr.error(__("You can choose up to %d file%s",p)),!1}s.val(c).trigger("change").trigger("validate")}else e("#"+r).val(i.url).trigger("change").trigger("validate")}}),!1})},fieldlist:function(t){e(".fieldlist",t).size()>0&&require(["dragsort","template"],function(i,n){var r=function(i){var n={},o=e("textarea[name='"+i+"']",t),r=e(".fieldlist[data-name='"+i+"']"),a=r.data("template");e.each(e("input,select,textarea",r).serializeArray(),function(e,t){var i=/\[(\w+)\]\[(\w+)\]$/g,o=i.exec(t.name);return!o||(o[1]="x"+parseInt(o[1]),"undefined"==typeof n[o[1]]&&(n[o[1]]={}),void(n[o[1]][o[2]]=t.value))});var s=a?[]:{};e.each(n,function(e,t){t&&(a?s.push(t):""!=t.key&&(s[t.key]=t.value))}),o.val(JSON.stringify(s))};e(document).on("change keyup changed",".fieldlist input,.fieldlist textarea,.fieldlist select",function(){r(e(this).closest(".fieldlist").data("name"))}),e(".fieldlist",t).on("click",".btn-append,.append",function(t,i){var r=e(this).closest(".fieldlist"),a=r.data("tag")||"dd",s=r.data("index"),l=r.data("name"),c=r.data("template"),u=r.data();s=s?parseInt(s):0,r.data("index",s+1),i=i?i:{};var d={index:s,name:l,data:u,row:i},p=c?n(c,d):n.render(o.config.fieldlisttpl,d);e(p).insertBefore(e(a+":last",r)),e(this).trigger("fa.event.appendfieldlist",e(this).closest(a).prev())}),e(".fieldlist",t).on("click",".btn-remove",function(){var t=e(this).closest(".fieldlist"),i=t.data("tag")||"dd";e(this).closest(i).remove(),r(t.data("name"))}),e(".fieldlist",t).each(function(){var i=this,n=e(this).data("tag")||"dd";e(this).dragsort({itemSelector:n,dragSelector:".btn-dragsort",dragEnd:function(){r(e(this).closest(".fieldlist").data("name"))},placeHolderTemplate:e("<"+n+"/>")});var o=e("textarea[name='"+e(this).data("name")+"']",t);if(""==o.val())return!0;var a=e(this).data("template"),s={};try{s=JSON.parse(o.val())}catch(e){}e.each(s,function(t,n){e(".btn-append,.append",i).trigger("click",a?n:{key:t,value:n})})})})},switcher:function(t){t.on("click","[data-toggle='switcher']",function(){if(e(this).hasClass("disabled"))return!1;var t=e(this).prev("input");if(t=e(this).data("input-id")?e("#"+e(this).data("input-id")):t,t.size()>0){var i=e(this).data("yes"),n=e(this).data("no");t.val()==i?(t.val(n),e("i",this).addClass("fa-flip-horizontal text-gray")):(t.val(i),e("i",this).removeClass("fa-flip-horizontal text-gray")),t.trigger("change")}return!1})},bindevent:function(e){},slider:function(t){e(".slider",t).size()>0&&require(["bootstrap-slider"],function(){e(".slider").removeClass("hidden").css("width",function(t,i){return e(this).parents(".form-control").width()}).slider().on("slide",function(t){var i=e(this).data();"undefined"!=typeof i.unit&&e(this).parents(".form-control").siblings(".value").text(t.value+i.unit)})})}},api:{submit:function(t,i,n,o){if(0===t.size())return Toastr.error(","),!1;if("function"==typeof o&&!1===o.call(t,i,n))return!1;var r=t.attr("method")?t.attr("method").toUpperCase():"GET";r=!r||"GET"!==r&&"POST"!==r?"GET":r,url=t.attr("action"),url=url?url:location.href;var a={},s=e("[name$='[]']",t);if(s.size()>0){var l=t.serializeArray().map(function(t){return e(t).prop("name")});e.each(s,function(t,i){l.indexOf(e(this).prop("name"))<0&&(a[e(this).prop("name")]="")})}return Fast.api.ajax({type:r,url:url,data:t.serialize()+(Object.keys(a).length>0?"&"+e.param(a):""),dataType:"json",complete:function(t){var i=t.getResponseHeader("__token__");i&&e("input[name='__token__']").val(i)}},function(n,o){if(e(".form-group",t).removeClass("has-feedback has-success has-error"),n&&"object"==typeof n&&("undefined"!=typeof n.token&&e("input[name='__token__']").val(n.token),"undefined"!=typeof n.callback&&"function"==typeof n.callback&&n.callback.call(t,n)),"function"==typeof i&&!1===i.call(t,n,o))return!1},function(i,o){if(i&&"object"==typeof i&&"undefined"!=typeof i.token&&e("input[name='__token__']").val(i.token),"function"==typeof n&&!1===n.call(t,i,o))return!1}),!0},bindevent:function(t,i,n,r){t="object"==typeof t?t:e(t);var a=o.events;a.bindevent(t),a.validator(t,i,n,r),a.selectpicker(t),a.daterangepicker(t),a.selectpage(t),a.cxselect(t),a.citypicker(t),a.datetimepicker(t),a.plupload(t),a.faselect(t),a.fieldlist(t),a.slider(t),a.switcher(t)},custom:{}}};return o}),!function(e){"use strict";var t=[],i=e.fn.bootstrapTable.utils.sprintf,n=function(t,n){var r=o(t,n),a=i('<div class="commonsearch-table %s">',n.options.searchFormVisible?"":"hidden");a+=r,a+="</div>",n.$container.prepend(e(a)),n.$commonsearch=e(".commonsearch-table",n.$container);var s=e("form.form-commonsearch",n.$commonsearch);require(["form"],function(e){e.api.bindevent(s),s.validator("destroy")}),s.on("submit",function(e){return e.preventDefault(),n.onCommonSearch(),!1}),s.on("click","button[type=reset]",function(e){s[0].reset(),setTimeout(function(){n.onCommonSearch()},0)})},o=function(n,o){if(o.options.searchFormTemplate)return Template(o.options.searchFormTemplate,{columns:n,table:o});var s=[];s.push(i('<form class="form-horizontal form-commonsearch" novalidate method="post" action="%s" >',o.options.actionForm)),s.push("<fieldset>"),o.options.titleForm.length>0&&s.push(i("<legend>%s</legend>",o.options.titleForm)),s.push('<div class="row">');for(var l in n){var c=n[l];if(!c.checkbox&&"operate"!==c.field&&c.searchable&&c.operate!==!1){var u=Fast.api.query(c.field),d=Fast.api.query(c.field+"-operate");c.defaultValue=o.options.renderDefault&&u?u:"undefined"==typeof c.defaultValue?"":c.defaultValue,c.operate=o.options.renderDefault&&d?d:"undefined"==typeof c.operate?"=":c.operate,t.push(c),s.push('<div class="form-group col-xs-12 col-sm-6 col-md-4 col-lg-3">'),s.push(i('<label for="%s" class="control-label col-xs-4">%s</label>',c.field,c.title)),s.push('<div class="col-xs-8">'),c.operate=c.operate?c.operate.toUpperCase():"=",s.push(i('<input type="hidden" class="form-control operate" name="%s-operate" data-name="%s" value="%s" readonly>',c.field,c.field,c.operate));var p="undefined"==typeof c.addClass?"undefined"==typeof c.addclass?"form-control":"form-control "+c.addclass:"form-control "+c.addClass,f="undefined"==typeof c.extend?"":c.extend,h="undefined"==typeof c.style?"":i('style="%s"',c.style);if(f="undefined"!=typeof c.data&&""==f?c.data:f,c.searchList)if("function"==typeof c.searchList)s.push(c.searchList.call(this,c));else{var m=[i('<option value="">%s</option>',o.options.formatCommonChoose())];"object"==typeof c.searchList&&"function"==typeof c.searchList.then?!function(t,i){e.when(t.searchList).done(function(n){var o=[];n.data&&n.data.searchlist&&e.isArray(n.data.searchlist)?o=n.data.searchlist:n.constructor!==Array&&n.constructor!==Object||(o=n);var r=a(o,t,i);e("form.form-commonsearch select[name='"+t.field+"']",i.$container).html(r.join(""))})}(c,o):m=a(c.searchList,c,o),s.push(i('<select class="%s" name="%s" %s %s>%s</select>',p,c.field,h,f,m.join("")))}else{var g="undefined"==typeof c.placeholder?c.title:c.placeholder,y="undefined"==typeof c.type?"text":c.type,v="undefined"==typeof c.defaultValue?"":c.defaultValue;if(/BETWEEN$/.test(c.operate)){var b=v.toString().match(/\|/)?v.split("|"):["",""],w=g.toString().match(/\|/)?g.split("|"):[g,g];s.push('<div class="row row-between">'),s.push(i('<div class="col-xs-6"><input type="%s" class="%s" name="%s" value="%s" placeholder="%s" id="%s" data-index="%s" %s %s></div>',y,p,c.field,b[0],w[0],c.field,l,h,f)),s.push(i('<div class="col-xs-6"><input type="%s" class="%s" name="%s" value="%s" placeholder="%s" id="%s" data-index="%s" %s %s></div>',y,p,c.field,b[1],w[1],c.field,l,h,f)),s.push("</div>")}else s.push(i('<input type="%s" class="%s" name="%s" value="%s" placeholder="%s" id="%s" data-index="%s" %s %s>',y,p,c.field,v,g,c.field,l,h,f))}s.push("</div>"),s.push("</div>")}}return s.push('<div class="form-group col-xs-12 col-sm-6 col-md-4 col-lg-3">'),s.push(r(o).join("")),s.push("</div>"),s.push("</div>"),s.push("</fieldset>"),s.push("</form>"),s.join("")},r=function(e){var t=[],n=e.options.formatCommonSubmitButton(),o=e.options.formatCommonResetButton();return t.push('<div class="col-sm-8 col-xs-offset-4">'),t.push(i('<button type="submit" class="btn btn-success" formnovalidate>%s</button> ',n)),t.push(i('<button type="reset" class="btn btn-default" >%s</button> ',o)),t.push("</div>"),t},a=function(t,n,o){var r=t.constructor===Array,a=[];return a.push(i('<option value="">%s</option>',o.options.formatCommonChoose())),e.each(t,function(e,t){t.constructor===Object?(e=t.id,t=t.name):e=r?t:e,a.push(i("<option value='"+e+"' %s>"+t+"</option>",e==n.defaultValue?"selected":""))}),a},s=function(e){return!(!e.options.commonSearch||"server"!=e.options.sidePagination||!e.options.url)},l=function(i,n){var o={},r={},a="";return e("form.form-commonsearch .operate",i.$commonsearch).each(function(s){var l=e(this).data("name"),c=e(this).is("select")?e("option:selected",this).val():e(this).val().toUpperCase(),u=e("[name='"+l+"']",i.$commonsearch);if(0==u.size())return!0;var d=t[s],p=!i.options.searchFormTemplate&&d&&"function"==typeof d.process?d.process:null;if(u.size()>1)if(/BETWEEN$/.test(c)){var f=e.trim(e("[name='"+l+"']:first",i.$commonsearch).val()),h=e.trim(e("[name='"+l+"']:last",i.$commonsearch).val());f.length||h.length?(p&&(f=p(f,"begin"),h=p(h,"end")),a=f+","+h):a="",e("[name='"+l+"']:first",i.$commonsearch).hasClass("datetimepicker")&&(c="RANGE")}else a=e("[name='"+l+"']:checked",i.$commonsearch).val(),a=p?p(a):a;else a=p?p(u.val()):u.val();return!(!n||!(""==a||null==a||e.isArray(a)&&0==a.length)||c.match(/null/i))||(o[l]=c,void(r[l]=a))}),{op:o,filter:r}},c=function(t,i,n){return t.filter="Object"==typeof t.filter?t.filter:t.filter?JSON.parse(t.filter):{},t.op="Object"==typeof t.op?t.op:t.op?JSON.parse(t.op):{},t.filter=e.extend({},t.filter,i.filter),t.op=e.extend({},t.op,i.op),n&&e.each(t.filter,function(i,n){(""==n||null==n||e.isArray(n)&&0==n.length)&&!t.op[i].match(/null/i)&&(delete t.filter[i],delete t.op[i])}),t.filter=JSON.stringify(t.filter),t.op=JSON.stringify(t.op),t};e.extend(e.fn.bootstrapTable.defaults,{commonSearch:!1,titleForm:"Common search",actionForm:"",searchFormTemplate:"",searchFormVisible:!0,searchClass:"searchit",showSearch:!0,renderDefault:!0,onCommonSearch:function(e,t){return!1},onPostCommonSearch:function(e){return!1}}),e.extend(e.fn.bootstrapTable.defaults.icons,{commonSearchIcon:"glyphicon-search"}),e.extend(e.fn.bootstrapTable.Constructor.EVENTS,{"common-search.bs.table":"onCommonSearch","post-common-search.bs.table":"onPostCommonSearch"}),e.extend(e.fn.bootstrapTable.locales[e.fn.bootstrapTable.defaults.locale],{formatCommonSearch:function(){return"Common search"},formatCommonSubmitButton:function(){return"Submit"},formatCommonResetButton:function(){return"Reset"},formatCommonCloseButton:function(){return"Close"},formatCommonChoose:function(){return"Choose"}}),e.extend(e.fn.bootstrapTable.defaults,e.fn.bootstrapTable.locales);var u=e.fn.bootstrapTable.Constructor,d=u.prototype.initHeader,p=u.prototype.initToolbar,f=u.prototype.load,h=u.prototype.initSearch;u.prototype.initHeader=function(){d.apply(this,Array.prototype.slice.apply(arguments)),this.$header.find("th[data-field]").each(function(t){var i=e(this).data();"undefined"!=typeof i.width&&e(this).css("min-width",i.width)})},u.prototype.initToolbar=function(){if(p.apply(this,Array.prototype.slice.apply(arguments)),s(this)){var t=this,o=[];t.options.showSearch&&(o.push(i('<div class="columns-%s pull-%s" style="margin-top:10px;margin-bottom:10px;">',this.options.buttonsAlign,this.options.buttonsAlign)),o.push(i('<button class="btn btn-default%s" type="button" name="commonSearch" title="%s">',void 0===t.options.iconSize?"":" btn-"+t.options.iconSize,t.options.formatCommonSearch())),o.push(i('<i class="%s %s"></i>',t.options.iconsPrefix,t.options.icons.commonSearchIcon)),o.push("</button></div>")),t.$toolbar.find(".pull-right").size()>0?e(o.join("")).insertBefore(t.$toolbar.find(".pull-right:first")):t.$toolbar.append(o.join("")),n(t.columns,t),t.$toolbar.find('button[name="commonSearch"]').off("click").on("click",function(){t.$commonsearch.toggleClass("hidden")}),t.$container.on("click","."+t.options.searchClass,function(){var i=e("form [name='"+e(this).data("field")+"']",t.$commonsearch);if(i.size()>0){var n=e(this).data("value");i.is("select")?e("option[value='"+n+"']",i).prop("selected",!0):i.size()>1?e("form [name='"+e(this).data("field")+"'][value='"+n+"']",t.$commonsearch).prop("checked",!0):i.val(n),i.trigger("change"),e("form",t.$commonsearch).trigger("submit")}});var r=t.options.queryParams;this.options.queryParams=function(e){return r(c(e,l(t,!0)))},this.trigger("post-common-search",t)}},u.prototype.onCommonSearch=function(){var e=l(this);this.trigger("common-search",this,e),this.options.pageNumber=1,this.refresh({})},u.prototype.load=function(e){f.apply(this,Array.prototype.slice.apply(arguments)),!s(this)},u.prototype.initSearch=function(){if(h.apply(this,Array.prototype.slice.apply(arguments)),s(this)){var t=this,i=e.isEmptyObject(this.filterColumnsPartial)?null:this.filterColumnsPartial;this.data=i?e.grep(this.data,function(n,o){for(var r in i){var a=i[r].toLowerCase(),s=n[r];if(s=e.fn.bootstrapTable.utils.calculateObjectValue(t.header,t.header.formatters[e.inArray(r,t.header.fields)],[s,n,o],s),e.inArray(r,t.header.fields)===-1||"string"!=typeof s&&"number"!=typeof s||(s+"").toLowerCase().indexOf(a)===-1)return!1}return!0}):this.data}}}(jQuery),define("bootstrap-table-commonsearch",["bootstrap-table"],function(e){return function(){var t;return t||e.$.fn.bootstrapTable.defaults}}(this)),!function(e){"use strict";e.extend(e.fn.bootstrapTable.defaults,{templateView:!1,templateFormatter:"itemtpl",templateParentClass:"row row-flex",templateTableClass:"table-template"});var t=e.fn.bootstrapTable.Constructor,i=t.prototype.initContainer,n=t.prototype.initBody,o=t.prototype.initRow;t.prototype.initContainer=function(){i.apply(this,Array.prototype.slice.apply(arguments));var e=this;e.options.templateView&&(e.options.cardView=!0)},t.prototype.initBody=function(){var t=this;e.extend(t.options,{showHeader:!t.options.templateView&&e.fn.bootstrapTable.defaults.showHeader,showFooter:!t.options.templateView&&e.fn.bootstrapTable.defaults.showFooter}),e(t.$el).toggleClass(t.options.templateTableClass,t.options.templateView),n.apply(this,Array.prototype.slice.apply(arguments)),t.options.templateView&&e("> *:not(.no-records-found)",t.$body).wrapAll(e("<div />").addClass(t.options.templateParentClass))},t.prototype.initRow=function(e,t,i,n){var r=this;if(!r.options.templateView)return o.apply(r,Array.prototype.slice.apply(arguments));var a="";if("function"==typeof r.options.templateFormatter)a=r.options.templateFormatter.call(r,e,t,i);else{var s=require("template");a=s(r.options.templateFormatter,{item:e,i:t,data:i})}return a}}(jQuery),define("bootstrap-table-template",["bootstrap-table","template"],function(e){return function(){var t;return t||e.$.fn.bootstrapTable.defaults}}(this)),function(e){"use strict";var t=e.fn.bootstrapTable.utils.sprintf;e.extend(e.fn.bootstrapTable.defaults,{showJumpto:!1,exportOptions:{}}),e.extend(e.fn.bootstrapTable.locales,{formatJumpto:function(){return"GO"}}),e.extend(e.fn.bootstrapTable.defaults,e.fn.bootstrapTable.locales);var i=e.fn.bootstrapTable.Constructor,n=i.prototype.initPagination;i.prototype.initPagination=function(){if(this.showToolbar=this.options.showExport,n.apply(this,Array.prototype.slice.apply(arguments)),this.options.showJumpto){var i=this,o=this.$pagination.find("ul.pagination"),r=o.find("li.jumpto");r.length||(r=e(['<li class="jumpto">','<input type="text" class="form-control">','<button class="btn'+t(" btn-%s",this.options.buttonsClass)+t(" btn-%s",this.options.iconSize)+'" title="'+this.options.formatJumpto()+'"  type="button">'+this.options.formatJumpto(),"</button>","</li>"].join("")).appendTo(o),r.find("button").click(function(){i.selectPage(parseInt(r.find("input").val()))}))}}}(jQuery),define("bootstrap-table-jumpto",["bootstrap-table"],function(e){return function(){var t;return t||e.$.fn.bootstrapTable.defaults}}(this)),define("table",["jquery","bootstrap","moment","moment/locale/zh-cn","bootstrap-table","bootstrap-table-lang","bootstrap-table-export","bootstrap-table-commonsearch","bootstrap-table-template","bootstrap-table-jumpto"],function(e,t,i){var n={list:{},defaults:{url:"",sidePagination:"server",method:"get",toolbar:".toolbar",search:!0,cache:!1,commonSearch:!0,searchFormVisible:!1,titleForm:"",idTable:"commonTable",showExport:!0,exportDataType:"all",exportTypes:["json","xml","csv","txt","doc","excel"],exportOptions:{fileName:"export_"+i().format("YYYY-MM-DD"),ignoreColumn:[0,"operate"]},pageSize:10,pageList:[10,25,50,"All"],pagination:!0,clickToSelect:!0,dblClickToEdit:!0,singleSelect:!1,showRefresh:!1,showJumpto:!0,locale:"zh-CN",showToggle:!0,showColumns:!0,pk:"id",sortName:"id",sortOrder:"desc",paginationFirstText:__("First"),paginationPreText:__("Previous"),paginationNextText:__("Next"),paginationLastText:__("Last"),cardView:!1,checkOnInit:!0,escape:!0,extend:{index_url:"",add_url:"",edit_url:"",del_url:"",import_url:"",multi_url:"",dragsort_url:"ajax/weigh"}},columnDefaults:{align:"center",valign:"middle"},config:{firsttd:"tbody tr td:first-child:not(:has(div.card-views))",toolbar:".toolbar",refreshbtn:".btn-refresh",addbtn:".btn-add",editbtn:".btn-edit",delbtn:".btn-del",importbtn:".btn-import",multibtn:".btn-multi",disabledbtn:".btn-disabled",editonebtn:".btn-editone",restoreonebtn:".btn-restoreone",destroyonebtn:".btn-destroyone",restoreallbtn:".btn-restoreall",destroyallbtn:".btn-destroyall",dragsortfield:"weigh"},button:{edit:{name:"edit",icon:"fa fa-pencil",title:__("Edit"),extend:'data-toggle="tooltip"',classname:"btn btn-xs btn-success btn-editone"},del:{name:"del",icon:"fa fa-trash",title:__("Del"),extend:'data-toggle="tooltip"',classname:"btn btn-xs btn-danger btn-delone"},dragsort:{name:"dragsort",icon:"fa fa-arrows",title:__("Drag to sort"),extend:'data-toggle="tooltip"',classname:"btn btn-xs btn-primary btn-dragsort"}},api:{init:function(t,i,o){t=t?t:{},i=i?i:{},o=o?o:{},navigator.userAgent.match(/(iPod|iPhone|iPad)/)&&(n.defaults.cardView=!0),e.extend(!0,e.fn.bootstrapTable.defaults,n.defaults,t),e.extend(e.fn.bootstrapTable.columnDefaults,n.columnDefaults,i),e.extend(e.fn.bootstrapTable.locales[n.defaults.locale],{formatCommonSearch:function(){return __("Common search")},formatCommonSubmitButton:function(){return __("Submit")},formatCommonResetButton:function(){return __("Reset")},formatCommonCloseButton:function(){return __("Close")},formatCommonChoose:function(){return __("Choose")},formatJumpto:function(){return __("Go")}},o),"undefined"!=typeof t.exportTypes&&(e.fn.bootstrapTable.defaults.exportTypes=t.exportTypes)},bindevent:function(t){var i=t.closest(".bootstrap-table"),o=t.bootstrapTable("getOptions"),r=e(o.toolbar,i);t.on("load-error.bs.table",function(e,t,i){0!==i.status&&Toastr.error(__("Unknown data format"))}),t.on("load-success.bs.table",function(e,t){"undefined"==typeof t.rows&&"undefined"!=typeof t.code&&Toastr.error(t.msg)}),t.on("refresh.bs.table",function(t,i,o){e(n.config.refreshbtn,r).find(".fa").addClass("fa-spin")}),o.dblClickToEdit&&t.on("dbl-click-row.bs.table",function(t,i,o,r){e(n.config.editonebtn,o).trigger("click")}),t.on("post-body.bs.table",function(i,o,a,s){e(n.config.refreshbtn,r).find(".fa").removeClass("fa-spin"),e(n.config.disabledbtn,r).toggleClass("disabled",!0),e(n.config.firsttd,t).find("input[type='checkbox'][data-index]").size()>0&&require(["drag","drop"],function(){e(n.config.firsttd,t).drag("start",function(t,i){return e('<div class="selection" />').css("opacity",.65).appendTo(document.body)}).drag(function(t,i){e(i.proxy).css({top:Math.min(t.pageY,i.startY),left:Math.min(t.pageX,i.startX),height:Math.abs(t.pageY-i.startY),width:Math.abs(t.pageX-i.startX)})}).drag("end",function(t,i){e(i.proxy).remove()}),e(n.config.firsttd,t).drop("start",function(){n.api.toggleattr(this)}).drop(function(){n.api.toggleattr(this)}).drop("end",function(){n.api.toggleattr(this)}),e.drop({multi:!0})})}),t.on("check.bs.table uncheck.bs.table check-all.bs.table uncheck-all.bs.table",function(){var i=n.api.selectedids(t);e(n.config.disabledbtn,r).toggleClass("disabled",!i.length)}),e('.panel-heading [data-field] a[data-toggle="tab"]').on("shown.bs.tab",function(i){var n=e(this).closest("[data-field]").data("field"),o=e(this).data("value"),r=e("[name='"+n+"']",t.closest(".bootstrap-table").find(".commonsearch-table"));return"SELECT"==r.prop("tagName")?e("option[value='"+o+"']",r).prop("selected",!0):r.val(o),t.bootstrapTable("refresh",{pageNumber:1}),!1}),e(r).on("click",n.config.refreshbtn,function(){t.bootstrapTable("refresh")}),e(r).on("click",n.config.addbtn,function(){var i=n.api.selectedids(t),r=o.extend.add_url;r.indexOf("{ids}")!==-1&&(r=n.api.replaceurl(r,{ids:i.length>0?i.join(","):0},t)),Fast.api.open(r,__("Add"),e(this).data()||{})}),e(n.config.importbtn,r).size()>0&&require(["upload"],function(i){i.api.plupload(e(n.config.importbtn,r),function(e,i){Fast.api.ajax({url:o.extend.import_url,data:{file:e.url}},function(e,i){t.bootstrapTable("refresh")})})}),e(r).on("click",n.config.editbtn,function(){var i=this;e.each(t.bootstrapTable("getSelections"),function(r,a){var s=o.extend.edit_url;a=e.extend({},a?a:{},{ids:a[o.pk]});var s=n.api.replaceurl(s,a,t);Fast.api.open(s,__("Edit"),e(i).data()||{})})}),e(document).on("click",n.config.destroyallbtn,function(){var i=this;return Layer.confirm(__("Are you sure you want to truncate?"),function(){var n=e(i).data("url")?e(i).data("url"):e(i).attr("href");Fast.api.ajax(n,function(){Layer.closeAll(),t.bootstrapTable("refresh")},function(){Layer.closeAll()})}),!1}),e(document).on("click",n.config.restoreallbtn+","+n.config.restoreonebtn+","+n.config.destroyonebtn,function(){var i=this,n=e(i).data("url")?e(i).data("url"):e(i).attr("href");return Fast.api.ajax(n,function(){t.bootstrapTable("refresh")}),!1}),e(r).on("click",n.config.multibtn,function(){var i=n.api.selectedids(t);n.api.multi(e(this).data("action"),i,t,this)}),e(r).on("click",n.config.delbtn,function(){var e=this,i=n.api.selectedids(t);Layer.confirm(__("Are you sure you want to delete the %s selected item?",i.length),{icon:3,title:__("Warning"),offset:0,shadeClose:!0
},function(o){n.api.multi("del",i,t,e),Layer.close(o)})}),require(["dragsort"],function(){e("tbody",t).dragsort({itemSelector:"tr:visible",dragSelector:"a.btn-dragsort",dragEnd:function(i,o){var r=e("a.btn-dragsort",this),a=t.bootstrapTable("getData"),s=a[parseInt(e(this).data("index"))],l=t.bootstrapTable("getOptions"),c=e.map(e("tbody tr:visible",t),function(t){return a[parseInt(e(t).data("index"))][l.pk]}),u=s[l.pk],d="undefined"!=typeof s.pid?s.pid:"",p={url:t.bootstrapTable("getOptions").extend.dragsort_url,data:{ids:c.join(","),changeid:u,pid:d,field:n.config.dragsortfield,orderway:l.sortOrder,table:l.extend.table,pk:l.pk}};Fast.api.ajax(p,function(i,n){var o=e(r).data("success")||e.noop;return("function"!=typeof o||!1!==o.call(r,i,n))&&void t.bootstrapTable("refresh")},function(i,n){var o=e(r).data("error")||e.noop;return("function"!=typeof o||!1!==o.call(r,i,n))&&void t.bootstrapTable("refresh")})},placeHolderTemplate:""})}),e(t).on("click","input[data-id][name='checkbox']",function(i){var o=e(this).data("id"),r=n.api.getrowbyid(t,o);t.trigger("check.bs.table",[r,this])}),e(t).on("click","[data-id].btn-change",function(i){i.preventDefault(),n.api.multi(e(this).data("action")?e(this).data("action"):"",[e(this).data("id")],t,this)}),e(t).on("click","[data-id].btn-edit",function(i){i.preventDefault();var r=e(this).data("id"),a=n.api.getrowbyid(t,r);a.ids=r;var s=n.api.replaceurl(o.extend.edit_url,a,t);Fast.api.open(s,__("Edit"),e(this).data()||{})}),e(t).on("click","[data-id].btn-del",function(i){i.preventDefault();var o=e(this).data("id"),r=this;Layer.confirm(__("Are you sure you want to delete this item?"),{icon:3,title:__("Warning"),shadeClose:!0},function(e){n.api.multi("del",o,t,r),Layer.close(e)})});var a=t.attr("id");return n.list[a]=t,t},multi:function(t,i,n,o){var r=n.bootstrapTable("getOptions"),a=o?e(o).data():{},i=e.isArray(i)?i.join(","):i,s="undefined"!=typeof a.url?a.url:"del"==t?r.extend.del_url:r.extend.multi_url;s=this.replaceurl(s,{ids:i},n);var l="undefined"!=typeof a.params?"object"==typeof a.params?e.param(a.params):a.params:"",r={url:s,data:{action:t,ids:i,params:l}};Fast.api.ajax(r,function(t,i){var r=e(o).data("success")||e.noop;return("function"!=typeof r||!1!==r.call(o,t,i))&&void n.bootstrapTable("refresh")},function(t,i){var n=e(o).data("error")||e.noop;if("function"==typeof n&&!1===n.call(o,t,i))return!1})},events:{operate:{"click .btn-editone":function(t,i,o,r){t.stopPropagation(),t.preventDefault();var a=e(this).closest("table"),s=a.bootstrapTable("getOptions"),l=o[s.pk];o=e.extend({},o?o:{},{ids:l});var c=s.extend.edit_url;Fast.api.open(n.api.replaceurl(c,o,a),__("Edit"),e(this).data()||{})},"click .btn-delone":function(i,o,r,a){i.stopPropagation(),i.preventDefault();var s=this,l=e(s).offset().top-e(window).scrollTop(),c=e(s).offset().left-e(window).scrollLeft()-260;l+154>e(window).height()&&(l-=154),e(window).width()<480&&(l=c=t),Layer.confirm(__("Are you sure you want to delete this item?"),{icon:3,title:__("Warning"),offset:[l,c],shadeClose:!0},function(t){var i=e(s).closest("table"),o=i.bootstrapTable("getOptions");n.api.multi("del",r[o.pk],i,s),Layer.close(t)})}},image:{"click .img-center":function(t,i,n,o){var r=[];i=i.toString().split(","),e.each(i,function(e,t){r.push({src:Fast.api.cdnurl(t)})}),Layer.photos({photos:{start:e(this).parent().index(),data:r},anim:5})}}},formatter:{icon:function(e,t,i){return e?(e=null===e?"":e.toString(),e=e.indexOf(" ")>-1?e:"fa fa-"+e,'<i class="'+e+'"></i> '+e):""},image:function(e,t,i){e=e?e:"/assets/img/blank.gif";var n="undefined"!=typeof this.classname?this.classname:"img-sm img-center";return'<a href="javascript:"><img class="'+n+'" src="'+Fast.api.cdnurl(e)+'" /></a>'},images:function(t,i,n){t=null===t?"":t.toString();var o="undefined"!=typeof this.classname?this.classname:"img-sm img-center",r=t.split(","),a=[];return e.each(r,function(e,t){t=t?t:"/assets/img/blank.gif",a.push('<a href="javascript:"><img class="'+o+'" src="'+Fast.api.cdnurl(t)+'" /></a>')}),a.join(" ")},content:function(e,i,n){var o=this.width!=t?this.width:250;return"<div style='white-space: nowrap; text-overflow:ellipsis; overflow: hidden; max-width:"+o+"px;'>"+e+"</div>"},status:function(t,i,o){var r={normal:"success",hidden:"gray",deleted:"danger",locked:"info"};return"undefined"!=typeof this.custom&&(r=e.extend(r,this.custom)),this.custom=r,this.icon="fa fa-circle",n.api.formatter.normal.call(this,t,i,o)},normal:function(t,i,n){var o=["primary","success","danger","warning","info","gray","red","yellow","aqua","blue","navy","teal","olive","lime","fuchsia","purple","maroon"],r={};"undefined"!=typeof this.custom&&(r=e.extend(r,this.custom)),t=null===t?"":t.toString();var a="object"==typeof this.searchList?Object.keys(this.searchList):[],n=a.indexOf(t),s=t&&"undefined"!=typeof r[t]?r[t]:null,l=n>-1?this.searchList[t]:null,c="undefined"!=typeof this.icon?this.icon:null;s||(s=n>-1&&"undefined"!=typeof o[n]?o[n]:"primary"),l||(l=__(t.charAt(0).toUpperCase()+t.slice(1)));var u='<span class="text-'+s+'">'+(c?'<i class="'+c+'"></i> ':"")+l+"</span>";return 0!=this.operate&&(u='<a href="javascript:;" class="searchit" data-toggle="tooltip" title="'+__("Click to search %s",l)+'" data-field="'+this.field+'" data-value="'+t+'">'+u+"</a>"),u},toggle:function(e,t,i){var n=this.table,o=n?n.bootstrapTable("getOptions"):{},r=o.pk||"id",a="undefined"!=typeof this.color?this.color:"success",s="undefined"!=typeof this.yes?this.yes:1,l="undefined"!=typeof this.no?this.no:0,c="undefined"!=typeof this.url?this.url:"",u=!1;return"undefined"!=typeof this.disable&&(u="function"==typeof this.disable?this.disable.call(this,e,t,i):this.disable),"<a href='javascript:;' data-toggle='tooltip' title='"+__("Click to toggle")+"' class='btn-change "+(u?"btn disabled":"")+"' data-id='"+t[r]+"' "+(c?"data-url='"+c+"'":"")+" data-params='"+this.field+"="+(e==s?l:s)+"'><i class='fa fa-toggle-on "+(e==s?"text-"+a:"fa-flip-horizontal text-gray")+" fa-2x'></i></a>"},url:function(e,t,i){return'<div class="input-group input-group-sm" style="width:250px;margin:0 auto;"><input type="text" class="form-control input-sm" value="'+e+'"><span class="input-group-btn input-group-sm"><a href="'+e+'" target="_blank" class="btn btn-default btn-sm"><i class="fa fa-link"></i></a></span></div>'},search:function(e,t,i){var n=this.field;return"undefined"!=typeof this.customField&&"undefined"!=typeof t[this.customField]&&(e=t[this.customField],n=this.customField),'<a href="javascript:;" class="searchit" data-toggle="tooltip" title="'+__("Click to search %s",e)+'" data-field="'+n+'" data-value="'+e+'">'+e+"</a>"},addtabs:function(e,t,i){var o=n.api.replaceurl(this.url,t,this.table),r=this.atitle?this.atitle:__("Search %s",e);return'<a href="'+Fast.api.fixurl(o)+'" class="addtabsit" data-value="'+e+'" title="'+r+'">'+e+"</a>"},dialog:function(e,t,i){var o=n.api.replaceurl(this.url,t,this.table),r=this.atitle?this.atitle:__("View %s",e);return'<a href="'+Fast.api.fixurl(o)+'" class="dialogit" data-value="'+e+'" title="'+r+'">'+e+"</a>"},flag:function(t,i,n){var o=this;t=null===t?"":t.toString();var r={index:"success",hot:"warning",recommend:"danger",new:"info"};"undefined"!=typeof this.custom&&(r=e.extend(r,this.custom));var a=this.field;"undefined"!=typeof this.customField&&"undefined"!=typeof i[this.customField]&&(t=i[this.customField],a=this.customField);var s,l,c,u=[],d=t.split(",");return e.each(d,function(e,t){return t=null===t?"":t.toString(),""==t||(s=t&&"undefined"!=typeof r[t]?r[t]:"primary",l="undefined"!=typeof o.searchList&&"undefined"!=typeof o.searchList[t]?o.searchList[t]:__(t.charAt(0).toUpperCase()+t.slice(1)),c='<span class="label label-'+s+'">'+l+"</span>",void(o.operate?u.push('<a href="javascript:;" class="searchit" data-toggle="tooltip" title="'+__("Click to search %s",l)+'" data-field="'+a+'" data-value="'+t+'">'+c+"</a>"):u.push(c)))}),u.join(" ")},label:function(e,t,i){return n.api.formatter.flag.call(this,e,t,i)},datetime:function(e,t,n){var o="undefined"==typeof this.datetimeFormat?"YYYY-MM-DD HH:mm:ss":this.datetimeFormat;return isNaN(e)?e?i(e).format(o):__("None"):e?i(1e3*parseInt(e)).format(o):__("None")},operate:function(t,i,o){var r=this.table,a=r?r.bootstrapTable("getOptions"):{},s=e.extend([],this.buttons||[]),l=[];return s.forEach(function(e){l.push(e.name)}),""!==a.extend.dragsort_url&&l.indexOf("dragsort")===-1&&s.push(n.button.dragsort),""!==a.extend.edit_url&&l.indexOf("edit")===-1&&(n.button.edit.url=a.extend.edit_url,s.push(n.button.edit)),""!==a.extend.del_url&&l.indexOf("del")===-1&&s.push(n.button.del),n.api.buttonlink(this,s,t,i,o,"operate")},buttons:function(t,i,o){var r=e.extend([],this.buttons||[]);return n.api.buttonlink(this,r,t,i,o,"buttons")}},buttonlink:function(t,i,o,r,a,s){var l=t.table;s="undefined"==typeof s?"buttons":s;var c,u,d,p,f,h,m,g,y,v,b,w,x,_=l?l.bootstrapTable("getOptions"):{},S=[],T=t.fieldIndex,E={};if(e.each(i,function(e,t){if("operate"===s){if("dragsort"===t.name&&"undefined"==typeof r[n.config.dragsortfield])return!0;if(["add","edit","del","multi","dragsort"].indexOf(t.name)>-1&&!_.extend[t.name+"_url"])return!0}var i=l.data(s+"-"+t.name);if("undefined"==typeof i||i){if(c="function"==typeof t.hidden?t.hidden.call(l,r,t):"undefined"!=typeof t.hidden&&t.hidden)return!0;if(u="function"==typeof t.visible?t.visible.call(l,r,t):"undefined"==typeof t.visible||t.visible,!u)return!0;w=t.dropdown?t.dropdown:"",p=t.url?t.url:"",p="function"==typeof p?p.call(l,r,t):p?Fast.api.fixurl(n.api.replaceurl(p,r,l)):"javascript:;",f=t.classname?t.classname:"btn-primary btn-"+name+"one",h=t.icon?t.icon:"",m="function"==typeof t.text?t.text.call(l,r,t):t.text?t.text:"",g="function"==typeof t.title?t.title.call(l,r,t):t.title?t.title:m,y=t.refresh?'data-refresh="'+t.refresh+'"':"",v="function"==typeof t.confirm?t.confirm.call(l,r,t):"undefined"!=typeof t.confirm&&t.confirm,v=v?'data-confirm="'+v+'"':"",b=t.extend?t.extend:"",d="function"==typeof t.disable?t.disable.call(l,r,t):"undefined"!=typeof t.disable&&t.disable,d&&(f+=" disabled"),x='<a href="'+p+'" class="'+f+'" '+(v?v+" ":"")+(y?y+" ":"")+b+' title="'+g+'" data-table-id="'+(l?l.attr("id"):"")+'" data-field-index="'+T+'" data-row-index="'+a+'" data-button-index="'+e+'"><i class="'+h+'"></i>'+(m?" "+m:"")+"</a>",w?("undefined"==typeof E[w]&&(E[w]=[]),E[w].push(x)):S.push(x)}}),!e.isEmptyObject(E)){var C=[];e.each(E,function(e,t){C.push('<div class="btn-group"><button type="button" class="btn btn-primary dropdown-toggle btn-xs" data-toggle="dropdown">'+e+'</button><button type="button" class="btn btn-primary dropdown-toggle btn-xs" data-toggle="dropdown"><span class="caret"></span></button><ul class="dropdown-menu pull-right"><li>'+t.join("</li><li>")+"</li></ul></div>")}),S.unshift(C)}return S.join(" ")},replaceurl:function(e,t,i){var n=i?i.bootstrapTable("getOptions"):null,o=n?t[n.pk]:0;return t.ids=o?o:"undefined"!=typeof t.ids?t.ids:0,e=e.match(/\{ids\}/i)?e:e+(e.match(/(\?|&)+/)?"&ids=":"/ids/")+"{ids}",e=e.replace(/\{(.*?)\}/gi,function(e){if(e=e.substring(1,e.length-1),e.indexOf(".")!==-1){for(var i=t,n=e.split(/\./),o=0;o<n.length;o++)"undefined"!=typeof i[n[o]]&&(i=i[n[o]]);return"object"==typeof i?"":i}return t[e]})},selectedids:function(t){var i=t.bootstrapTable("getOptions");return i.templateView?e.map(e("input[data-id][name='checkbox']:checked"),function(t){return e(t).data("id")}):e.map(t.bootstrapTable("getSelections"),function(e){return e[i.pk]})},toggleattr:function(t){e("input[type='checkbox']",t).trigger("click")},getrowdata:function(e,t){t=parseInt(t);var i=e.bootstrapTable("getData");return"undefined"!=typeof i[t]?i[t]:null},getrowbyindex:function(e,t){return n.api.getrowdata(e,t)},getrowbyid:function(t,i){var n={},o=t.bootstrapTable("getOptions");return e.each(t.bootstrapTable("getData"),function(e,t){if(t[o.pk]==i)return n=t,!1}),n}}};return n}),function(e){e.fn.dragsort=function(t){if("destroy"==t)return void e(this.selector).trigger("dragsort-uninit");var i=e.extend({},e.fn.dragsort.defaults,t),n=[],o=null,r=null;return this.each(function(t,a){e(a).is("table")&&1==e(a).children().size()&&e(a).children().is("tbody")&&(a=e(a).children().get(0));var s={draggedItem:null,placeHolderItem:null,pos:null,offset:null,offsetLimit:null,scroll:null,container:a,init:function(){i.tagName=""==i.tagName?0==e(this.container).children().size()?"li":e(this.container).children().get(0).tagName.toLowerCase():i.tagName,""==i.itemSelector&&(i.itemSelector=i.tagName),""==i.dragSelector&&(i.dragSelector=i.tagName),""==i.placeHolderTemplate&&(i.placeHolderTemplate="<"+i.tagName+">&nbsp;</"+i.tagName+">"),e(this.container).attr("data-listidx",t).mousedown(this.grabItem).bind("dragsort-uninit",this.uninit),this.styleDragHandlers(!0)},uninit:function(){var t=n[e(this).attr("data-listidx")];e(t.container).unbind("mousedown",t.grabItem).unbind("dragsort-uninit"),t.styleDragHandlers(!1)},getItems:function(){return e(this.container).children(i.itemSelector)},styleDragHandlers:function(t){this.getItems().map(function(){return e(this).is(i.dragSelector)?this:e(this).find(i.dragSelector).get()}).css("cursor",t?"pointer":"")},grabItem:function(t){var o=n[e(this).attr("data-listidx")],r=e(t.target).closest("[data-listidx] > "+i.tagName).get(0),a=o.getItems().filter(function(){return this==r}).size()>0;if(!(1!=t.which||e(t.target).is(i.dragSelectorExclude)||e(t.target).closest(i.dragSelectorExclude).size()>0)&&a){for(var s=t.target;!e(s).is(i.dragSelector);){if(s==this)return;s=s.parentNode}e(s).attr("data-cursor",e(s).css("cursor")),e(s).css("cursor","move");var l=this,c=function(){o.dragStart.call(l,t),e(o.container).unbind("mousemove",c)};e(o.container).mousemove(c).mouseup(function(){e(o.container).unbind("mousemove",c),e(s).css("cursor",e(s).attr("data-cursor"))})}},dragStart:function(t){null!=o&&null!=o.draggedItem&&o.dropItem(),o=n[e(this).attr("data-listidx")],o.draggedItem=e(t.target).closest("[data-listidx] > "+i.tagName),o.draggedItem.attr("data-origpos",e(this).attr("data-listidx")+"-"+e(o.container).children().index(o.draggedItem));var r=parseInt(o.draggedItem.css("marginTop")),a=parseInt(o.draggedItem.css("marginLeft"));if(o.offset=o.draggedItem.offset(),o.offset.top=t.pageY-o.offset.top+(isNaN(r)?0:r)-1,o.offset.left=t.pageX-o.offset.left+(isNaN(a)?0:a)-1,!i.dragBetween){var s=0==e(o.container).outerHeight()?Math.max(1,Math.round(.5+o.getItems().size()*o.draggedItem.outerWidth()/e(o.container).outerWidth()))*o.draggedItem.outerHeight():e(o.container).outerHeight();o.offsetLimit=e(o.container).offset(),o.offsetLimit.right=o.offsetLimit.left+e(o.container).outerWidth()-o.draggedItem.outerWidth(),o.offsetLimit.bottom=o.offsetLimit.top+s-o.draggedItem.outerHeight()}var l=o.draggedItem.height(),c=o.draggedItem.width();if("tr"==i.tagName?(o.draggedItem.children().each(function(){e(this).width(e(this).width())}),o.placeHolderItem=o.draggedItem.clone().attr("data-placeholder",!0),o.draggedItem.after(o.placeHolderItem),o.placeHolderItem.children().each(function(){e(this).html("&nbsp;")})):(o.draggedItem.after(i.placeHolderTemplate),o.placeHolderItem=o.draggedItem.next().css({height:l,width:c}).attr("data-placeholder",!0)),"td"==i.tagName){var u=o.draggedItem.closest("table").get(0);e("<table id='"+u.id+"' style='border-width: 0px;' class='dragSortItem "+u.className+"'><tr></tr></table>").appendTo("body").children().append(o.draggedItem)}var d=o.draggedItem.attr("style");o.draggedItem.attr("data-origstyle",d?d:""),o.draggedItem.css({position:"absolute",opacity:.8,"z-index":999,height:l,width:c}),o.scroll={moveX:0,moveY:0,maxX:e(document).width()-e(window).width(),maxY:e(document).height()-e(window).height()},o.scroll.scrollY=window.setInterval(function(){if(i.scrollContainer!=window)return void e(i.scrollContainer).scrollTop(e(i.scrollContainer).scrollTop()+o.scroll.moveY);var t=e(i.scrollContainer).scrollTop();(o.scroll.moveY>0&&t<o.scroll.maxY||o.scroll.moveY<0&&t>0)&&(e(i.scrollContainer).scrollTop(t+o.scroll.moveY),o.draggedItem.css("top",o.draggedItem.offset().top+o.scroll.moveY+1))},10),o.scroll.scrollX=window.setInterval(function(){if(i.scrollContainer!=window)return void e(i.scrollContainer).scrollLeft(e(i.scrollContainer).scrollLeft()+o.scroll.moveX);var t=e(i.scrollContainer).scrollLeft();(o.scroll.moveX>0&&t<o.scroll.maxX||o.scroll.moveX<0&&t>0)&&(e(i.scrollContainer).scrollLeft(t+o.scroll.moveX),o.draggedItem.css("left",o.draggedItem.offset().left+o.scroll.moveX+1))},10),e(n).each(function(e,t){t.createDropTargets(),t.buildPositionTable()}),o.setPos(t.pageX,t.pageY),e(document).bind("mousemove",o.swapItems),e(document).bind("mouseup",o.dropItem),i.scrollContainer!=window&&e(window).bind("wheel",o.wheel)},setPos:function(t,n){var r=n-this.offset.top,a=t-this.offset.left;i.dragBetween||(r=Math.min(this.offsetLimit.bottom,Math.max(r,this.offsetLimit.top)),a=Math.min(this.offsetLimit.right,Math.max(a,this.offsetLimit.left)));var s=this.draggedItem.offsetParent().not("body").offset();if(null!=s&&(r-=s.top,a-=s.left),i.scrollContainer==window)n-=e(window).scrollTop(),t-=e(window).scrollLeft(),n=Math.max(0,n-e(window).height()+5)+Math.min(0,n-5),t=Math.max(0,t-e(window).width()+5)+Math.min(0,t-5);else{var l=e(i.scrollContainer),c=l.offset();n=Math.max(0,n-l.height()-c.top)+Math.min(0,n-c.top),t=Math.max(0,t-l.width()-c.left)+Math.min(0,t-c.left)}o.scroll.moveX=0==t?0:t*i.scrollSpeed/Math.abs(t),o.scroll.moveY=0==n?0:n*i.scrollSpeed/Math.abs(n),this.draggedItem.css({top:r,left:a})},wheel:function(t){if(o&&i.scrollContainer!=window){var n=e(i.scrollContainer),r=n.offset();if(t=t.originalEvent,t.clientX>r.left&&t.clientX<r.left+n.width()&&t.clientY>r.top&&t.clientY<r.top+n.height()){var a=(0==t.deltaMode?1:10)*t.deltaY;n.scrollTop(n.scrollTop()+a),t.preventDefault()}}},buildPositionTable:function(){var t=[];this.getItems().not([o.draggedItem[0],o.placeHolderItem[0]]).each(function(i){var n=e(this).offset();n.right=n.left+e(this).outerWidth(),n.bottom=n.top+e(this).outerHeight(),n.elm=this,t[i]=n}),this.pos=t},dropItem:function(){if(null!=o.draggedItem){var t=o.draggedItem.attr("data-origstyle");if(o.draggedItem.attr("style",t),""==t&&o.draggedItem.removeAttr("style"),o.draggedItem.removeAttr("data-origstyle"),o.styleDragHandlers(!0),o.placeHolderItem.before(o.draggedItem),o.placeHolderItem.remove(),e("[data-droptarget], .dragSortItem").remove(),window.clearInterval(o.scroll.scrollY),window.clearInterval(o.scroll.scrollX),o.draggedItem.attr("data-origpos")!=e(n).index(o)+"-"+e(o.container).children().index(o.draggedItem)&&0==i.dragEnd.apply(o.draggedItem)){var r=o.draggedItem.attr("data-origpos").split("-"),a=e(n[r[0]].container).children().not(o.draggedItem).eq(r[1]);a.size()>0?a.before(o.draggedItem):0==r[1]?e(n[r[0]].container).prepend(o.draggedItem):e(n[r[0]].container).append(o.draggedItem)}return o.draggedItem.removeAttr("data-origpos"),o.draggedItem=null,e(document).unbind("mousemove",o.swapItems),e(document).unbind("mouseup",o.dropItem),i.scrollContainer!=window&&e(window).unbind("wheel",o.wheel),!1}},swapItems:function(t){if(null==o.draggedItem)return!1;o.setPos(t.pageX,t.pageY);for(var a=o.findPos(t.pageX,t.pageY),s=o,l=0;a==-1&&i.dragBetween&&l<n.length;l++)a=n[l].findPos(t.pageX,t.pageY),s=n[l];if(a==-1)return!1;var c=function(){return e(s.container).children().not(s.draggedItem)},u=c().not(i.itemSelector).each(function(e){this.idx=c().index(this)});return null==r||r.top>o.draggedItem.offset().top||r.left>o.draggedItem.offset().left?e(s.pos[a].elm).before(o.placeHolderItem):e(s.pos[a].elm).after(o.placeHolderItem),u.each(function(){var t=c().eq(this.idx).get(0);this!=t&&c().index(this)<this.idx?e(this).insertAfter(t):this!=t&&e(this).insertBefore(t)}),e(n).each(function(e,t){t.createDropTargets(),t.buildPositionTable()}),r=o.draggedItem.offset(),!1},findPos:function(e,t){for(var i=0;i<this.pos.length;i++)if(this.pos[i].left<e&&this.pos[i].right>e&&this.pos[i].top<t&&this.pos[i].bottom>t)return i;return-1},createDropTargets:function(){i.dragBetween&&e(n).each(function(){var t=e(this.container).find("[data-placeholder]"),n=e(this.container).find("[data-droptarget]");t.size()>0&&n.size()>0?n.remove():0==t.size()&&0==n.size()&&("td"==i.tagName?e(i.placeHolderTemplate).attr("data-droptarget",!0).appendTo(this.container):e(this.container).append(o.placeHolderItem.removeAttr("data-placeholder").clone().attr("data-droptarget",!0)),o.placeHolderItem.attr("data-placeholder",!0))})}};s.init(),n.push(s)}),this},e.fn.dragsort.defaults={tagName:"",itemSelector:"",dragSelector:"",dragSelectorExclude:"input, textarea",dragEnd:function(){},dragBetween:!1,placeHolderTemplate:"",scrollContainer:window,scrollSpeed:5}}(jQuery),define("dragsort",function(){}),function(e){e.fn.drag=function(t,i,n){var o="string"==typeof t?t:"",r=e.isFunction(t)?t:e.isFunction(i)?i:null;return 0!==o.indexOf("drag")&&(o="drag"+o),n=(t==r?i:n)||{},r?this.bind(o,n,r):this.trigger(o)};var t=e.event,i=t.special,n=i.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var i=e.data(this,n.datakey),o=t.data||{};i.related+=1,e.each(n.defaults,function(e,t){void 0!==o[e]&&(i[e]=o[e])})},remove:function(){e.data(this,n.datakey).related-=1},setup:function(){if(!e.data(this,n.datakey)){var i=e.extend({related:0},n.defaults);e.data(this,n.datakey,i),t.add(this,"touchstart mousedown",n.init,i),this.attachEvent&&this.attachEvent("ondragstart",n.dontstart)}},teardown:function(){var i=e.data(this,n.datakey)||{};i.related||(e.removeData(this,n.datakey),t.remove(this,"touchstart mousedown",n.init),n.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",n.dontstart))},init:function(o){if(!n.touched){var r,a=o.data;if(!(0!=o.which&&a.which>0&&o.which!=a.which)&&!e(o.target).is(a.not)&&(!a.handle||e(o.target).closest(a.handle,o.currentTarget).length)&&(n.touched="touchstart"==o.type?this:null,a.propagates=1,a.mousedown=this,a.interactions=[n.interaction(this,a)],a.target=o.target,a.pageX=o.pageX,a.pageY=o.pageY,a.dragging=null,r=n.hijack(o,"draginit",a),a.propagates))return r=n.flatten(r),r&&r.length&&(a.interactions=[],e.each(r,function(){a.interactions.push(n.interaction(this,a))})),a.propagates=a.interactions.length,a.drop!==!1&&i.drop&&i.drop.handler(o,a),n.textselect(!1),n.touched?t.add(n.touched,"touchmove touchend",n.handler,a):t.add(document,"mousemove mouseup",n.handler,a),!(!n.touched||a.live)&&void 0}},interaction:function(t,i){var o=e(t)[i.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new n.callback,droppable:[],offset:o}},handler:function(o){var r=o.data;switch(o.type){case!r.dragging&&"touchmove":o.preventDefault();case!r.dragging&&"mousemove":if(Math.pow(o.pageX-r.pageX,2)+Math.pow(o.pageY-r.pageY,2)<Math.pow(r.distance,2))break;o.target=r.target,n.hijack(o,"dragstart",r),r.propagates&&(r.dragging=!0);case"touchmove":o.preventDefault();case"mousemove":if(r.dragging){if(n.hijack(o,"drag",r),r.propagates){r.drop!==!1&&i.drop&&i.drop.handler(o,r);break}o.type="mouseup"}case"touchend":case"mouseup":default:n.touched?t.remove(n.touched,"touchmove touchend",n.handler):t.remove(document,"mousemove mouseup",n.handler),r.dragging&&(r.drop!==!1&&i.drop&&i.drop.handler(o,r),n.hijack(o,"dragend",r)),n.textselect(!0),r.click===!1&&r.dragging&&e.data(r.mousedown,"suppress.click",(new Date).getTime()+5),r.dragging=n.touched=!1}},hijack:function(i,o,r,a,s){if(r){var l,c,u,d={event:i.originalEvent,type:i.type},p=o.indexOf("drop")?"drag":"drop",f=a||0,h=isNaN(a)?r.interactions.length:a;i.type=o,i.originalEvent=null,r.results=[];do if(c=r.interactions[f]){if("dragend"!==o&&c.cancelled)continue;u=n.properties(i,r,c),c.results=[],e(s||c[p]||r.droppable).each(function(a,s){if(u.target=s,i.isPropagationStopped=function(){return!1},l=s?t.dispatch.call(s,i,u):null,l===!1?("drag"==p&&(c.cancelled=!0,r.propagates-=1),"drop"==o&&(c[p][a]=null)):"dropinit"==o&&c.droppable.push(n.element(l)||s),"dragstart"==o&&(c.proxy=e(n.element(l)||c.drag)[0]),c.results.push(l),delete i.result,"dropinit"!==o)return l}),r.results[f]=n.flatten(c.results),"dropinit"==o&&(c.droppable=n.flatten(c.droppable)),"dragstart"!=o||c.cancelled||u.update()}while(++f<h);return i.type=d.type,i.originalEvent=d.event,n.flatten(r.results)}},properties:function(e,t,i){var o=i.callback;return o.drag=i.drag,o.proxy=i.proxy||i.drag,o.startX=t.pageX,o.startY=t.pageY,o.deltaX=e.pageX-t.pageX,o.deltaY=e.pageY-t.pageY,o.originalX=i.offset.left,o.originalY=i.offset.top,o.offsetX=o.originalX+o.deltaX,o.offsetY=o.originalY+o.deltaY,o.drop=n.flatten((i.drop||[]).slice()),o.available=n.flatten((i.droppable||[]).slice()),o},element:function(e){if(e&&(e.jquery||1==e.nodeType))return e},flatten:function(t){return e.map(t,function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?n.flatten(t):t})},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",n.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};n.callback.prototype={update:function(){i.drop&&this.available.length&&e.each(this.available,function(e){i.drop.locate(this,e)})}};var o=t.dispatch;t.dispatch=function(t){return e.data(this,"suppress."+t.type)-(new Date).getTime()>0?void e.removeData(this,"suppress."+t.type):o.apply(this,arguments)};var r=t.fixHooks.touchstart=t.fixHooks.touchmove=t.fixHooks.touchend=t.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(t,i){if(i){var n=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0]||null;n&&e.each(r.props,function(e,i){t[i]=n[i]})}return t}};i.draginit=i.dragstart=i.dragend=n}(jQuery),define("drag",function(){}),function(e){e.fn.drop=function(t,i,n){var o="string"==typeof t?t:"",r=e.isFunction(t)?t:e.isFunction(i)?i:null;return 0!==o.indexOf("drop")&&(o="drop"+o),n=(t==r?i:n)||{},r?this.bind(o,n,r):this.trigger(o)},e.drop=function(t){t=t||{},n.multi=t.multi===!0?1/0:t.multi===!1?1:isNaN(t.multi)?n.multi:t.multi,n.delay=t.delay||n.delay,n.tolerance=e.isFunction(t.tolerance)?t.tolerance:null===t.tolerance?null:n.tolerance,n.mode=t.mode||n.mode||"intersect"};var t=e.event,i=t.special,n=e.event.special.drop={multi:1,delay:20,mode:"overlap",targets:[],datakey:"dropdata",noBubble:!0,add:function(t){var i=e.data(this,n.datakey);i.related+=1},remove:function(){e.data(this,n.datakey).related-=1},setup:function(){if(!e.data(this,n.datakey)){var t={related:0,active:[],anyactive:0,winner:0,location:{}};return e.data(this,n.datakey,t),n.targets.push(this),!1}},teardown:function(){var t=e.data(this,n.datakey)||{};if(!t.related){e.removeData(this,n.datakey);var i=this;n.targets=e.grep(n.targets,function(e){return e!==i})}},handler:function(t,o){var r;if(o)switch(t.type){case"mousedown":case"touchstart":r=e(n.targets),"string"==typeof o.drop&&(r=r.filter(o.drop)),r.each(function(){var t=e.data(this,n.datakey);t.active=[],t.anyactive=0,t.winner=0}),o.droppable=r,i.drag.hijack(t,"dropinit",o);break;case"mousemove":case"touchmove":n.event=t,n.timer||n.tolerate(o);break;case"mouseup":case"touchend":n.timer=clearTimeout(n.timer),o.propagates&&(i.drag.hijack(t,"drop",o),i.drag.hijack(t,"dropend",o))}},locate:function(t,i){var o=e.data(t,n.datakey),r=e(t),a=r.offset()||{},s=r.outerHeight(),l=r.outerWidth(),c={elem:t,width:l,height:s,top:a.top,left:a.left,right:a.left+l,bottom:a.top+s};return o&&(o.location=c,o.index=i,o.elem=t),c},contains:function(e,t){return(t[0]||t.left)>=e.left&&(t[0]||t.right)<=e.right&&(t[1]||t.top)>=e.top&&(t[1]||t.bottom)<=e.bottom},modes:{intersect:function(e,t,i){return this.contains(i,[e.pageX,e.pageY])?1e9:this.modes.overlap.apply(this,arguments)},overlap:function(e,t,i){return Math.max(0,Math.min(i.bottom,t.bottom)-Math.max(i.top,t.top))*Math.max(0,Math.min(i.right,t.right)-Math.max(i.left,t.left))},fit:function(e,t,i){return this.contains(i,t)?1:0},middle:function(e,t,i){return this.contains(i,[t.left+.5*t.width,t.top+.5*t.height])?1:0}},sort:function(e,t){return t.winner-e.winner||e.index-t.index},tolerate:function(t){var o,r,a,s,l,c,u,d,p=0,f=t.interactions.length,h=[n.event.pageX,n.event.pageY],m=n.tolerance||n.modes[n.mode];do if(d=t.interactions[p]){if(!d)return;d.drop=[],l=[],c=d.droppable.length,m&&(a=n.locate(d.proxy)),o=0;do if(u=d.droppable[o]){if(s=e.data(u,n.datakey),r=s.location,!r)continue;s.winner=m?m.call(n,n.event,a,r):n.contains(r,h)?1:0,l.push(s)}while(++o<c);l.sort(n.sort),o=0;do(s=l[o])&&(s.winner&&d.drop.length<n.multi?(s.active[p]||s.anyactive||(i.drag.hijack(n.event,"dropstart",t,p,s.elem)[0]!==!1?(s.active[p]=1,s.anyactive+=1):s.winner=0),s.winner&&d.drop.push(s.elem)):s.active[p]&&1==s.anyactive&&(i.drag.hijack(n.event,"dropend",t,p,s.elem),s.active[p]=0,s.anyactive-=1));while(++o<c)}while(++p<f);n.last&&h[0]==n.last.pageX&&h[1]==n.last.pageY?delete n.timer:n.timer=setTimeout(function(){n.tolerate(t)},n.delay),n.last=n.event}};i.dropinit=i.dropstart=i.dropend=n}(jQuery),define("drop",function(){}),function(e){e.fn.addtabs=function(t){var i=e(this);t=e.extend({content:"",close:!0,monitor:"body",nav:".nav-addtabs",tab:".tab-addtabs",iframeUse:!0,iframeHeight:e(window).height()-50,iframeForceRefresh:!1,iframeForceRefreshTable:!1,callback:function(){}},t||{});var n=e(t.nav),o=e(t.tab);history.pushState&&e(window).on("popstate",function(i){var n=i.originalEvent.state;n&&e("a[addtabs="+n.id+"]",t.monitor).data("pushstate",!0).trigger("click")}),e(t.monitor).on("click","[addtabs]",function(i){if(0!==e(this).attr("url").indexOf("javascript:")){e(this).is("a")&&i.preventDefault();var n=e(this).attr("addtabs"),o=e(this).attr("title")?e(this).attr("title"):e.trim(e(this).text()),a=e(this).attr("url"),s=t.content?t.content:e(this).attr("content"),l="1"===e(this).attr("ajax")||"true"===e(this).attr("ajax"),c={url:a,title:o,id:n,content:s,ajax:l};if(document.title=o,history.pushState&&!e(this).data("pushstate")){var u=a.indexOf("ref=addtabs")===-1?a+(a.indexOf("?")>-1?"&":"?")+"ref=addtabs":a;try{window.history.pushState(c,o,u)}catch(e){}}e(this).data("pushstate",null),r.call(this,{id:n,title:e(this).attr("title")?e(this).attr("title"):e(this).html(),content:s,url:a,ajax:l})}}),n.on("click",".close-tab",function(){var t=e(this).prev("a").attr("aria-controls");return a(t),!1}),n.on("dblclick","li[role=presentation]",function(){e(this).find(".close-tab").trigger("click")}),n.on("click","li[role=presentation]",function(){e("a[addtabs="+e("a",this).attr("node-id")+"]").trigger("click")}),e(window).resize(function(){if("object"==typeof t.nav){var i=0;n.siblings().each(function(){i+=e(this).outerWidth()}),n.width(n.parent().width()-i)}else e("#nav").width(e("#header").find("> .navbar").width()-e(".sidebar-toggle").outerWidth()-e(".navbar-custom-menu").outerWidth()-20);s()});var r=function(i){var r,a,l,c;r=i.id,a="tab_"+i.id,l="con_"+i.id,c=i.url,c+=i.url.indexOf("?")>-1?"&addtabs=1":"?addtabs=1";var u=e("#"+a,n),d=e("#"+l,o);if(n.find("[role='presentation']").removeClass("active"),o.find("[role='tabpanel']").removeClass("active"),0===u.size()){if(u=e('<li role="presentation" id="'+a+'"><a href="#'+l+'" node-id="'+i.id+'" aria-controls="'+r+'" role="tab" data-toggle="tab">'+i.title+"</a></li>"),t.close&&e("li",n).size()>0&&u.append(' <i class="close-tab fa fa-remove"></i>'),0===d.size()){if(d=e('<div role="tabpanel" class="tab-pane" id="'+l+'"></div>'),i.content)d.append(i.content);else if(t.iframeUse&&!i.ajax){var p=t.iframeHeight;d.append('<iframe src="'+c+'" width="100%" height="'+p+'" frameborder="no" border="0" marginwidth="0" marginheight="0" scrolling-x="no" scrolling-y="auto" allowtransparency="yes"></iframe></div>')}else e.get(c,function(e){d.append(e)});o.append(d)}e(".tabdrop li",n).size()>0?e(".tabdrop ul",n).append(u):n.append(u)}else if(t.iframeForceRefresh)e("#"+l+" iframe").attr("src",function(e,t){return t});else if(t.iframeForceRefreshTable)try{e("#"+l+" iframe").contents().find(".btn-refresh").size()>0&&e("#"+l+" iframe")[0].contentWindow.$(".btn-refresh").trigger("click");
}catch(e){}localStorage.setItem("addtabs",e(this).prop("outerHTML")),u.addClass("active"),d.addClass("active"),s()},a=function(r){var a="tab_"+r,l="con_"+r,c=e("#"+a,n),u=e("#"+l,o);if(i.find("li.active").not(".tabdrop").attr("id")===a){var d=c.prev().not(".tabdrop"),p=c.next().not(".tabdrop");d.size()>0?d.find("a").trigger("click"):p.size()>0?p.find("a").trigger("click"):e(">li:not(.tabdrop):last > a",n).trigger("click")}c.remove(),u.remove(),s(),t.callback()},s=function(){n.refreshAddtabs()}},e.fn.refreshAddtabs=function(){var t=e(this),i=e(".tabdrop",t);0===i.size()&&(i=e('<li class="dropdown pull-right hide tabdrop"><a class="dropdown-toggle" data-toggle="dropdown" href="javascript:;"><i class="glyphicon glyphicon-align-justify"></i> <b class="caret"></b></a><ul class="dropdown-menu"></ul></li>'),i.prependTo(t)),t.parent().is(".tabs-below")&&i.addClass("dropup");var n=0,o=t.width()-65,r=0,a=t.append(i.find("li")).find(">li").not(".tabdrop"),s=0;a.each(function(){s+=e(this).outerWidth(!0)}),t.width()<s?(a.each(function(){r+=e(this).outerWidth(!0),r>o&&(i.find("ul").append(e(this)),n++)}),n>0&&(i.removeClass("hide"),1===i.find(".active").length?i.addClass("active"):i.removeClass("active"))):i.addClass("hide")}}(jQuery),define("addtabs",function(){}),function(e){"use strict";function t(t){return this.each(function(){var i=e(this),n=i.data(c.dataKey),o=e.extend({},l,i.data(),n&&n.option,"object"==typeof t&&t);n||i.data(c.dataKey,n=new c(this,o))})}function i(t){return e(t).closest("div.sp_container").find("input.sp_input")}function n(){return this.each(function(){var e=i(this),t=e.data(c.dataKey);t&&(t.prop.init_set=!0,t.clearAll(t),t.prop.init_set=!1)})}function o(){return this.each(function(){var e=i(this),t=e.data(c.dataKey);t&&t.elem.hidden.val()&&t.setInitRecord(!0)})}function r(t){return this.each(function(){if(t&&e.isArray(t)){var n=i(this),o=n.data(c.dataKey);o&&(o.clearAll(o),o.option.data=t)}})}function a(t){var n=!1;return this.each(function(){var o=i(this),r=o.data(c.dataKey);r&&("undefined"!==e.type(t)?r.disabled(r,t):n=r.disabled(r))}),n}function s(){var t="";return this.each(function(){var n=i(this),o=n.data(c.dataKey);if(o)if(o.option.multiple){var r=[];o.elem.element_box.find("li.selected_tag").each(function(t,i){r.push(e(i).text())}),t+=r.toString()}else t+=o.elem.combo_input.val()}),t}var l={data:void 0,lang:"cn",multiple:!1,pagination:!0,dropButton:!0,listSize:10,multipleControlbar:!0,maxSelectLimit:0,selectToCloseList:!1,initRecord:void 0,dbTable:"tbl",keyField:"id",showField:"name",searchField:void 0,andOr:"AND",orderBy:void 0,pageSize:10,params:void 0,formatItem:void 0,autoFillResult:!1,autoSelectFirst:!1,noResultClean:!0,selectOnly:!1,inputDelay:.5,eSelect:void 0,eOpen:void 0,eAjaxSuccess:void 0,eTagRemove:void 0,eClear:void 0},c=function(t,i){e.each({data:"source",keyField:"primaryKey",showField:"field",pageSize:"perPage"},function(e,t){"undefined"!=typeof i[t]&&(i[e]=i[t],delete i[t])}),this.setOption(i),this.setLanguage(),this.setCssClass(),this.setProp(),this.setElem(t),this.setButtonAttrDefault(),this.setInitRecord(),this.eDropdownButton(),this.eInput(),this.eWhole()};c.version="2.18",c.dataKey="selectPageObject",c.prototype.setOption=function(t){t.searchField=t.searchField||t.showField,t.andOr=t.andOr.toUpperCase(),"AND"!==t.andOr&&"OR"!==t.andOr&&(t.andOr="AND");for(var i=["searchField"],n=0;n<i.length;n++)t[i[n]]=this.strToArray(t[i[n]]);t.orderBy=t.orderBy||t.showField,t.orderBy=this.setOrderbyOption(t.orderBy,t.showField),t.multiple&&!t.selectToCloseList&&(t.autoFillResult=!1,t.autoSelectFirst=!1),t.pagination||(t.pageSize=200),("number"!==e.type(t.listSize)||t.listSize<0)&&(t.listSize=10),this.option=t},c.prototype.strToArray=function(e){return e?e.replace(/[\s]+/g,"").split(","):""},c.prototype.setOrderbyOption=function(t,i){var n=[],o=[];if("object"==typeof t)for(var r=0;r<t.length;r++)o=e.trim(t[r]).split(" "),n[r]=2==o.length?o:[o[0],"ASC"];else o=e.trim(t).split(" "),n[0]=2==o.length?o:o[0].match(/^(ASC|DESC)$/i)?[i,o[0]]:[o[0],"ASC"];return n},c.prototype.setLanguage=function(){var e,t=this.option;switch(t.lang){case"en":e={add_btn:"Add button",add_title:"add a box",del_btn:"Del button",del_title:"delete a box",next:"Next",next_title:"Next"+t.pageSize+" (Right key)",prev:"Prev",prev_title:"Prev"+t.pageSize+" (Left key)",first_title:"First (Shift + Left key)",last_title:"Last (Shift + Right key)",get_all_btn:"Get All (Down key)",get_all_alt:"(button)",close_btn:"Close (Tab key)",close_alt:"(button)",loading:"loading...",loading_alt:"(loading)",page_info:"page_num of page_count",select_ng:"Attention : Please choose from among the list.",select_ok:"OK : Correctly selected.",not_found:"not found",ajax_error:"An error occurred while connecting to server.",clear:"Clear content",select_all:"Select current page",unselect_all:"Clear current page",clear_all:"Clear all selected",max_selected:"You can only select up to max_selected_limit items"};break;case"cn":default:e={add_btn:"",add_title:"",del_btn:"",del_title:"",next:"",next_title:""+t.pageSize+" ()",prev:"",prev_title:""+t.pageSize+" ()",first_title:" (Shift + )",last_title:" (Shift + )",get_all_btn:" ()",get_all_alt:"()",close_btn:" (Tab)",close_alt:"()",loading:"...",loading_alt:"()",page_info:" page_num (page_count)",select_ng:".",select_ok:"OK : .",not_found:"",ajax_error:"",clear:"",select_all:"",unselect_all:"",clear_all:"",max_selected:" max_selected_limit "}}this.message=e},c.prototype.setCssClass=function(){var e={container:"sp_container",container_open:"sp_container_open",re_area:"sp_result_area",result_open:"sp_result_area_open",control_box:"sp_control_box",element_box:"sp_element_box",navi:"sp_navi",results:"sp_results",re_off:"sp_results_off",select:"sp_over",select_ok:"sp_select_ok",select_ng:"sp_select_ng",selected:"sp_selected",input_off:"sp_input_off",message_box:"sp_message_box",disabled:"sp_disabled",button:"sp_button",btn_on:"sp_btn_on",btn_out:"sp_btn_out",input:"sp_input",clear_btn:"sp_clear_btn",align_right:"sp_align_right"};this.css_class=e},c.prototype.setProp=function(){this.prop={disabled:!1,current_page:1,max_page:1,is_loading:!1,xhr:!1,key_paging:!1,key_select:!1,prev_value:"",selected_text:"",last_input_time:void 0,init_set:!1},this.template={tag:{content:'<li class="selected_tag" itemvalue="#item_value#">#item_text#<span class="tag_close"><i class="spfont sp-close"></i></span></li>',textKey:"#item_text#",valueKey:"#item_value#"},page:{current:"page_num",total:"page_count"},msg:{maxSelectLimit:"max_selected_limit"}}},c.prototype.elementRealSize=function(t,i){var n,o,r,a={absolute:!1,clone:!1,includeMargin:!1,display:"block"},s=a,l=t.eq(0),c=[],u="";n=function(){r=l.parents().addBack().filter(":hidden"),u+="visibility: hidden !important; display: "+s.display+" !important; ",s.absolute===!0&&(u+="position: absolute !important;"),r.each(function(){var t=e(this),i=t.attr("style");c.push(i),t.attr("style",i?i+";"+u:u)})},o=function(){r.each(function(t){var i=e(this),n=c[t];void 0===n?i.removeAttr("style"):i.attr("style",n)})},n();var d=/(outer)/.test(i)?l[i](s.includeMargin):l[i]();return o(),d},c.prototype.setElem=function(t){var i={},n=this.option,o=this.css_class,r=this.message,a=e(t),s=a.css("width"),l=a.outerWidth();s.indexOf("%")>-1||a.parent().size()>0&&a.parent().width()==l?l="100%":(l<=0&&(l=this.elementRealSize(a,"outerWidth")),l<150&&(l=150)),i.combo_input=a.attr({autocomplete:"off"}).addClass(o.input).wrap("<div>"),n.selectOnly&&i.combo_input.prop("readonly",!0),i.container=i.combo_input.parent().addClass(o.container),i.combo_input.prop("disabled")&&(n.multiple?i.container.addClass(o.disabled):i.combo_input.addClass(o.input_off)),i.container.width(l),i.button=e("<div>").addClass(o.button),i.dropdown=e('<span class="sp_caret"></span>'),i.clear_btn=e("<div>").html(e("<i>").addClass("spfont sp-close")).addClass(o.clear_btn).attr("title",r.clear),n.dropButton||i.clear_btn.addClass(o.align_right),i.element_box=e("<ul>").addClass(o.element_box),n.multiple&&n.multipleControlbar&&(i.control=e("<div>").addClass(o.control_box)),i.result_area=e("<div>").addClass(o.re_area),n.pagination&&(i.navi=e("<div>").addClass("sp_pagination").append("<ul>")),i.results=e("<ul>").addClass(o.results);var c="_text",u=i.combo_input.attr("id")||i.combo_input.attr("name"),d=i.combo_input.attr("name")||"selectPage",p=d,f=u;if(i.hidden=e('<input type="hidden" class="sp_hidden" />').attr({name:p,id:f}).val(""),i.combo_input.attr({name:"undefined"!=typeof a.data("name")?a.data("name"):d+c,id:u+c}),i.container.append(i.hidden),n.dropButton&&(i.container.append(i.button),i.button.append(i.dropdown)),e(document.body).append(i.result_area),i.result_area.append(i.results),n.pagination&&i.result_area.append(i.navi),n.multiple){n.multipleControlbar&&(i.control.append('<button type="button" class="btn btn-default sp_clear_all" ><i class="spfont sp-clear"></i></button>'),i.control.append('<button type="button" class="btn btn-default sp_unselect_all" ><i class="spfont sp-unselect-all"></i></button>'),i.control.append('<button type="button" class="btn btn-default sp_select_all" ><i class="spfont sp-select-all"></i></button>'),i.control_text=e("<p>"),i.control.append(i.control_text),i.result_area.prepend(i.control)),i.container.addClass("sp_container_combo"),i.combo_input.addClass("sp_combo_input").before(i.element_box);var h=e("<li>").addClass("input_box");h.append(i.combo_input),i.element_box.append(h),i.combo_input.attr("placeholder")&&i.combo_input.attr("placeholder_bak",i.combo_input.attr("placeholder"))}this.elem=i},c.prototype.setButtonAttrDefault=function(){this.option.dropButton&&this.elem.button.attr("title",this.message.close_btn)},c.prototype.setInitRecord=function(t){var i=this,n=i.option,o=i.elem,r="";if("undefined"!=e.type(o.combo_input.data("init"))&&(n.initRecord=String(o.combo_input.data("init"))),t||n.initRecord||!o.combo_input.val()||(n.initRecord=o.combo_input.val()),o.combo_input.val(""),t||o.hidden.val(n.initRecord),r=t&&o.hidden.val()?o.hidden.val():n.initRecord)if("object"==typeof n.data){var a=new Array,s=r.split(",");e.each(s,function(e,t){for(var i=0;i<n.data.length;i++)if(n.data[i][n.keyField]==t){a.push(n.data[i]);break}}),!n.multiple&&a.length>1&&(a=[a[0]]),i.afterInit(i,a)}else{var l=n.params,c={},u=(n.searchField,{searchTable:n.dbTable,searchKey:n.keyField,searchValue:r,orderBy:n.orderBy,showField:n.showField,keyField:n.keyField,keyValue:r,searchField:n.searchField});if(l){var d=e.isFunction(l)?l(i):l;c=d&&e.isPlainObject(d)?e.extend({},u,d):u}else c=u;e.ajax({dataType:"json",type:"POST",url:n.data,data:c,success:function(t){var o=null;n.eAjaxSuccess&&e.isFunction(n.eAjaxSuccess)&&(o=n.eAjaxSuccess(t)),i.afterInit(i,o.list)},error:function(e,t,n){i.ajaxErrorNotify(i,n)}})}},c.prototype.afterInit=function(t,i){if(i&&(!e.isArray(i)||0!==i.length)){e.isArray(i)||(i=[i]);var n=t.option,o=t.css_class,r=function(t){var i=t[n.showField];if(n.formatItem&&e.isFunction(n.formatItem))try{i=n.formatItem(t)}catch(e){}return i};if(n.multiple)t.prop.init_set=!0,t.clearAll(t),e.each(i,function(e,i){var o={text:r(i),value:i[n.keyField]};t.isAlreadySelected(t,o)||t.addNewTag(t,o)}),t.tagValuesSet(t),t.inputResize(t),console.log(t.elem.hidden.blur()),t.prop.init_set=!1;else{var a=i[0];t.elem.combo_input.val(r(a)),t.elem.hidden.val(a[n.keyField]),t.prop.prev_value=r(a),t.prop.selected_text=r(a),n.selectOnly&&t.elem.combo_input.attr("title",t.message.select_ok).removeClass(o.select_ng).addClass(o.select_ok),t.putClearButton()}}},c.prototype.eDropdownButton=function(){var e=this;e.option.dropButton&&e.elem.button.mouseup(function(t){t.stopPropagation(),e.elem.result_area.is(":hidden")&&!e.elem.combo_input.prop("disabled")?e.elem.combo_input.focus():e.hideResults(e)})},c.prototype.eInput=function(){var t=this,i=t.option,n=t.elem,o=t.message,r=function(){t.prop.page_move=!1,t.suggest(t),t.setCssFocusedInput(t)};n.combo_input.keyup(function(e){t.processKey(t,e)}).keydown(function(e){t.processControl(t,e)}).focus(function(e){n.result_area.is(":hidden")&&(e.stopPropagation(),t.prop.first_show=!0,r())}),n.container.on("click.SelectPage","div."+t.css_class.clear_btn,function(n){n.stopPropagation(),t.disabled(t)||(t.clearAll(t),t.elem.hidden.change(),i.eClear&&e.isFunction(i.eClear)&&i.eClear(t))}),n.result_area.on("mousedown.SelectPage",function(e){e.stopPropagation()}),i.multiple&&(i.multipleControlbar&&(n.control.find(".sp_select_all").on("click.SelectPage",function(e){t.selectAllLine(t)}).hover(function(){n.control_text.html(o.select_all)},function(){n.control_text.html("")}),n.control.find(".sp_unselect_all").on("click.SelectPage",function(e){t.unSelectAllLine(t)}).hover(function(){n.control_text.html(o.unselect_all)},function(){n.control_text.html("")}),n.control.find(".sp_clear_all").on("click.SelectPage",function(e){t.clearAll(t)}).hover(function(){n.control_text.html(o.clear_all)},function(){n.control_text.html("")})),n.element_box.on("click.SelectPage",function(t){var i=t.target||t.srcElement;e(i).is("ul")&&n.combo_input.focus()}),n.element_box.on("click.SelectPage","span.tag_close",function(){var n=e(this).closest("li");t.removeTag(t,n),r(),i.eTagRemove&&e.isFunction(i.eTagRemove)&&i.eTagRemove(1,t)}),t.inputResize(t))},c.prototype.eWhole=function(){var t=this,i=t.css_class,n=function(e){e.elem.combo_input.val(""),e.option.multiple||e.elem.hidden.val(""),e.prop.selected_text=""};e(document.body).off("mousedown.selectPage").on("mousedown.selectPage",function(t){var o=t.target||t.srcElement,r=e(o).closest("div."+i.container);e("div."+i.container+"."+i.container_open).each(function(){if(this!=r[0]){var t=e(this),o=t.find("input."+i.input).data(c.dataKey);return o.elem.combo_input.val()||!o.elem.hidden.val()||o.option.multiple?void(o.elem.results.find("li").not("."+i.message_box).size()?o.option.autoFillResult?o.elem.hidden.val()?o.hideResults(o):o.elem.results.find("li.sp_over").size()?o.selectCurrentLine(o,!0):o.option.autoSelectFirst?(o.nextLine(o),o.selectCurrentLine(o,!0)):o.hideResults(o):o.hideResults(o):(o.option.noResultClean?n(o):o.option.multiple||o.elem.hidden.val(""),o.hideResults(o))):(o.prop.current_page=1,n(o),o.hideResults(o),!0)}})})},c.prototype.eResultList=function(){var t=this,i=this.css_class;t.elem.results.children("li").hover(function(){return t.prop.key_select?void(t.prop.key_select=!1):void(e(this).hasClass(i.selected)||e(this).hasClass(i.message_box)||(e(this).addClass(i.select),t.setCssFocusedResults(t)))},function(){e(this).removeClass(i.select)}).click(function(n){return t.prop.key_select?void(t.prop.key_select=!1):(n.preventDefault(),n.stopPropagation(),void(e(this).hasClass(i.selected)||t.selectCurrentLine(t,!1)))})},c.prototype.eScroll=function(){var t=this.css_class;e(window).on("scroll.SelectPage",function(i){e("div."+t.container+"."+t.container_open).each(function(){var i=e(this),n=i.find("input."+t.input).data(c.dataKey),o=n.elem.result_area.offset(),r=e(window).scrollTop(),a=e(document).height(),s=e(window).height(),l=n.elem.result_area.outerHeight(),u=o.top+l,d=a>s,p=n.elem.result_area.hasClass("shadowDown");d&&(p?u>s+r&&n.calcResultsSize(n):o.top<r&&n.calcResultsSize(n))})})},c.prototype.ePaging=function(){var e=this;e.option.pagination&&(e.elem.navi.find("li.csFirstPage").off("click").on("click",function(t){t.preventDefault(),e.firstPage(e)}),e.elem.navi.find("li.csPreviousPage").off("click").on("click",function(t){t.preventDefault(),e.prevPage(e)}),e.elem.navi.find("li.csNextPage").off("click").on("click",function(t){t.preventDefault(),e.nextPage(e)}),e.elem.navi.find("li.csLastPage").off("click").on("click",function(t){t.preventDefault(),e.lastPage(e)}))},c.prototype.ajaxErrorNotify=function(e,t){e.showMessage(e.message.ajax_error)},c.prototype.showMessage=function(e,t){if(t){var i='<li class="'+e.css_class.message_box+'"><i class="spfont sp-warning"></i> '+t+"</li>";e.elem.results.empty().append(i).show(),e.calcResultsSize(e),e.setOpenStatus(e,!0),e.elem.control.hide(),e.option.pagination&&e.elem.navi.hide()}},c.prototype.scrollWindow=function(t,i){var n,o=t.getCurrentLine(t),r=o&&!i?o.offset().top:t.elem.container.offset().top;t.prop.size_li=t.elem.results.children("li:first").outerHeight(),n=t.prop.size_li;var a,s=e(window).height(),l=e(window).scrollTop(),c=l+s-n;if(o.length)if(r<l||n>s)a=r-l;else{if(!(r>c))return;a=r-c}else r<l&&(a=r-l);window.scrollBy(0,a)},c.prototype.setOpenStatus=function(e,t){var i=e.elem,n=e.css_class;t?(i.container.addClass(n.container_open),i.result_area.addClass(n.result_open)):(i.container.removeClass(n.container_open),i.result_area.removeClass(n.result_open))},c.prototype.setCssFocusedInput=function(e){},c.prototype.setCssFocusedResults=function(e){},c.prototype.checkValue=function(e){var t=e.elem.combo_input.val();t!=e.prop.prev_value&&(e.prop.prev_value=t,e.prop.first_show=!1,e.option.selectOnly&&e.setButtonAttrDefault(),e.option.multiple||t||(e.elem.combo_input.val(""),e.elem.hidden.val(""),e.elem.clear_btn.remove()),e.suggest(e))},c.prototype.processKey=function(t,i){e.inArray(i.keyCode,[37,38,39,40,27,9,13])===-1&&(16!=i.keyCode&&t.setCssFocusedInput(t),t.inputResize(t),"string"===e.type(t.option.data)?(t.prop.last_input_time=i.timeStamp,setTimeout(function(){i.timeStamp-t.prop.last_input_time===0&&t.checkValue(t)},1e3*t.option.inputDelay)):t.checkValue(t))},c.prototype.processControl=function(t,i){if(e.inArray(i.keyCode,[37,38,39,40,27,9])>-1&&t.elem.result_area.is(":visible")||e.inArray(i.keyCode,[13,9])>-1&&t.getCurrentLine(t))switch(i.preventDefault(),i.stopPropagation(),i.cancelBubble=!0,i.returnValue=!1,i.keyCode){case 37:i.shiftKey?t.firstPage(t):t.prevPage(t);break;case 38:t.prop.key_select=!0,t.prevLine(t);break;case 39:i.shiftKey?t.lastPage(t):t.nextPage(t);break;case 40:t.elem.results.children("li").length?(t.prop.key_select=!0,t.nextLine(t)):t.suggest(t);break;case 9:t.prop.key_paging=!0,t.selectCurrentLine(t,!0);break;case 13:t.selectCurrentLine(t,!0);break;case 27:t.prop.key_paging=!0,t.hideResults(t)}},c.prototype.abortAjax=function(e){e.prop.xhr&&(e.prop.xhr.abort(),e.prop.xhr=!1)},c.prototype.suggest=function(t){var i,n=e.trim(t.elem.combo_input.val());i=t.option.multiple?n:n&&n===t.prop.selected_text?"":n,i=i.split(/[\s]+/),t.option.eOpen&&e.isFunction(t.option.eOpen)&&t.option.eOpen.call(t),t.abortAjax(t);var o=t.prop.current_page||1;"object"==typeof t.option.data?t.searchForJson(t,i,o):t.searchForDb(t,i,o)},c.prototype.setLoading=function(e){""===e.elem.results.html()&&e.setOpenStatus(e,!0)},c.prototype.searchForDb=function(t,i,n){var o=t.option;o.eAjaxSuccess&&e.isFunction(o.eAjaxSuccess)||t.hideResults(t);var r=o.params,a={},s=o.searchField;i.length&&i[0]&&i[0]!==t.prop.prev_value&&(n=1);var l={q_word:i,pageNumber:n,pageSize:o.pageSize,andOr:o.andOr,orderBy:o.orderBy,searchTable:o.dbTable,showField:t.option.showField,keyField:t.option.keyField,searchField:t.option.searchField};if(l[s]=i[0],r){var c=e.isFunction(r)?r(t):r;a=c&&e.isPlainObject(c)?e.extend({},l,c):l}else a=l;t.prop.xhr=e.ajax({dataType:"json",url:o.data,type:"POST",data:a,success:function(r){if(!r||!e.isPlainObject(r))return t.hideResults(t),void t.ajaxErrorNotify(t,errorThrown);var a={},s={};try{a=o.eAjaxSuccess(r),s.originalResult=a.list,s.cnt_whole=a.totalRow}catch(e){return void t.showMessage(t,t.message.ajax_error)}if(t.elem.navi&&e(t.elem.navi).toggleClass("hide",s.cnt_whole<=s.originalResult.length),s.candidate=[],s.keyField=[],"object"!=typeof s.originalResult)return t.prop.xhr=null,void t.notFoundSearch(t);s.cnt_page=s.originalResult.length;for(var l=0;l<s.cnt_page;l++)for(var c in s.originalResult[l])c==o.keyField&&s.keyField.push(s.originalResult[l][c]),c==o.showField&&s.candidate.push(s.originalResult[l][c]);t.prepareResults(t,s,i,n)},error:function(e,i,n){"abort"!=i&&(t.hideResults(t),t.ajaxErrorNotify(t,n))},complete:function(){t.prop.xhr=null}})},c.prototype.searchForJson=function(t,i,n){var o=t.option,r=[],a=[],s=[],l={},c=0,u=[];do a[c]=i[c].replace(/\W/g,"\\$&").toString(),u[c]=new RegExp(a[c],"gi"),c++;while(c<i.length);for(c=0;c<o.data.length;c++){for(var d,p=!1,f=o.data[c],h=0;h<u.length;h++)if(d=f[o.searchField],o.formatItem&&e.isFunction(o.formatItem)&&(d=o.formatItem(f)),d.match(u[h])){if(p=!0,"OR"==o.andOr)break}else if(p=!1,"AND"==o.andOr)break;p&&r.push(f)}var m=new RegExp("^"+a[0]+"$","gi"),g=new RegExp("^"+a[0],"gi"),y=[],v=[],b=[];for(c=0;c<r.length;c++){var w=o.orderBy[0][0],x=String(r[c][w]);x.match(m)?y.push(r[c]):x.match(g)?v.push(r[c]):b.push(r[c])}if(o.orderBy[0][1].match(/^asc$/i)?(y=t.sortAsc(t,y),v=t.sortAsc(t,v),b=t.sortAsc(t,b)):(y=t.sortDesc(t,y),v=t.sortDesc(t,v),b=t.sortDesc(t,b)),s=s.concat(y).concat(v).concat(b),l.cnt_whole=s.length,t.prop.page_move)s.length<=(n-1)*o.pageSize&&(n=1,t.prop.current_page=1);else if(!o.multiple){var _=t.elem.hidden.val();if("undefined"!==e.type(_)&&""!==e.trim(_)){var S=0;e.each(s,function(e,t){if(t[o.keyField]==_)return S=e+1,!1}),n=Math.ceil(S/o.pageSize),n<1&&(n=1),t.prop.current_page=n}}var T=(n-1)*o.pageSize,E=T+o.pageSize;for(l.originalResult=[],c=T;c<E&&void 0!==s[c];c++){l.originalResult.push(s[c]);for(var C in s[c])C==o.keyField&&(void 0===l.keyField&&(l.keyField=[]),l.keyField.push(s[c][C])),C==o.showField&&(void 0===l.candidate&&(l.candidate=[]),l.candidate.push(s[c][C]))}void 0===l.candidate&&(l.candidate=[]),l.cnt_page=l.candidate.length,t.prepareResults(t,l,i,n)},c.prototype.sortAsc=function(t,i){return i.sort(function(i,n){var o=i[t.option.orderBy[0][0]],r=n[t.option.orderBy[0][0]];return"number"===e.type(o)?o-r:String(o).localeCompare(String(r))}),i},c.prototype.sortDesc=function(t,i){return i.sort(function(i,n){var o=i[t.option.orderBy[0][0]],r=n[t.option.orderBy[0][0]];return"number"===e.type(o)?r-o:String(r).localeCompare(String(o))}),i},c.prototype.notFoundSearch=function(e){e.elem.results.empty(),e.calcResultsSize(e),e.setOpenStatus(e,!0),e.setCssFocusedInput(e)},c.prototype.prepareResults=function(e,t,i,n){e.option.pagination&&e.setNavi(e,t.cnt_whole,t.cnt_page,n),t.keyField||(t.keyField=!1),e.option.selectOnly&&1===t.candidate.length&&t.candidate[0]==i[0]&&(e.elem.hidden.val(t.keyField[0]),this.setButtonAttrDefault());var o=!1;i&&i.length&&i[0]&&(o=!0),e.displayResults(e,t,o)},c.prototype.setNavi=function(e,t,i,n){var o=e.message,r=function(e,t,i,n){var r=function(){var t=o.page_info;return t.replace(e.template.page.current,i).replace(e.template.page.total,n)};if(0===t.find("li").size()){t.hide().empty();var a="spfont sp-first",s="spfont sp-previous",l="spfont sp-next",c="spfont sp-last";t.append('<li class="csFirstPage" title="'+o.first_title+'" ><a href="javascript:void(0);"> <i class="'+a+'"></i> </a></li>'),t.append('<li class="csPreviousPage" title="'+o.prev_title+'" ><a href="javascript:void(0);"><i class="'+s+'"></i></a></li>'),t.append('<li class="pageInfoBox"><a href="javascript:void(0);"> '+r()+" </a></li>"),t.append('<li class="csNextPage" title="'+o.next_title+'" ><a href="javascript:void(0);"><i class="'+l+'"></i></a></li>'),t.append('<li class="csLastPage" title="'+o.last_title+'" ><a href="javascript:void(0);"> <i class="'+c+'"></i> </a></li>'),t.show()}else t.find("li.pageInfoBox a").html(r())},a=e.elem.navi.find("ul"),s=Math.ceil(t/e.option.pageSize);0===s?n=0:s<n?n=s:0===n&&(n=1),e.prop.current_page=n,e.prop.max_page=s,r(e,a,n,s);var l="disabled",c=a.find("li.csFirstPage"),u=a.find("li.csPreviousPage"),d=a.find("li.csNextPage"),p=a.find("li.csLastPage");1===n||0===n?(c.hasClass(l)||c.addClass(l),u.hasClass(l)||u.addClass(l)):(c.hasClass(l)&&c.removeClass(l),u.hasClass(l)&&u.removeClass(l)),n===s||0===s?(d.hasClass(l)||d.addClass(l),p.hasClass(l)||p.addClass(l)):(d.hasClass(l)&&d.removeClass(l),p.hasClass(l)&&p.removeClass(l)),s>1&&e.ePaging()},c.prototype.displayResults=function(t,i,n){var o=t.option,r=t.elem;if(r.results.hide().empty(),o.multiple&&"number"===e.type(o.maxSelectLimit)&&o.maxSelectLimit>0){var a=r.element_box.find("li.selected_tag").size();if(a>0&&a>=o.maxSelectLimit){var s=t.message.max_selected;return void t.showMessage(t,s.replace(t.template.msg.maxSelectLimit,o.maxSelectLimit))}}if(i.candidate.length)for(var l=i.candidate,c=i.keyField,u=r.hidden.val(),d=u?u.split(","):new Array,p="",f=0;f<l.length;f++){if(o.formatItem&&e.isFunction(o.formatItem))try{p=o.formatItem(i.originalResult[f])}catch(e){console.error("formatItem"),p=l[f]}else p=l[f];var h=e("<li>").html(p).attr({pkey:c[f]});o.formatItem||h.attr("title",p),e.inArray(c[f].toString(),d)!==-1&&h.addClass(t.css_class.selected),h.data("dataObj",i.originalResult[f]),r.results.append(h)}else{var m='<li class="'+t.css_class.message_box+'"><i class="spfont sp-warning"></i> '+t.message.not_found+"</li>";r.results.append(m)}r.results.show(),o.multiple&&o.multipleControlbar&&r.control.show(),o.pagination&&r.navi.show(),t.calcResultsSize(t),t.setOpenStatus(t,!0),t.eResultList(),t.eScroll(),n&&i.candidate.length&&o.autoSelectFirst&&t.nextLine(t)},c.prototype.calcResultsSize=function(t){var i=t.option,n=t.elem,o=function(){if("static"!==n.container.css("position")){if(!i.pagination){var t=n.results.find("li:first").outerHeight(!0),o=t*i.listSize;n.results.css({"max-height":o,"overflow-y":"auto"})}var r=e(document).width(),a=e(document).height(),s=e(window).height(),l=n.container.offset(),c=e(window).scrollTop(),u=n.result_area.outerWidth(),o=n.result_area.outerHeight(),d=l.left,p=n.container.outerHeight(),f=l.left+u>r?d-(u-n.container.outerWidth()):d,h=l.top,m=0,g=5,y=h+p+o+g,v=a>s;return h-c-g>o&&v&&y>s+c||!v&&y>s?(m=l.top-o-g,n.result_area.removeClass("shadowUp shadowDown").addClass("shadowUp")):(m=l.top+(i.multiple?n.container.outerHeight():p),n.result_area.removeClass("shadowUp shadowDown").addClass("shadowDown"),m+=g),{top:m+"px",left:f+"px"}}var l=n.combo_input.offset();n.result_area.css({top:l.top+n.combo_input.outerHeight()+"px",left:l.left+"px"})};if(n.result_area.is(":visible"))n.result_area.css(o());else{var r=o();n.result_area.css(r).show(1,function(){var e=o();r.top===e.top&&r.left===e.left||n.result_area.css(e)})}},c.prototype.hideResults=function(t){t.prop.key_paging&&(t.scrollWindow(t,!0),t.prop.key_paging=!1),t.setCssFocusedInput(t),t.option.autoFillResult,t.elem.results.empty(),t.elem.result_area.hide(),t.setOpenStatus(t,!1),e(window).off("scroll.SelectPage"),t.abortAjax(t),t.setButtonAttrDefault()},c.prototype.disabled=function(t,i){var n=(t.option,t.elem);return"undefined"===e.type(i)?n.combo_input.prop("disabled"):void("boolean"===e.type(i)&&(n.combo_input.prop("disabled",i),i?n.container.addClass(t.css_class.disabled):n.container.removeClass(t.css_class.disabled)))},c.prototype.firstPage=function(e){e.prop.current_page>1&&(e.prop.current_page=1,e.prop.page_move=!0,e.suggest(e))},c.prototype.prevPage=function(e){e.prop.current_page>1&&(e.prop.current_page--,e.prop.page_move=!0,e.suggest(e))},c.prototype.nextPage=function(e){e.prop.current_page<e.prop.max_page&&(e.prop.current_page++,e.prop.page_move=!0,e.suggest(e))},c.prototype.lastPage=function(e){e.prop.current_page<e.prop.max_page&&(e.prop.current_page=e.prop.max_page,e.prop.page_move=!0,e.suggest(e))},c.prototype.afterAction=function(e){e.inputResize(e),e.elem.combo_input.change(),e.setCssFocusedInput(e),e.prop.init_set||(e.option.multiple?e.option.selectToCloseList?(e.hideResults(e),e.elem.combo_input.blur()):(e.suggest(e),e.elem.combo_input.focus()):(e.hideResults(e),e.elem.combo_input.blur()))},c.prototype.selectCurrentLine=function(t,i){t.scrollWindow(t,!0);var n=t.option,o=t.getCurrentLine(t);if(o){if(n.multiple){t.elem.combo_input.val("");var r={text:o.text(),value:o.attr("pkey")};t.isAlreadySelected(t,r)||(t.addNewTag(t,r),t.tagValuesSet(t))}else t.elem.combo_input.val(o.text()),t.elem.hidden.val(o.attr("pkey"));n.selectOnly&&t.setButtonAttrDefault(),n.eSelect&&e.isFunction(n.eSelect)&&n.eSelect(o.data("dataObj"),t),t.prop.prev_value=t.elem.combo_input.val(),t.prop.selected_text=t.elem.combo_input.val(),t.putClearButton()}t.afterAction(t)},c.prototype.putClearButton=function(){this.option.multiple||this.elem.combo_input.prop("disabled")||this.elem.container.append(this.elem.clear_btn)},c.prototype.selectAllLine=function(t){var i=t.option,n=new Array;t.elem.results.find("li").each(function(o,r){var a=e(r),s={text:a.text(),value:a.attr("pkey")};if(t.isAlreadySelected(t,s)||(t.addNewTag(t,s),t.tagValuesSet(t)),n.push(a.data("dataObj")),"number"===e.type(i.maxSelectLimit)&&i.maxSelectLimit>0&&i.maxSelectLimit===t.elem.element_box.find("li.selected_tag").size())return!1}),i.eSelect&&e.isFunction(i.eSelect)&&i.eSelect(n,t),t.afterAction(t)},c.prototype.unSelectAllLine=function(t){var i=t.option,n=t.elem.results.find("li").size();t.elem.results.find("li").each(function(i,n){var o=e(n).attr("pkey"),r=t.elem.element_box.find('li.selected_tag[itemvalue="'+o+'"]');t.removeTag(t,r)}),t.afterAction(t),i.eTagRemove&&e.isFunction(i.eTagRemove)&&i.eTagRemove(n,t)},c.prototype.clearAll=function(t){var i=t.option,n=0;i.multiple&&(n=t.elem.element_box.find("li.selected_tag").size(),t.elem.element_box.find("li.selected_tag").remove()),t.reset(t),t.afterAction(t),i.multiple||t.elem.clear_btn.remove(),i.multiple&&i.eTagRemove&&e.isFunction(i.eTagRemove)&&i.eTagRemove(n,t)},c.prototype.reset=function(e){e.elem.combo_input.val(""),e.elem.hidden.val(""),e.prop.prev_value="",e.prop.selected_text="",e.prop.current_page=1},c.prototype.getCurrentLine=function(e){if(e.elem.result_area.is(":hidden"))return!1;var t=e.elem.results.find("li."+e.css_class.select);return!!t.size()&&t},c.prototype.isAlreadySelected=function(t,i){var n=!1;if(i.value){var o=t.elem.hidden.val();if(o){var r=o.split(",");r&&r.length&&e.inArray(i.value,r)!=-1&&(n=!0)}}return n},c.prototype.addNewTag=function(t,i){if(t.option.multiple&&i){var n,o=t.template.tag.content;o=o.replace(t.template.tag.textKey,i.text),o=o.replace(t.template.tag.valueKey,i.value),n=e(o),t.elem.combo_input.prop("disabled")&&n.find("span.tag_close").hide(),t.elem.combo_input.closest("li").before(n)}},c.prototype.removeTag=function(t,i){var n=e(i).attr("itemvalue"),o=t.elem.hidden.val();if("undefined"!=e.type(n)&&o){var r=o.split(","),a=e.inArray(n.toString(),r);a!=-1&&(r.splice(a,1),t.elem.hidden.val(r.toString()))}e(i).remove(),t.afterAction(t)},c.prototype.tagValuesSet=function(t){if(t.option.multiple){var i=t.elem.element_box.find("li.selected_tag");if(i&&i.size()){var n=new Array;e.each(i,function(t,i){var o=e(i).attr("itemvalue");"undefined"!==e.type(o)&&n.push(o)}),n.length&&t.elem.hidden.val(n.join(","))}}},c.prototype.inputResize=function(e){if(e.option.multiple){var t=e.elem.combo_input.closest("li"),i=function(e,t){t.removeClass("full_width");var i=e.elem.combo_input.val().length+1,n=.75*i+"em";e.elem.combo_input.css("width",n).removeAttr("placeholder")};0===e.elem.element_box.find("li.selected_tag").size()&&e.elem.combo_input.attr("placeholder_bak")?(t.hasClass("full_width")||t.addClass("full_width"),e.elem.combo_input.attr("placeholder",e.elem.combo_input.attr("placeholder_bak")).removeAttr("style")):i(e,t)}},c.prototype.nextLine=function(e){var t,i=e.getCurrentLine(e);if(i?(t=e.elem.results.children("li").index(i),i.removeClass(e.css_class.select)):t=-1,t++,t<e.elem.results.children("li").length){var n=e.elem.results.children("li").eq(t);n.addClass(e.css_class.select),e.setCssFocusedResults(e)}else e.setCssFocusedInput(e);e.scrollWindow(e,!1)},c.prototype.prevLine=function(e){var t,i=e.getCurrentLine(e);if(i?(t=e.elem.results.children("li").index(i),i.removeClass(e.css_class.select)):t=e.elem.results.children("li").length,t--,t>-1){var n=e.elem.results.children("li").eq(t);n.addClass(e.css_class.select),e.setCssFocusedResults(e)}else e.setCssFocusedInput(e);e.scrollWindow(e,!1)};var u=e.fn.selectPage;e.fn.selectPage=t,e.fn.selectPage.Constructor=c,e.fn.selectPageClear=n,e.fn.selectPageRefresh=o,e.fn.selectPageData=r,
e.fn.selectPageDisabled=a,e.fn.selectPageText=s,e.fn.selectPage.noConflict=function(){return e.fn.selectPage=u,this}}(window.jQuery),define("selectpage",function(){});